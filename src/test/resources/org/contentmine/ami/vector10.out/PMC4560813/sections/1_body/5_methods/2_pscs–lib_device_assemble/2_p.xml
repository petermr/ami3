<?xml version="1.0" encoding="UTF-8"?>
<p>For the PSC construction, ITO glass substrates were cleaned sequentially with detergent, de-ionized water, acetone and iso-propanol, followed by drying with N
 <sub>2</sub> flow and ultraviolet–ozone treatment for 15 min. The PEDOT:PSS solution (Al4083 from H. C. Starck) was spin-cast onto ITO electrodes at 5,000 r.p.m. for 40 s. The PEDOT:PSS film was annealed at 140 °C for 10 min to remove residual water. The ITO/PEDOT:PSS substrate was then transferred to evaporator in an Ar-filled glove box for PbI
 <sub>2</sub> evaporation (125 nm), followed by dipping the PbI
 <sub>2</sub>-deposited substrate into a solution of CH
 <sub>3</sub>NH
 <sub>3</sub>I in 2-propanol (10 mg ml
 <sup>−1</sup>) for 40 s to form the CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite layer and being rinsed with 2-propanol for 10 s. Similarly, a second PbI
 <sub>2</sub> layer was thermally evaporated onto the pre-formed first layer of CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite film, followed by dipping into the CH
 <sub>3</sub>NH
 <sub>3</sub>I solution to form the second layer of CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite, and the process was repeated for three times for a desired thickness. The CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite was then thermally annealed at 100 °C for 10 min in the glove box to complete crystallization for the perovskite film. After the thermal annealing, PC61BM in chlorobenzene solution (17 mg ml
 <sup>−1</sup>) was deposited onto the perovskite layer by spin coating at 1,000 r.p.m. for 60 s. Finally, the device was transferred to the evaporator for thermal evaporation of Ca (20 nm) and Al (100 nm) at 10
 <sup>−7</sup> torr. All the devices were tested in an Ar-filled glove box using a Keithley 2400 source meter and a Newport Oriel sol 2A solar simulator (300 W). We used the 91150V Reference Cell and Meter (ORIEL instrument) to calibrate the light intensity to be 100 mW cm
 <sup>−2</sup> before the device testing. The device performance parameters were obtained from the current–voltage curves of the solar cells under illumination. The IPCE was measured on a Solar Cell Measurement System from PV Measurement Inc. The PSCs (single PSC or four single PSCs connected in series) thus fabricted were kept in the glove box under high-purity Ar gas for further electrochemical measurements and long-time rest measurements. The PSCs–LIB units were fabricated by integrating PSCs and a LIB into the system, as shown in 
 <xref ref-type="fig" rid="f1">Fig. 1</xref>.
</p>
