<?xml version="1.0" encoding="UTF-8"?>
<p>To construct the PSCs–LIB system shown in 
 <xref ref-type="fig" rid="f1">Fig. 1</xref>, we first fabricated PSCs with a device structure of ITO (indium tin oxide)/poly(3,4-ethylenedioxythiophene):poly(styrenesulfonate) (PEDOT:PSS) (40 nm)/CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> (perovskite) (375 nm)/[6,6]-phenyl-C61-butyric acid methyl ester (PC61BM) (100 nm)/Ca (20 nm)/Al (100 nm). 
 <xref ref-type="supplementary-material" rid="S1">Supplementary Fig. 1</xref> schematically shows structures of the perovskite material and solar cell device while their characterization and fabrication details can be found in 
 <xref ref-type="supplementary-material" rid="S1">Supplementary Note 1</xref> and 
 <xref ref-type="supplementary-material" rid="S1">Supplementary Methods</xref>. The CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite layer was prepared according to our previously reported layer-by-layer process
 <xref ref-type="bibr" rid="b29">29</xref>. Briefly, we first thermally evaporated a thin (125 nm) layer of lead iodide (PbI
 <sub>2</sub>) onto a PEDOT:PSS layer pre-coated on an ITO/glass substrate (
 <xref ref-type="supplementary-material" rid="S1">Supplementary Fig. 1</xref>). Subsequently, we dipped the PbI
 <sub>2</sub> into a solution of CH
 <sub>3</sub>NH
 <sub>3</sub>I in 2-propanol (10 mg ml
 <sup>−1</sup>) to transfer it into a layer of CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite. Similarly, a second PbI
 <sub>2</sub> layer (125 nm) was thermally evaporated onto the newly formed CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite film, followed by dipping into the CH
 <sub>3</sub>NH
 <sub>3</sub>I solution to form the second layer of CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite intimately contacted with the underlying pre-formed CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite layer. The above process was repeated three times to form an interface-free uniform CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite layer of a desirable total thickness for outstanding photovoltaic performance required for photo-charging LIBs. The individual layer thickness of PbI
 <sub>2</sub> was optimized at 125 nm as a thinner layer PbI
 <sub>2</sub> (&lt;125 nm) cannot ensure pinhole free, whereas a thicker PbI
 <sub>2</sub> (&gt;125 nm) cannot be totally transformed into CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite (
 <xref ref-type="supplementary-material" rid="S1">Supplementary Fig. 2a</xref>). A typical scanning electron microscopy image for the resultant CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite film is given in 
 <xref ref-type="supplementary-material" rid="S1">Supplementary Fig. 2b</xref>, which shows a uniform, pinhole-free morphology. 
 <xref ref-type="supplementary-material" rid="S1">Supplementary Fig. 2c</xref> shows a typical X-ray diffraction pattern with peaks at 13.68°, 24.01°, 28.04° and 42.80° characteristic of the (110), (202), (220) and (330) diffractions, respectively, from the tetragonal CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite, indicating a complete transformation of the three-layered PbI
 <sub>2</sub> with a total thickness of 375 nm into the CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite film. Further evidence for the complete conversion of the PbI
 <sub>2</sub> layer into the CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite film came from the optical absorption spectrum given in 
 <xref ref-type="supplementary-material" rid="S1">Supplementary Fig. 2d</xref>, which shows a broad band with an onset at 770 nm characteristic of the CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite. The chemical composition of the CH
 <sub>3</sub>NH
 <sub>3</sub>PbI
 <sub>3</sub> perovskite film was measured by X-ray photoelectron spectroscopy (XPS). 
 <xref ref-type="supplementary-material" rid="S1">Supplementary Fig. 3a</xref> shows an XPS survey spectrum while 
 <xref ref-type="supplementary-material" rid="S1">Supplementary Fig. 3b–e</xref> reproduce the high-resolution XPS spectra of C 1s, I 3d, Pb 4f and N 1s, respectively. Numerical data from the XPS measurements are listed in 
 <xref ref-type="supplementary-material" rid="S1">Supplementary Table 2</xref>. As expected, the atomic ratio of I/Pb was found to be 2.85, which is close to the stoichiometric value of 3.
</p>
