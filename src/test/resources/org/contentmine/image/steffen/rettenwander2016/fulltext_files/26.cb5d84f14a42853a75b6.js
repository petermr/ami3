(window.figshareJsonp=window.figshareJsonp||[]).push([[26],{1123:function(e,n,t){var r=t(1124);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},1124:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,".frontend-widgets-filesViewerGeneric-theme-module__primaryButton--3Vq4Z {\n  position: relative;\n  background: #62422b;\n  border: 1px solid #ddd;\n  color: #fff;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__primaryButton--3Vq4Z:hover {\n  background: #ac703d;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__primaryButton--3Vq4Z[disabled] {\n  background: #bbb;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__primaryIconButton--3FV1N {\n  padding: 0;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__secondaryButton--o14vH {\n  position: relative;\n  background: #fff;\n  border: 1px solid #ddd;\n  color: #62422b;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__secondaryButton--o14vH:hover {\n  color: #ac703d;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__secondaryButton--o14vH[disabled] {\n  background: #eee;\n  color: #999;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__secondaryIconButton--1ebEU {\n  padding: 0;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__iconButton--3VDEw {\n  position: relative;\n  color: #62422b;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__iconButton--3VDEw:hover {\n  color: #ac703d;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__enlargedMode_toggleListButton--2YKO4 {\n  border-color: #62422b;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__enlargedMode_toggleListButton--2YKO4:hover {\n  border-color: #ac703d;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__enlargedMode_closeOverlayButton--1i4Sh {\n  border-color: #62422b;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__enlargedMode_closeOverlayButton--1i4Sh:hover {\n  border-color: #ac703d;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__enlargedMode_downloadButton_desktop--3XPZF {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__enlargedMode_downloadButton_mobile--_Zlic {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__inlineMode_prevFileButton--3DqoQ {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__inlineMode_nextFileButton--1kXAq {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__inlineMode_toggleListButton--1-vd8 {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__inlineMode_enlargeButton--2KrW6 {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__inlineMode_shareButton--31wMp {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__inlineMode_downloadButton--1lIHg {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__fileListScreen_viewButton--29LbF {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__fileListScreen_downloadButton--37TiU {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__downloadScreen_downloadButton--2orcD {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__shareScreen_citeButton--20hI5 {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__citationScreen_doiLink--2FqUO {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__citationScreen_backButton--PEIM9 {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__citationSelector_triggerButton--3806R {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__citationSelector_itemButton--2qzvM {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__citationSelector_backButton--3scGC {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__citationSelector_searchButton--3kQmz {\n}\n.frontend-widgets-filesViewerGeneric-theme-module__fileDescription--1HB4h .fs-toggle button {\n  color: #62422b;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__fileDescription--1HB4h .fs-toggle button:hover {\n  color: #ac703d;\n}\n.frontend-widgets-filesViewerGeneric-theme-module__skipButton--2OdqY {\n}\n",""]),n.locals={primaryButton:"frontend-widgets-filesViewerGeneric-theme-module__primaryButton--3Vq4Z",primaryIconButton:"frontend-widgets-filesViewerGeneric-theme-module__primaryIconButton--3FV1N frontend-widgets-filesViewerGeneric-theme-module__primaryButton--3Vq4Z",secondaryButton:"frontend-widgets-filesViewerGeneric-theme-module__secondaryButton--o14vH",secondaryIconButton:"frontend-widgets-filesViewerGeneric-theme-module__secondaryIconButton--1ebEU frontend-widgets-filesViewerGeneric-theme-module__primaryButton--3Vq4Z",iconButton:"frontend-widgets-filesViewerGeneric-theme-module__iconButton--3VDEw",enlargedMode_toggleListButton:"frontend-widgets-filesViewerGeneric-theme-module__enlargedMode_toggleListButton--2YKO4 frontend-widgets-filesViewerGeneric-theme-module__primaryIconButton--3FV1N frontend-widgets-filesViewerGeneric-theme-module__primaryButton--3Vq4Z",enlargedMode_closeOverlayButton:"frontend-widgets-filesViewerGeneric-theme-module__enlargedMode_closeOverlayButton--1i4Sh frontend-widgets-filesViewerGeneric-theme-module__primaryIconButton--3FV1N frontend-widgets-filesViewerGeneric-theme-module__primaryButton--3Vq4Z",enlargedMode_downloadButton_desktop:"frontend-widgets-filesViewerGeneric-theme-module__enlargedMode_downloadButton_desktop--3XPZF frontend-widgets-filesViewerGeneric-theme-module__primaryButton--3Vq4Z",enlargedMode_downloadButton_mobile:"frontend-widgets-filesViewerGeneric-theme-module__enlargedMode_downloadButton_mobile--_Zlic frontend-widgets-filesViewerGeneric-theme-module__iconButton--3VDEw",inlineMode_prevFileButton:"frontend-widgets-filesViewerGeneric-theme-module__inlineMode_prevFileButton--3DqoQ frontend-widgets-filesViewerGeneric-theme-module__secondaryButton--o14vH",inlineMode_nextFileButton:"frontend-widgets-filesViewerGeneric-theme-module__inlineMode_nextFileButton--1kXAq frontend-widgets-filesViewerGeneric-theme-module__secondaryButton--o14vH",inlineMode_toggleListButton:"frontend-widgets-filesViewerGeneric-theme-module__inlineMode_toggleListButton--1-vd8 frontend-widgets-filesViewerGeneric-theme-module__secondaryButton--o14vH",inlineMode_enlargeButton:"frontend-widgets-filesViewerGeneric-theme-module__inlineMode_enlargeButton--2KrW6 frontend-widgets-filesViewerGeneric-theme-module__primaryIconButton--3FV1N frontend-widgets-filesViewerGeneric-theme-module__primaryButton--3Vq4Z",inlineMode_shareButton:"frontend-widgets-filesViewerGeneric-theme-module__inlineMode_shareButton--31wMp frontend-widgets-filesViewerGeneric-theme-module__secondaryButton--o14vH",inlineMode_downloadButton:"frontend-widgets-filesViewerGeneric-theme-module__inlineMode_downloadButton--1lIHg frontend-widgets-filesViewerGeneric-theme-module__primaryButton--3Vq4Z",fileListScreen_viewButton:"frontend-widgets-filesViewerGeneric-theme-module__fileListScreen_viewButton--29LbF frontend-widgets-filesViewerGeneric-theme-module__iconButton--3VDEw",fileListScreen_downloadButton:"frontend-widgets-filesViewerGeneric-theme-module__fileListScreen_downloadButton--37TiU frontend-widgets-filesViewerGeneric-theme-module__iconButton--3VDEw",downloadScreen_downloadButton:"frontend-widgets-filesViewerGeneric-theme-module__downloadScreen_downloadButton--2orcD frontend-widgets-filesViewerGeneric-theme-module__iconButton--3VDEw",shareScreen_citeButton:"frontend-widgets-filesViewerGeneric-theme-module__shareScreen_citeButton--20hI5 frontend-widgets-filesViewerGeneric-theme-module__secondaryButton--o14vH",citationScreen_doiLink:"frontend-widgets-filesViewerGeneric-theme-module__citationScreen_doiLink--2FqUO frontend-widgets-filesViewerGeneric-theme-module__iconButton--3VDEw",citationScreen_backButton:"frontend-widgets-filesViewerGeneric-theme-module__citationScreen_backButton--PEIM9 frontend-widgets-filesViewerGeneric-theme-module__iconButton--3VDEw",citationSelector_triggerButton:"frontend-widgets-filesViewerGeneric-theme-module__citationSelector_triggerButton--3806R frontend-widgets-filesViewerGeneric-theme-module__iconButton--3VDEw",citationSelector_itemButton:"frontend-widgets-filesViewerGeneric-theme-module__citationSelector_itemButton--2qzvM frontend-widgets-filesViewerGeneric-theme-module__iconButton--3VDEw",citationSelector_backButton:"frontend-widgets-filesViewerGeneric-theme-module__citationSelector_backButton--3scGC frontend-widgets-filesViewerGeneric-theme-module__iconButton--3VDEw",citationSelector_searchButton:"frontend-widgets-filesViewerGeneric-theme-module__citationSelector_searchButton--3kQmz frontend-widgets-filesViewerGeneric-theme-module__iconButton--3VDEw",fileDescription:"frontend-widgets-filesViewerGeneric-theme-module__fileDescription--1HB4h",skipButton:"frontend-widgets-filesViewerGeneric-theme-module__skipButton--2OdqY frontend-widgets-filesViewerGeneric-theme-module__secondaryButton--o14vH"}},122:function(e,n,t){"use strict";var r=function(){};function o(e){var n=e.wrapper,t=e.element;if(!n||!t)return null;var r=n.getBoundingClientRect(),o=r.top,i=r.bottom,a=r.height,s=t.getBoundingClientRect(),f=s.top,l=s.bottom,c=s.height,u=f-o,d=i-l,p=!(f>i||l<o),h=a-Math.max(u,0)-Math.max(d,0);return{visibility:p?h/c:0,coverage:p?h/a:0,visible:p}}function i(e){var n=e.element,t=e.to,o=e.duration,i=void 0===o?400:o,a=e.callback,s=void 0===a?r:a,f=[],l=0,c=null;if(n)l=n.scrollTop;else{var u=document,d=u.documentElement,p=u.body;f.push(d,p),l=d.scrollTop||p.scrollTop}if(l!==t){window.requestAnimationFrame((function e(r){c||(c=r);var o=Math.min(1,(r-c)/i),a=o*(t-l)+l;n?n.scrollTop=a:f.forEach((function(e){return e.scrollTop=a})),o<1?window.requestAnimationFrame(e):s()}))}else s()}n.a={getVisibleNodes:function(e){var n=e||{},t=n.wrapper,r=n.elements,i=e||{},a=i.elementCoverage,s=i.viewportCoverage,f=null,l=[];return a=a||.9,s=s||.9,r.forEach((function(e,n){var r=o({wrapper:t,element:e}),i=r.visible,c=r.visibility,u=r.coverage;i&&l.push(n),null===f&&(c>a||u>s)&&(f=n)})),null===f&&(f=l[0]),{current:f,visible:l}},getVerticalVisibility:o,ready:function(e){var n=!1;document.addEventListener("DOMContentLoaded",(function(){n||(n=!0,e())}));var t=document.onreadystatechange;document.onreadystatechange=function(){t&&t.apply(void 0,arguments),"complete"!==document.readyState&&"loaded"!==document.readyState||n||(n=!0,e())}},scrollTo:i,scrollToElement:function(e){var n=e.target,t=void 0===n?document:n,r=e.element,o=e.offset,a=void 0===o?0:o,s=e.callback,f=a;f&&(f=parseInt(f,10)||0);var l=t.getBoundingClientRect().top;i({element:t,to:f+=r.getBoundingClientRect().top-l+t.scrollTop,callback:s})},cloneCanvas:function(e){var n=document.createElement("canvas"),t=n.getContext("2d");return n.width=e.width,n.height=e.height,t.drawImage(e,0,0),n}}},313:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return d}));t(123);var r=t(474),o=t(1123),i=t.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){return!n||"object"!==a(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,n){return(u=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var d=function(e){function n(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),l(this,c(n).call(this,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){f(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e,{name:"filesViewerGeneric",theme:i.a})))}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&u(e,n)}(n,e),n}(r.a)},351:function(e,n,t){"use strict";var r=document.createElement("span");function o(e,n){if(e.ownerDocument&&e.ownerDocument===document){for(var t=0,o=0,i=1,a=!1,s=e.clientWidth,f=(e.textContent||e.innerText).replace(/\n/g," ");null!==e.firstChild;)e.removeChild(e.firstChild);e.appendChild(r),"".concat(f," ").replace(/ /g,(function(l,c){if(i!==n){var u=f.substr(t,c-t);if(r.appendChild(document.createTextNode(u)),s>=r.clientWidth)a=!1;else{var d=void 0;a?(d=f.substr(t,c+1-t),t=c+1):(d=f.substr(t,o-t),t=o);var p=document.createElement("span");p.className="line-clamp",p.appendChild(document.createTextNode(d)),e.appendChild(p),a=!0,i+=1}o=c+1,r.removeChild(r.firstChild)}})),e.removeChild(r);var l=document.createElement("span");l.className="line-clamp last-line",l.style.display="block",l.style.overflow="hidden",l.style.textOverflow="ellipsis",l.style.whiteSpace="nowrap",l.style.width="100%",f=f.substr(t),l.appendChild(document.createTextNode(f)),e.appendChild(l)}}r.style.position="absolute",r.style.whiteSpace="pre",r.style.visibility="hidden";var i=t(372),a=t(369);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,n){return!n||"object"!==s(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,n){return(u=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var d=new(t(364).a)({baseURL:"https://widgets.figshare.com",followLocation:!0,credentials:!1}),p=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=l(this,c(n).call(this))).loading=!1,t.loaded=!1,t.error=null,t._model=e,t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&u(e,n)}(n,e),t=n,(r=[{key:"loadData",value:function(e,n){var t=this;this.loading=!0,this.loaded=!1,this.error=null,d.get({url:e,binary:n}).then((function(e){var n=e.body,r=e.text;return t._updateData(n||r)}),(function(e){return t._errorLoadingData(e)}))}},{key:"_updateData",value:function(e){this.loading=!1,this.loaded=!0,this.error=null,this._model.update(e),this.emit("change")}},{key:"_errorLoadingData",value:function(e){this.error=e,this.loading=!1,this.loaded=!1,this._model.reset(),this.emit("change")}},{key:"model",get:function(){return this.loaded?this._model:null}}])&&f(t.prototype,r),o&&f(t,o),n}(a.EventEmitter);function h(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function g(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40},y=function(){function e(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,e),this.keys=t,this.keyCodes=[],this.keys.forEach((function(e){m[e]&&n.keyCodes.push(m[e])}))}var n,t,r;return n=e,(t=[{key:"getKey",value:function(e){var n=this.keyCodes.indexOf(e);return-1===n?null:this.keys[n]}},{key:"getKeyCode",value:function(e){var n=this.keys.indexOf(e);return-1===n?null:this.keyCodes[n]}}])&&g(n.prototype,t),r&&g(n,r),e}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function w(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,n){return!n||"object"!==v(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,n){return(O=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var S=function(e){function n(){return b(this,n),_(this,x(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&O(e,n)}(n,e),t=n,(r=[{key:"emitAsync",value:function(){for(var e=this,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return setTimeout((function(){return e.emit.apply(e,t)}),0)}}])&&w(t.prototype,r),o&&w(t,o),n}(a.EventEmitter),j=(t(371),t(365),t(122));var k={parse:function(e){return"string"==typeof e?(new DOMParser).parseFromString(e,"text/xml"):e}};function P(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.d(n,"k",(function(){return C})),t.d(n,"e",(function(){return E})),t.d(n,"j",(function(){return A})),t.d(n,"f",(function(){return V})),t.d(n,"i",(function(){return B})),t.d(n,"h",(function(){return o})),t.d(n,"b",(function(){return i.a})),t.d(n,"d",(function(){return p})),t.d(n,"c",(function(){return y})),t.d(n,"a",(function(){return S})),t.d(n,"g",(function(){return j.a})),t.d(n,"l",(function(){return k}));var M,C=(M=Math.floor(Math.abs(3024*Math.random())),function(){return"_".concat(M+=1)}),E=function(e,n,t){return Math.min(Math.max(n,e),t)},A=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=!1,r=[];return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];r=i,t||(t=!0,setTimeout((function(){t=!1,e.apply(void 0,P(r))}),n))}},V=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=null;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((function(){e.apply(void 0,o)}),n)}},B=function(e){if(e){e.stopPropagation&&e.stopPropagation();var n=e.nativeEvent;n&&n.stopImmediatePropagation&&n.stopImmediatePropagation()}}},357:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return o})),t.d(n,"c",(function(){return i}));var r="mobile",o="desktop",i={enlarge:"enlarge",share:"share"}},359:function(e,n,t){"use strict";var r={};t.r(r),t.d(r,"appState",(function(){return y})),t.d(r,"uiState",(function(){return v})),t.d(r,"entitiesState",(function(){return b})),t.d(r,"optionsState",(function(){return w})),t.d(r,"collectionState",(function(){return _})),t.d(r,"loadingState",(function(){return x})),t.d(r,"filesNavigation",(function(){return O})),t.d(r,"currentEntities",(function(){return S})),t.d(r,"itemsFirstFileIndex",(function(){return j}));var o={};t.r(o),t.d(o,"loadMore",(function(){return $})),t.d(o,"loadData",(function(){return ee})),t.d(o,"initialize",(function(){return ne})),t.d(o,"changeFileIndex",(function(){return te})),t.d(o,"findItemsDOIs",(function(){return re})),t.d(o,"openScreen",(function(){return oe})),t.d(o,"closeScreens",(function(){return ie})),t.d(o,"trackViews",(function(){return ae})),t.d(o,"changeArrowOffset",(function(){return se})),t.d(o,"trackLogoClick",(function(){return fe}));var i={};t.r(i),t.d(i,"INITIALIZE",(function(){return pe})),t.d(i,"LOADING",(function(){return he})),t.d(i,"LOAD_COLLECTION",(function(){return ge})),t.d(i,"LOAD_ITEMS",(function(){return me})),t.d(i,"LOAD_FILES",(function(){return ye})),t.d(i,"CHANGE_CURRENT_INDEX",(function(){return ve})),t.d(i,"CHANGE_FILE_COUNT",(function(){return be})),t.d(i,"CHANGE_SCREEN",(function(){return we})),t.d(i,"TRACK_VIEWS",(function(){return _e})),t.d(i,"CHANGE_ARROW_OFFSET",(function(){return xe}));var a={};t.r(a),t.d(a,"LOADING",(function(){return Oe})),t.d(a,"ITEM_FOUND",(function(){return Se})),t.d(a,"TRACK_LOGO_CLICK",(function(){return je}));var s={};t.r(s),t.d(s,"actionsListener",(function(){return Pe}));var f=t(361),l=function(e){return"".concat("@@files-viewer","/").concat(e)},c=t(362),u=t.n(c),d=new(t(374).a)({baseURL:"https://widgets.figshare.com",followLocation:!0}),p=t(383);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var m=function(e){return e.filesViewer},y=Object(p.createSelector)(m,(function(e){return e.app})),v=Object(p.createSelector)(y,(function(e){return e.ui})),b=Object(p.createSelector)(m,(function(e){return e.entities})),w=Object(p.createSelector)(m,(function(e){return e.options})),_=Object(p.createSelector)(b,(function(e){return e.collection})),x=Object(p.createSelector)(y,(function(e){return{loading:e.loading,canLoadMore:e.canLoadMore,canDisplay:!!e.filesList.data.length}})),O=Object(p.createSelector)(m,(function(e){var n=e.app,t=e.entities,r=n.filesList,o=r.index,i=r.data,a=t.files,s=t.items;return{index:o,files:i.map((function(e){var n=a[e];return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){g(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n,{item:s[n.itemUID]})}))}})),S=Object(p.createSelector)(m,(function(e){var n=e.app,t=e.entities,r=n.filesList,o=r.index,i=r.data,a=r.total,s=t.files,f=t.items,l=t.collection,c=i[o],u=c?s[c]:{},d=u.itemUID?f[u.itemUID]:{};return{collection:d.collectionUID===l.id?l:{},file:u,fileCount:a||i.length,fileIndex:o,item:d}})),j=Object(p.createSelector)(m,(function(e){var n=e.maps,t=e.app.filesList.data,r=n.itemsFiles,o={},i=function(e){if(Object.prototype.hasOwnProperty.call(r,e)){var n=t.findIndex((function(n){return n===r[e][0]}));-1!==n&&(o[e]=n)}};for(var a in r)i(a);return o}));function k(e,n,t,r,o,i,a){try{var s=e[i](a),f=s.value}catch(e){return void t(e)}s.done?n(f):Promise.resolve(f).then(r,o)}function P(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){k(i,r,o,a,s,"next",e)}function s(e){k(i,r,o,a,s,"throw",e)}a(void 0)}))}}function M(e,n){var t={},r=!1;function o(t,o){return r=!0,o=new Promise((function(n){n(e[t](o))})),{done:!1,value:n(o)}}return"function"==typeof Symbol&&Symbol.iterator&&(t[Symbol.iterator]=function(){return this}),t.next=function(e){return r?(r=!1,e):o("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return o("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):o("return",e)}),t}function C(e){var n;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(n=e[Symbol.asyncIterator]))return n.call(e);if(Symbol.iterator&&null!=(n=e[Symbol.iterator]))return n.call(e)}throw new TypeError("Object is not async iterable")}function E(e){return new B(e)}function A(e){return function(){return new V(e.apply(this,arguments))}}function V(e){var n,t;function r(n,t){try{var i=e[n](t),a=i.value,s=a instanceof B;Promise.resolve(s?a.wrapped:a).then((function(e){s?r("return"===n?"return":"next",e):o(i.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":n.resolve({value:o,done:!0});break;case"throw":n.reject(o);break;default:n.resolve({value:o,done:!1})}(n=n.next)?r(n.key,n.arg):t=null}this._invoke=function(e,o){return new Promise((function(i,a){var s={key:e,arg:o,resolve:i,reject:a,next:null};t?t=t.next=s:(n=t=s,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function B(e){this.wrapped=e}"function"==typeof Symbol&&Symbol.asyncIterator&&(V.prototype[Symbol.asyncIterator]=function(){return this}),V.prototype.next=function(e){return this._invoke("next",e)},V.prototype.throw=function(e){return this._invoke("throw",e)},V.prototype.return=function(e){return this._invoke("return",e)};function T(e,n,t){return D.apply(this,arguments)}function D(){return(D=A(regeneratorRuntime.mark((function e(n,t,r){var o,i,a,s,f,c,p,h,g,m,y,v,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=u()({type:l("LOAD_ITEMS")}),i=w(t()),a=i.showStats,s=!1,f=0,c=null;case 5:if(s||c){e.next=61;break}return e.prev=6,e.next=9,E(d.getArticle(r,{limit:41,offset:f,hasFiles:!0}));case 9:if(p=e.sent,Array.isArray(p)||(p=[p]),s=p.length<41,f+=40,41===p.length&&p.pop(),!a){e.next=48;break}h=!0,g=!1,m=void 0,e.prev=18,y=p[Symbol.iterator]();case 20:if(h=(v=y.next()).done){e.next=34;break}return b=v.value,e.prev=22,e.next=25,E(d.getArticleStats(b.id));case 25:b.stats=e.sent,e.next=31;break;case 28:e.prev=28,e.t0=e.catch(22),b.stats=void 0;case 31:h=!0,e.next=20;break;case 34:e.next=40;break;case 36:e.prev=36,e.t1=e.catch(18),g=!0,m=e.t1;case 40:e.prev=40,e.prev=41,h||null==y.return||y.return();case 43:if(e.prev=43,!g){e.next=46;break}throw m;case 46:return e.finish(43);case 47:return e.finish(40);case 48:return n(o({items:p})),e.next=51,p;case 51:e.next=59;break;case 53:return e.prev=53,e.t2=e.catch(6),c=e.t2,n(o({error:e.t2})),e.next=59,[];case 59:e.next=5;break;case 61:case"end":return e.stop()}}),e,null,[[6,53],[18,36,40,48],[22,28],[41,,43,47]])})))).apply(this,arguments)}function I(e,n){return N.apply(this,arguments)}function N(){return(N=A(regeneratorRuntime.mark((function e(n,t){var r,o,i,a,s,f,c,p,h,g,m,y,v,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=_(t()),o=w(t()),i=o.showStats,a=u()({type:l("LOAD_ITEMS")}),s=!1,f=0,c=null;case 6:if(s||c){e.next=61;break}return e.prev=7,e.next=10,E(d.getCollectionArticles(r,{limit:41,offset:f,hasFiles:!0}));case 10:if(p=e.sent,s=p.length<41,f+=40,41===p.length&&p.pop(),!i){e.next=48;break}h=!0,g=!1,m=void 0,e.prev=18,y=p[Symbol.iterator]();case 20:if(h=(v=y.next()).done){e.next=34;break}return b=v.value,e.prev=22,e.next=25,E(d.getArticleStats(b.id));case 25:b.stats=e.sent,e.next=31;break;case 28:e.prev=28,e.t0=e.catch(22),b.stats=void 0;case 31:h=!0,e.next=20;break;case 34:e.next=40;break;case 36:e.prev=36,e.t1=e.catch(18),g=!0,m=e.t1;case 40:e.prev=40,e.prev=41,h||null==y.return||y.return();case 43:if(e.prev=43,!g){e.next=46;break}throw m;case 46:return e.finish(43);case 47:return e.finish(40);case 48:return n(a({items:p,collection:r})),e.next=51,p;case 51:e.next=59;break;case 53:return e.prev=53,e.t2=e.catch(7),c=e.t2,n(a({error:e.t2})),e.next=59,[];case 59:e.next=6;break;case 61:case"end":return e.stop()}}),e,null,[[7,53],[18,36,40,48],[22,28],[41,,43,47]])})))).apply(this,arguments)}function R(e,n,t){return L.apply(this,arguments)}function L(){return(L=A(regeneratorRuntime.mark((function e(n,t,r){var o,i,a,s,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=u()({type:l("LOAD_FILES")}),i=!1,a=0,s=null;case 4:if(i||s){e.next=25;break}return e.prev=5,e.next=8,E(d.getArticleFiles(r,{limit:41,offset:a}));case 8:return f=e.sent,i=f.length<41,a+=40,41===f.length&&f.pop(),n(o({files:f,item:r})),e.next=15,f;case 15:e.next=23;break;case 17:return e.prev=17,e.t0=e.catch(5),s=e.t0,n(o({error:e.t0})),e.next=23,[];case 23:e.next=4;break;case 25:case"end":return e.stop()}}),e,null,[[5,17]])})))).apply(this,arguments)}function F(e,n){return z.apply(this,arguments)}function z(){return(z=A(regeneratorRuntime.mark((function e(n,t){var r,o,i,a,s,f,l,c,u,d,p,h,g,m,y,v,b,w,_,x,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],o=!0,i=!1,e.prev=3,s=C(I(n,t));case 5:return e.next=7,E(s.next());case 7:return f=e.sent,o=f.done,e.next=11,E(f.value);case 11:if(l=e.sent,o){e.next=78;break}c=l,u=!0,d=!1,p=void 0,e.prev=17,h=c[Symbol.iterator]();case 19:if(u=(g=h.next()).done){e.next=61;break}m=g.value,y=!0,v=!1,e.prev=23,w=C(R(n,t,m));case 25:return e.next=27,E(w.next());case 27:return _=e.sent,y=_.done,e.next=31,E(_.value);case 31:if(x=e.sent,y){e.next=42;break}if(O=x,!((r=r.concat(O)).length>=40)){e.next=39;break}return e.next=38,O;case 38:r=[];case 39:y=!0,e.next=25;break;case 42:e.next=48;break;case 44:e.prev=44,e.t0=e.catch(23),v=!0,b=e.t0;case 48:if(e.prev=48,e.prev=49,y||null==w.return){e.next=53;break}return e.next=53,E(w.return());case 53:if(e.prev=53,!v){e.next=56;break}throw b;case 56:return e.finish(53);case 57:return e.finish(48);case 58:u=!0,e.next=19;break;case 61:e.next=67;break;case 63:e.prev=63,e.t1=e.catch(17),d=!0,p=e.t1;case 67:e.prev=67,e.prev=68,u||null==h.return||h.return();case 70:if(e.prev=70,!d){e.next=73;break}throw p;case 73:return e.finish(70);case 74:return e.finish(67);case 75:o=!0,e.next=5;break;case 78:e.next=84;break;case 80:e.prev=80,e.t2=e.catch(3),i=!0,a=e.t2;case 84:if(e.prev=84,e.prev=85,o||null==s.return){e.next=89;break}return e.next=89,E(s.return());case 89:if(e.prev=89,!i){e.next=92;break}throw a;case 92:return e.finish(89);case 93:return e.finish(84);case 94:if(!r.length){e.next=97;break}return e.next=97,r;case 97:case"end":return e.stop()}}),e,null,[[3,80,84,94],[17,63,67,75],[23,44,48,58],[49,,53,57],[68,,70,74],[85,,89,93]])})))).apply(this,arguments)}function H(e,n){return q.apply(this,arguments)}function q(){return(q=A(regeneratorRuntime.mark((function e(n,t){var r,o,i,a,s,f,l,c,u,d,p,h,g,m,y,v,b,_,x,O,S,j,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=w(t()),o=r.itemQuery,i=[],a=!0,s=!1,e.prev=4,l=C(T(n,t,o));case 6:return e.next=8,E(l.next());case 8:return c=e.sent,a=c.done,e.next=12,E(c.value);case 12:if(u=e.sent,a){e.next=79;break}d=u,p=!0,h=!1,g=void 0,e.prev=18,m=d[Symbol.iterator]();case 20:if(p=(y=m.next()).done){e.next=62;break}v=y.value,b=!0,_=!1,e.prev=24,O=C(R(n,t,v));case 26:return e.next=28,E(O.next());case 28:return S=e.sent,b=S.done,e.next=32,E(S.value);case 32:if(j=e.sent,b){e.next=43;break}if(k=j,!((i=i.concat(k)).length>=40)){e.next=40;break}return e.next=39,k;case 39:i=[];case 40:b=!0,e.next=26;break;case 43:e.next=49;break;case 45:e.prev=45,e.t0=e.catch(24),_=!0,x=e.t0;case 49:if(e.prev=49,e.prev=50,b||null==O.return){e.next=54;break}return e.next=54,E(O.return());case 54:if(e.prev=54,!_){e.next=57;break}throw x;case 57:return e.finish(54);case 58:return e.finish(49);case 59:p=!0,e.next=20;break;case 62:e.next=68;break;case 64:e.prev=64,e.t1=e.catch(18),h=!0,g=e.t1;case 68:e.prev=68,e.prev=69,p||null==m.return||m.return();case 71:if(e.prev=71,!h){e.next=74;break}throw g;case 74:return e.finish(71);case 75:return e.finish(68);case 76:a=!0,e.next=6;break;case 79:e.next=85;break;case 81:e.prev=81,e.t2=e.catch(4),s=!0,f=e.t2;case 85:if(e.prev=85,e.prev=86,a||null==l.return){e.next=90;break}return e.next=90,E(l.return());case 90:if(e.prev=90,!s){e.next=93;break}throw f;case 93:return e.finish(90);case 94:return e.finish(85);case 95:if(!i.length){e.next=98;break}return e.next=98,i;case 98:case"end":return e.stop()}}),e,null,[[4,81,85,95],[18,64,68,76],[24,45,49,59],[50,,54,58],[69,,71,75],[86,,90,94]])})))).apply(this,arguments)}function G(e,n){return U.apply(this,arguments)}function U(){return(U=P(regeneratorRuntime.mark((function e(n,t){var r,o,i,a,s,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=w(t()),o=r.collectionQuery,i=w(t()),a=i.showStats,s=u()({type:l("LOAD_COLLECTION")}),e.prev=3,e.next=6,d.getCollection(o);case 6:if(f=e.sent,!a){e.next=17;break}return e.prev=8,e.next=11,d.getCollectionStats(f.id);case 11:f.stats=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),f.stats=void 0;case 17:n(s({collection:f})),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(3),n(s({error:e.t1}));case 23:case"end":return e.stop()}}),e,null,[[3,20],[8,14]])})))).apply(this,arguments)}function K(){return(K=A(regeneratorRuntime.mark((function e(n,t){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=w(t()),o=r.collectionQuery,i=r.itemQuery,!o){e.next=5;break}return e.next=4,E(G(n,t));case 4:return e.delegateYield(M(C(F(n,t)),E),"t0",5);case 5:if(!i){e.next=7;break}return e.delegateYield(M(C(H(n,t)),E),"t1",7);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?W(Object(t),!0).forEach((function(n){X(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function X(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Y(e,n,t,r,o,i,a){try{var s=e[i](a),f=s.value}catch(e){return void t(e)}s.done?n(f):Promise.resolve(f).then(r,o)}function Z(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){Y(i,r,o,a,s,"next",e)}function s(e){Y(i,r,o,a,s,"throw",e)}a(void 0)}))}}var J={loadMoreFiles:void 0},$=function(){return function(){var e=Z(regeneratorRuntime.mark((function e(n,t){var r,o,i,a,s,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=x(t()),r.canLoadMore){e.next=3;break}return e.abrupt("return");case 3:return o=u()({type:l("LOADING")}),n(o({loading:!0})),e.next=7,J.loadMoreFiles.next();case 7:i=e.sent,a=i.done,n(o({loading:!1,canLoadMore:!a})),a&&(s=y(t()),f=s.filesList,n({type:l("CHANGE_FILE_COUNT"),fileCount:f.data.length}));case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},ee=function(){return function(){var e=Z(regeneratorRuntime.mark((function e(n,t){var r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=w(t()),o=r.collectionQuery,i=r.itemQuery,o||i){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,d.getFilesCount({article:i,collection:o});case 6:a=e.sent,n({type:l("CHANGE_FILE_COUNT"),fileCount:a.filesCount}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n({type:l("CHANGE_FILE_COUNT"),fileCount:0});case 13:n($());case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n,t){return e.apply(this,arguments)}}()},ne=function(e){return function(n,t){d.permaQuery={institution:e.institutionStringId||void 0},n(Q({type:l("INITIALIZE")},e)),J.loadMoreFiles=function(e,n){return K.apply(this,arguments)}(n,t)}},te=function(e){return function(){var n=Z(regeneratorRuntime.mark((function n(t,r){var o,i,a,s,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=y(r()),i=o.filesList,a=x(r()),s=a.canLoadMore,!(e+1>=i.data.length&&s)){n.next=5;break}return n.next=5,t($());case 5:f=y(r()),f.filesList.data[e]&&t({type:l("CHANGE_CURRENT_INDEX"),index:e});case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(function(){var n=Z(regeneratorRuntime.mark((function n(t,r){var o,i,a,s,f,c,u,p,h,g,m,y,v,w,_,O;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=!1,i=[],a=!0,s=!1,f=void 0,n.prev=5,c=e[Symbol.iterator]();case 7:if(a=(u=c.next()).done){n.next=22;break}return p=u.value,n.prev=9,n.next=12,d.getArticle({doi:p},{hasFiles:!0});case 12:h=n.sent,i.push(Q({},h,{originalDOI:p})),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(9),t({type:l("ITEM_FOUND"),error:n.t0});case 19:a=!0,n.next=7;break;case 22:n.next=28;break;case 24:n.prev=24,n.t1=n.catch(5),s=!0,f=n.t1;case 28:n.prev=28,n.prev=29,a||null==c.return||c.return();case 31:if(n.prev=31,!s){n.next=34;break}throw f;case 34:return n.finish(31);case 35:return n.finish(28);case 36:g={};case 37:if(o){n.next=49;break}if((m=i.filter((function(e){var n=e.originalDOI;return!g[n]}))).length){n.next=41;break}return n.abrupt("break",49);case 41:return n.next=43,t($());case 43:for(y=b(r()),v=y.items,w=function(){var e=O[_],n=j(r()),o=m.find((function(t){var r=t.id,o=t.version,i=void 0!==n[e.UID];return e.id===r&&e.version===o&&i}));o&&(t({type:l("ITEM_FOUND"),item:e,doi:o.originalDOI,firstFileIndex:n[e.UID]}),g[o.originalDOI]=!0)},_=0,O=Object.values(v);_<O.length;_++)w();o=!x(r()).canLoadMore,n.next=37;break;case 49:case"end":return n.stop()}}),n,null,[[5,24,28,36],[9,16],[29,,31,35]])})));return function(e,t){return n.apply(this,arguments)}}())},oe=function(e){return function(n){n({type:l("CHANGE_SCREEN"),name:e})}},ie=function(){return function(e){e({type:l("CHANGE_SCREEN"),name:void 0})}},ae=function(){return function(e,n){v(n()).trackViews||e({type:l("TRACK_VIEWS")})}},se=function(e){return function(n){n({type:l("CHANGE_ARROW_OFFSET"),offsets:e})}},fe=function(e){return function(n){n({type:l("TRACK_LOGO_CLICK"),url:e})}};function le(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?le(Object(t),!0).forEach((function(n){ue(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ue(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var de=function(e){return"".concat(e.id,"_v").concat(e.version)},pe=function(e,n){var t=n.preferFileMetadata,r=void 0!==t&&t,o=n.showFileDetails,i=void 0===o||o,a=n.showPageInfo,s=void 0===a||a,f=n.showShareButton,l=void 0===f||f,c=n.showStats,d={preferFileMetadata:r,showFileDetails:i,showPageInfo:s,showShareButton:l,showStats:void 0===c||c};if(n.collectionQuery){var p=n.collectionQuery,h=p.id,g=p.doi,m=p.resourceDOI;h?d.collectionQuery={id:h}:g?d.collectionQuery={doi:g}:m&&(d.collectionQuery={resourceDOI:m})}if(n.itemQuery){var y=n.itemQuery,v=y.id,b=y.doi,w=y.resourceDOI;v?d.itemQuery={id:v}:b?d.itemQuery={doi:b}:w&&(d.itemQuery={resourceDOI:w})}return u()({options:d},e)},he=function(e,n){var t=e.app,r=n.canLoadMore,o=void 0===r?t.canLoadMore:r,i=n.loading,a=u()({loading:i,canLoadMore:o},t);return u()({app:a},e)},ge=function(e,n){var t=n.collection;return n.error||!t?e:u()({entities:{collection:t}},e)},me=function(e,n){var t=n.items,r=void 0===t?[]:t,o=n.collection;return n.error?e:r.reduce((function(e,n){var t=de(n),r=(e.entities.items[t]||{}).collectionUID;r||(r=o?o.id:void 0);var i={entities:{items:ue({},t,ce({},n,{UID:t,collectionUID:r}))},maps:{collectionsItems:u.a.if(o,(function(){return ue({},o.id,u.a.withDefault([],(function(e){var n=e.concat(t);return n.filter((function(e,t){return n.indexOf(e)===t}))})))}))}};return u()(i,e)}),e)},ye=function(e,n){var t=n.files,r=void 0===t?[]:t,o=n.item;return n.error||!o?e:r.reduce((function(e,n){var t=de(o),r=function(e,n){return"".concat(e.id,"-").concat(de(n))}(n,o),i={entities:{files:ue({},r,ce({},n,{UID:r,itemUID:t}))},maps:{itemsFiles:ue({},t,u.a.withDefault([],(function(e){var n=e.concat(r);return n.filter((function(e,t){return n.indexOf(e)===t}))})))},app:{filesList:{data:u.a.withDefault([],(function(e){var n=e.concat(r);return n.filter((function(e,t){return n.indexOf(e)===t}))}))}}};return u()(i,e)}),e)},ve=function(e,n){var t=n.index,r=void 0===t?0:t,o=r<0?0:r;return u()({app:{filesList:{index:o}}},e)},be=function(e,n){var t=n.fileCount,r=void 0===t?0:t,o=r<0?0:r;return u()({app:{filesList:{total:o}}},e)},we=function(e,n){var t=n.name||null;return u()({app:{ui:{activeScreen:t}}},e)},_e=function(e){return u()({app:{ui:{trackViews:!0}}},e)},xe=function(e,n){var t=n.offsets,r=t.download,o=t.fileList,i=t.share;return u()({app:{ui:{arrowOffset:{download:r,fileList:o,share:i}}}},e)},Oe=function(e,n,t){var r=x(t()),o=r.loading,i=r.canLoadMore,a=r.canDisplay;o||i||a||e.emit("filesError",new Error("Could not load files")),o&&e.emit("loading"),a&&e.emit("canDisplay"),o||i||!a||e.emit("done")},Se=function(e,n){var t=n.item,r=n.doi,o=n.firstFileIndex,i=n.error;i?e.emit("itemError",i):e.emit("itemFound",{item:t,doi:r,firstFileIndex:o})},je=function(e,n){e.emit("openInFigshare",n.url)},ke=new RegExp("^".concat("@@files-viewer","/")),Pe=function(e){return function(n){var t=n.getState;return function(n){return function(r){var o=n(r);return function(e,n,t){var r=n.type;if(r.startsWith("@@files-viewer")){var o=r.replace(ke,"");a[o]&&a[o](e,n,t)}}(e,r,t),o}}}};t.d(n,"a",(function(){return Me})),t.d(n,"d",(function(){return Ce})),t.d(n,"c",(function(){return Ee})),t.d(n,"b",(function(){return Ve}));var Me=o,Ce=r,Ee=s,Ae=Object(f.b)(i,{entities:{collection:{},items:{},files:{}},maps:{collectionsItems:{},itemsFiles:{}},app:{filesList:{index:0,data:[],total:0},canLoadMore:!0,loading:!1,ui:{activeScreen:null,trackViews:!1,arrowOffset:{download:0,fileList:0,share:0}}},options:{collectionQuery:null,itemQuery:null,showFileDetails:!0,preferFileMetadata:!1,showPageInfo:!0,showShareButton:!0,showStats:!0}},"@@files-viewer"),Ve=function(e){return Object(f.c)(e,"filesViewer",Ae)}},361:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return f})),t.d(n,"c",(function(){return l}));var r=t(398),o=t(477);function i(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=function(e){return r.d},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.middlewareList,t=void 0===n?[]:n,s=(e.debugName,a()),f=s(r.a.apply(void 0,[o.a].concat(i(t)))),l=Object(r.e)((function(e){return e}),{},f);return l.reducers={},l},f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=t?new RegExp("^".concat(t,"/")):"";return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,i=arguments.length>1?arguments[1]:void 0,a=i.type;if(!a.startsWith(t))return o;var s=a.replace(r,""),f=e[s];return f?f(o,i):o}},l=function(e,n,t){if(!e||!e.reducers)throw new Error("No store or no injection mechanism found");var o=e.reducers;o[n]||(o[n]=t,e.replaceReducer(Object(r.c)(o)))}},365:function(e,n,t){"use strict";function r(e){return Math.round(1e3*e)/1e3}n.a={get AXES(){return{X:"width",Y:"height"}},computeSize:function(e){var n=e||{},t=n.width,o=void 0===t?0:t,i=n.height,a=void 0===i?1:i,s=n.ratio,f=void 0===s?1:s,l=n.lockAxis;"width"!==l&&"height"!==l&&(l=null);var c=r(o/a||1);return(f=r(f))===c?{width:o,height:a}:(("width"===l||!l&&c<f)&&(a=o/f),("height"===l||!l&&c>f)&&(o=a*f),{width:o,height:a})},roundRatio:r}},366:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var r=t(348),o=t.n(r),i=t(347),a=t.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function l(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,n){return!n||"object"!==s(n)&&"function"!=typeof n?d(e):n}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,n){return(p=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(e,n){for(var t=e;t;){if(t===n)return!1;t=t.parentNode}return!0}var m=function(e){function n(){var e,t;f(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return h(d(t=c(this,(e=u(n)).call.apply(e,[this].concat(o)))),"node",null),h(d(t),"setRef",(function(e){return t.node=e})),h(d(t),"onClick",(function(e){var n=t.props,r=n.onBlur,o=n.onClickInside,i=n.onClickOutside,a=n.onFocus;g(e.target,t.node)?(r(),i()):(a(),o())})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&p(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onClick)}},{key:"render",value:function(){return a.a.createElement("div",{ref:this.setRef,className:"click-outside-wrapper"},this.props.children)}}])&&l(t.prototype,r),o&&l(t,o),n}(i.Component);h(m,"propTypes",{children:o.a.element.isRequired,onBlur:o.a.func,onClickInside:o.a.func,onClickOutside:o.a.func,onFocus:o.a.func}),h(m,"defaultProps",{onBlur:function(){},onClickInside:function(){},onClickOutside:function(){},onFocus:function(){}})},367:function(e,n,t){"use strict";var r=t(348),o=t.n(r),i=t(347),a=t.n(i),s=t(356),f=t.n(s),l=t(363),c=t(373),u=t(392),d=t.n(u),p=t(370);function h(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.generateActions("setModel","setCommand","updateModel")}var n,t,r;return n=e,(t=[{key:"registerFileView",value:function(e){"audio"!==e.viewerType&&"video"!==e.viewerType&&p.a.trackOnce("view","file",e.id)}}])&&h(n.prototype,t),r&&h(n,r),e}();function m(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this.alt.getActions("DisplayModel");this.bindActions(n),this._model=null,this.state={}}var n,t,r;return n=e,(t=[{key:"onSetModel",value:function(e){var n=this;if(this._model&&(this._model=null),this._model=e,this._model){var t=this._model.state,r=void 0===t?{}:t;this.setState(r,(function(){return n.dispatch()}))}}},{key:"onSetCommand",value:function(e){var n=e.command,t=e.data;this._model&&this._model.handleCommand(n,t)}},{key:"onUpdateModel",value:function(){var e=this;if(this._model){var n=this._model.state,t=void 0===n?{}:n;this.setState(t,(function(){return e.dispatch()}))}}}])&&m(n.prototype,t),r&&m(n,r),e}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,n){return!n||"object"!==v(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,n){return(_=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var x=function(e){function n(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(e=b(this,w(n).call(this))).addActions("DisplayModel",g),e.addStore("DisplayModel",y),e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_(e,n)}(n,e),n}(d.a),O=t(349),S=t.n(O);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function P(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function M(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,n){return!n||"object"!==j(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,n){return(A=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var V=function(e){function n(){var e,t;P(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=C(this,(e=E(n)).call.apply(e,[this].concat(o)))).state=t.getFluxState(),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&A(e,n)}(n,e),t=n,o=[{key:"getPreview",value:function(e){var n=(e||{}).virusScanInfo.virus_found;if(!e||!e.thumb||n){var t=e&&e.viewerType,r=t?"fs-".concat(t):null,o=S()("fs-generic-preview",r);return a.a.createElement("div",{className:o})}var i=e.thumb;return a.a.createElement("img",{alt:"",src:i})}}],(r=[{key:"watchStores",value:function(){return["DisplayModel"]}},{key:"getStateFromFlux",value:function(e){return k(e,1)[0].getState()}}])&&M(t.prototype,r),o&&M(t,o),n}(l.a);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function D(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,n){return!n||"object"!==B(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,n){return(R=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}V.defaultProps={},V.propTypes={flux:o.a.object.isRequired};var L,F,z,H=function(e){function n(){return T(this,n),I(this,N(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&R(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n={width:e.maxWidth,height:e.maxHeight};return a.a.createElement("div",{className:"fs-display fs-not-previewable",role:"img",style:n},a.a.createElement("div",{className:"fs-not-previewable-content"},a.a.createElement("span",{className:"fs-not-previewable-message"},"sorry, we ","can't"," preview this file")))}}])&&D(t.prototype,r),o&&D(t,o),n}(V);L=H,F="propTypes",z={flux:o.a.object.isRequired},F in L?Object.defineProperty(L,F,{value:z,enumerable:!0,configurable:!0,writable:!0}):L[F]=z;var q=t(354);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function K(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,n){return!n||"object"!==G(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Q(e,n,t){return(Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=X(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,n){return(Y=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Z=function(e){function n(){return U(this,n),W(this,X(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Y(e,n)}(n,e),t=n,(r=[{key:"componentDidUpdate",value:function(e){var n=this.props,t=n.maxWidth,r=n.maxHeight;e.maxWidth===t&&e.maxHeight===r||this._changeDisplayArea(t,r)}},{key:"componentDidMount",value:function(){Q(X(n.prototype),"componentDidMount",this).call(this);var e=this.props,t=e.maxWidth,r=e.maxHeight;this._changeDisplayArea(t,r),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"render",value:function(){var e=this.state,n=e.url,t=e.width,r=e.height,o=e.loading,i=e.error,s=this.props,f={width:s.maxWidth,height:s.maxHeight};return a.a.createElement("div",{className:"fs-display fs-image-display",style:f},a.a.createElement(q.a,{error:!!i,errorMessage:"Sorry we could not load your data.",loading:o},a.a.createElement("img",{key:n,alt:n,height:r,src:n,width:t})))}},{key:"_changeDisplayArea",value:function(e,n){this.props.flux.getActions("DisplayModel").setCommand({command:"change",data:{maxWidth:e,maxHeight:n}})}}])&&K(t.prototype,r),o&&K(t,o),n}(V);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(){return($=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function ee(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ne(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function te(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,n){return!n||"object"!==J(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function oe(e,n,t){return(oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=ie(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,n){return(ae=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}Z.defaultProps={},Z.propTypes={flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number};var se=function(e){function n(){var e,t;ne(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=re(this,(e=ie(n)).call.apply(e,[this].concat(o)))).state=t.getFluxState(),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ae(e,n)}(n,e),t=n,(r=[{key:"watchStores",value:function(){return["DisplayModel"]}},{key:"componentDidMount",value:function(){oe(ie(n.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"getStateFromFlux",value:function(e){var n=ee(e,1)[0].getState(),t=(this.state||{}).expanded;return t||n.tree&&((t={})[n.tree.key]=!0,n.tree.dirs.forEach((function(e){var n=e.key;return t[n]=!0}))),Object.assign({},n,{expanded:t})}},{key:"render",value:function(){var e=this.state,n=e.loading,t=e.error,r=e.tree,o=void 0===r?{}:r,i=e.expanded,s=void 0===i?{}:i,f=this._extractExpandedDir(o,s),l=this.props,c=l.maxWidth,u=l.maxHeight;return a.a.createElement("div",{className:"fs-display fs-archive-display",style:{maxWidth:c,maxHeight:u}},a.a.createElement(q.a,{error:!!t,errorMessage:"Sorry we could not load your data.",loading:n},a.a.createElement("div",{className:"fs-archive-table",tabIndex:0},f.map(this.handle("displayItem")))))}},{key:"displayItem",value:function(e,n){var t=e.key,r=e.depth,o=e.name,i={},s=this.state.expanded,f=void 0===s?{}:s;return void 0!==t&&(i.className=S()("fs-archive-dir",{"fs-expanded":f[t]}),i.onClick=this._toggleDir.bind(this,t)),a.a.createElement("div",{key:n,className:"fs-archive-row"},a.a.createElement("div",$({},i,{style:{marginLeft:35*(r+1)}}),o))}},{key:"_extractExpandedDir",value:function(e){var n=this,t=e.dirs,r=void 0===t?[]:t,o=e.files,i=void 0===o?[]:o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=[];return r.forEach((function(e){s.push(e),a[e.key]&&(s=s.concat(n._extractExpandedDir(e,a)))})),s.concat(i)}},{key:"_toggleDir",value:function(e){var n=this.state.expanded;n[e]=!n[e],this.setState({expanded:n})}}])&&te(t.prototype,r),o&&te(t,o),n}(l.a);se.defaultProps={},se.propTypes={flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number};var fe=t(421),le=t.n(fe),ce=!!navigator.userAgent.match(/iPhone/i),ue=!!navigator.userAgent.match(/iPad/i),de=t(351),pe=t(350);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(){return(ge=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function me(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ye(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,n){return!n||"object"!==he(n)&&"function"!=typeof n?we(e):n}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,n){return(_e=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function xe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Oe="horizontal",Se="vertical",je=function(e){function n(){var e,t;me(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return xe(we(t=ve(this,(e=be(n)).call.apply(e,[this].concat(o)))),"state",{isDragging:!1,isGliding:!1}),xe(we(t),"sliderNode",null),xe(we(t),"setSliderNode",(function(e){return t.sliderNode=e})),xe(we(t),"onMouseDown",(function(e){t.setState({isDragging:!0}),t.props.onDragStart(),t.onChange(e.pageX,e.pageY),t.addDragListeners(),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()})),xe(we(t),"onMouseMove",(function(e){t.onGlide(e.pageX,e.pageY)})),xe(we(t),"onMouseOver",(function(){t.setState({isGliding:!0}),t.props.onGlideStart()})),xe(we(t),"onMouseOut",(function(){t.state.isDragging||t.props.onGlideStop(),t.setState({isGliding:!1})})),xe(we(t),"onDocumentMouseMove",(function(e){t.onChange(e.pageX,e.pageY),t.onGlide(e.pageX,e.pageY)})),xe(we(t),"onDocumentMouseUp",(function(e){t.onChange(e.pageX,e.pageY),t.props.onDragStop(),t.removeDragListeners(),t.setState({isDragging:!1}),t.state.isGliding||t.props.onGlideStop()})),xe(we(t),"onChange",Object(de.j)((function(e,n){var r=t.getValueFromAbsolutePosition(e,n);t.props.onChange(r)}),40)),xe(we(t),"onGlide",Object(de.j)((function(e,n){var r=t.props.onGlide;if(r){var o=t.getValueFromAbsolutePosition(e,n);r({style:t.getProgressStyle(o),time:o})}}),40)),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_e(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.className,t=e.disabled,r=e.orientation,o=e.onGlide,i=e.value,s=["fv-slider-track",r,{disabled:t},n],f={};return t||(f={onMouseDown:this.onMouseDown,onMouseMove:o?this.onMouseMove:void 0,onMouseOut:this.onMouseOut,onMouseOver:this.onMouseOver}),a.a.createElement("div",ge({ref:this.setSliderNode,className:S()(s)},f),a.a.createElement("div",{className:"fv-slider-progress",style:this.getProgressStyle(i)}))}},{key:"addDragListeners",value:function(){document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp)}},{key:"removeDragListeners",value:function(){document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("mouseup",this.onDocumentMouseUp)}},{key:"getValueFromAbsolutePosition",value:function(e,n){var t=this.props,r=t.minValue,o=t.maxValue,i=t.orientation,a=this.sliderNode.getBoundingClientRect(),s=a.left,f=a.top,l=a.width,c=a.height,u=0;return i===Oe&&(u=100*Object(de.e)(e-s,0,l)/l),i===Se&&(u=100*Object(de.e)(n-f,0,c)/c),Math.abs(o-r)*u/100-r}},{key:"getProgressStyle",value:function(e){var n=this.props,t=n.maxValue,r=n.minValue,o=n.orientation,i=Math.abs(Object(de.e)(e,r,t)-r),a=Math.abs(t-r);return xe({},o===Oe?"width":"height","".concat(100*i/a,"%"))}}])&&ye(t.prototype,r),o&&ye(t,o),n}(i.Component);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Me(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,n){return!n||"object"!==ke(n)&&"function"!=typeof n?Ae(e):n}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e,n){return(Ve=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Be(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}xe(je,"propTypes",{maxValue:o.a.number.isRequired,minValue:o.a.number.isRequired,value:o.a.number.isRequired,className:o.a.string,disabled:o.a.bool,orientation:o.a.oneOf([Oe,Se]),onChange:o.a.func,onDragStart:o.a.func,onDragStop:o.a.func,onGlide:o.a.func,onGlideStart:o.a.func,onGlideStop:o.a.func}),xe(je,"defaultProps",{className:"",disabled:!1,orientation:Oe,onChange:function(){},onDragStart:function(){},onDragStop:function(){},onGlideStart:function(){},onGlide:void 0,onGlideStop:function(){}});var Te=function(e){function n(){var e,t;Pe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Be(Ae(t=Ce(this,(e=Ee(n)).call.apply(e,[this].concat(o)))),"onClick",(function(){return t.props.onClick(t.props.data)})),Be(Ae(t),"onMouseOver",(function(){return t.props.onMouseOver(t.props.data)})),Be(Ae(t),"onMouseOut",(function(){return t.props.onMouseOut(t.props.data)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ve(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){return a.a.createElement("div",{className:"fs-video-cue",style:{left:"".concat(100*this.props.data.fraction,"%")},onClick:this.onClick,onMouseOut:this.onMouseOut,onMouseOver:this.onMouseOver})}}])&&Me(t.prototype,r),o&&Me(t,o),n}(i.Component);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ne(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,n){return!n||"object"!==De(n)&&"function"!=typeof n?Fe(e):n}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e,n){return(ze=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function He(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function qe(e){return e<=9?"0".concat(e):e}Be(Te,"propTypes",{data:o.a.object.isRequired,onClick:o.a.func.isRequired,onMouseOut:o.a.func.isRequired,onMouseOver:o.a.func.isRequired});var Ge=function(e){var n=parseInt(e/60,10),t=parseInt(e%60,10);return"".concat(qe(n),":").concat(qe(t))},Ue=function(e){function n(){var e,t;Ie(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return He(Fe(t=Re(this,(e=Le(n)).call.apply(e,[this].concat(o)))),"state",{activeCue:null,glide:{},isGliding:!1,isMuted:!1,isPlaying:!1,isTimeActive:!1,isVolumeActive:!1,lastVolume:1,previewURL:null}),He(Fe(t),"previewNode",null),He(Fe(t),"setPreviewNode",(function(e){t.previewNode=e})),He(Fe(t),"onDragStart",(function(){t.state.isPlaying&&t.props.onPause(),t.setState({isTimeActive:!0})})),He(Fe(t),"onDragStop",(function(){t.state.isPlaying?t.props.onPlay():t.props.onPause(),t.setState({isTimeActive:!1})})),He(Fe(t),"onCueOver",(function(e){t.setState({activeCue:e}),t.previewNode&&(t.previewNode.currentTime=e.time||0)})),He(Fe(t),"onCueOut",(function(){t.setState({activeCue:null})})),He(Fe(t),"onCueClick",(function(e){var n=e.time;return t.onChange(n)})),He(Fe(t),"onChange",(function(e){return t.props.onTimeChange(e)})),He(Fe(t),"onGlideStart",(function(){t.setState({isGliding:!0})})),He(Fe(t),"onGlide",(function(e){t.setState({glide:e}),t.previewNode&&!isNaN(t.previewNode.duration)&&(t.previewNode.currentTime=e.time||0)})),He(Fe(t),"onGlideStop",(function(){t.setState({isGliding:!1})})),He(Fe(t),"onTogglePlay",(function(){var e=t.state.isPlaying,n=t.props,r=n.onPause,o=n.onPlay;e?t.setState({isPlaying:!1},r):t.setState({isPlaying:!0},o)})),He(Fe(t),"onVolumeDragStart",(function(){t.setState({isMuted:!1,isVolumeActive:!0})})),He(Fe(t),"onVolumeDragStop",(function(){t.setState({isVolumeActive:!1})})),He(Fe(t),"onVolumeChange",(function(e){t.props.onVolumeChange(e),t.setState({lastVolume:e})})),He(Fe(t),"onToggleMute",(function(){var e=t.state,n=e.isMuted,r=e.lastVolume;t.setState({isMuted:!n}),t.props.onVolumeChange(n?r:0)})),He(Fe(t),"onToggleFullscreen",(function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();var n=t.props,r=n.isFullscreen,o=n.onEnterFullscreen,i=n.onExitFullscreen;r?i():o()})),He(Fe(t),"onReplay",(function(){t.onChange(0),t.setState({isPlaying:!0},t.props.onPlay)})),He(Fe(t),"onPreviewReady",(function(){var e=document.createElement("canvas");e.width=147,e.height=98,e.getContext("2d").drawImage(t.previewNode,0,0,e.width,e.height);try{t.setState({previewURL:e.toDataURL()})}catch(e){null!==t.state.previewURL&&t.setState({previewURL:null})}})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ze(e,n)}(n,e),t=n,(r=[{key:"componentDidUpdate",value:function(e,n){var t=n.isPlaying,r=n.isTimeActive,o=this.props.hasEnded;!r&&t&&o!==e.hasEnded&&this.props.hasEnded&&this.setState({isPlaying:!1})}},{key:"render",value:function(){var e=this.props,n=e.cues,t=e.currentTime,r=e.duration,o=e.buffered,i=e.thumbPreviewUrl,s=e.crossOrigin,f=this.state,l=f.isPlaying,c=f.isMuted,u=f.isTimeActive,d=f.isVolumeActive,p=f.lastVolume,h=["fs-video-controls-container",{"fs-force-visible":u||d,"fs-hide-controls":l}];return a.a.createElement("div",{className:"fs-video-controls"},a.a.createElement("video",{ref:this.setPreviewNode,controls:!1,crossOrigin:s,height:"100%",preload:"auto",style:{display:"none"},width:"100%",onSeeked:this.onPreviewReady},a.a.createElement("source",{src:i,type:"video/mp4"})),this.renderMainButton(),a.a.createElement("div",{className:S()(h)},a.a.createElement("div",{className:"fs-video-controls-bar"},a.a.createElement(pe.a,{className:S()("fs-video-play",{"fs-is-playing":l}),onClick:this.onTogglePlay}),a.a.createElement("div",{className:"fs-video-time"},Ge(t)),a.a.createElement("div",{className:"fs-video-timeline-container"},a.a.createElement(je,{className:"fs-video-bufferline",disabled:!0,maxValue:r,minValue:0,value:o}),a.a.createElement(je,{className:"fs-video-timeline",maxValue:r,minValue:0,value:t,onChange:this.onChange,onDragStart:this.onDragStart,onDragStop:this.onDragStop,onGlide:this.onGlide,onGlideStart:this.onGlideStart,onGlideStop:this.onGlideStop}),n.map(this.renderCue,this),this.renderGlider()),a.a.createElement("div",{className:"fs-video-time"},Ge(r)),a.a.createElement(pe.a,{className:S()("fs-video-volume-button",{"fs-is-mute":c||!p}),onClick:this.onToggleMute}),a.a.createElement("div",{className:"fs-video-volume-container"},a.a.createElement(je,{className:"fs-video-volume",maxValue:1,minValue:0,value:c?0:p,onChange:this.onVolumeChange,onDragStart:this.onVolumeDragStart,onDragStop:this.onVolumeDragStop})),this.renderFullscreen())))}},{key:"renderMainButton",value:function(){var e=this.props,n=e.buffering,t=e.hasEnded,r=e.currentTime,o=e.duration,i=this.state.isPlaying;return t&&!i&&r===o?a.a.createElement(pe.a,{className:"fs-video-replay",onClick:this.onReplay},"Watch again"):a.a.createElement(pe.a,{className:"fs-controls-shortcuts",onClick:this.onTogglePlay,onDoubleClick:this.onToggleFullscreen},a.a.createElement(q.a,{className:"fs-video-buffering",loading:n&&i}))}},{key:"renderFullscreen",value:function(){var e=this.props,n=e.isFullscreen;return e.fullscreenAvailable?a.a.createElement(pe.a,{className:S()("fs-video-fullscreen",{"fs-exit-fullscreen":n}),onClick:this.onToggleFullscreen}):null}},{key:"renderCue",value:function(e,n){return a.a.createElement(Te,{key:"".concat(e.text,"_").concat(e.time,"_").concat(n),data:e,onClick:this.onCueClick,onMouseOut:this.onCueOut,onMouseOver:this.onCueOver})}},{key:"renderGlider",value:function(){var e=this.state,n=e.glide,t=e.isGliding,r=e.activeCue,o=e.previewURL,i=["fs-video-glider",{"fs-has-preview":o}],s={};if(o&&(s={backgroundImage:"url(".concat(o,")"),height:"105px",width:"154px"}),t){var f=n||{},l=f.time,c=void 0===l?0:l,u=f.style,d=void 0===u?{}:u;return s.left=d.width,a.a.createElement("div",{className:S()(i),style:s},a.a.createElement("div",{className:"fs-video-glider-text"},Ge(c)))}if(r){var p=r.time,h=void 0===p?0:p,g=r.text,m=r.fraction,y=h===g?Ge(h):g;return s.left="".concat(100*m,"%"),a.a.createElement("div",{className:S()(i),style:s},a.a.createElement("div",{className:"fs-video-glider-text"},y))}return null}}])&&Ne(t.prototype,r),o&&Ne(t,o),n}(i.Component);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(){return(We=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Qe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Xe(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,n){return!n||"object"!==Ke(n)&&"function"!=typeof n?Ze(e):n}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e,n,t){return(Je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=$e(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(e,n){return(en=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function nn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}He(Ue,"propTypes",{buffered:o.a.number.isRequired,buffering:o.a.bool.isRequired,crossOrigin:o.a.oneOf(["anonymous","use-credentials"]).isRequired,currentTime:o.a.number.isRequired,duration:o.a.number.isRequired,fullscreenAvailable:o.a.bool.isRequired,hasEnded:o.a.bool.isRequired,isFullscreen:o.a.bool.isRequired,thumbPreviewUrl:o.a.string.isRequired,onEnterFullscreen:o.a.func.isRequired,onExitFullscreen:o.a.func.isRequired,onPause:o.a.func.isRequired,onPlay:o.a.func.isRequired,onTimeChange:o.a.func.isRequired,onVolumeChange:o.a.func.isRequired,cues:o.a.array}),He(Ue,"defaultProps",{cues:[]});var tn=ce||ue,rn={controls:tn,height:"100%",preload:"auto",width:"100%"},on=function(e){function n(){var e,t;Qe(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return nn(Ze(t=Ye(this,(e=$e(n)).call.apply(e,[this].concat(o)))),"onVideoLoaded",(function(){return t.setState({buffered:t.getLastBuffered()})})),nn(Ze(t),"onVideoReady",(function(){t.setState({buffered:t.getLastBuffered(),buffering:!1,cues:t.getCues(),error:!1,loading:!1,previewNode:t.videoNode.cloneNode(!0)})})),nn(Ze(t),"onVideoProgress",(function(){var e=t.videoNode.HAVE_FUTURE_DATA||3;t.setState({buffered:t.getLastBuffered(),buffering:t.videoNode.readyState<e})})),nn(Ze(t),"onVideoPlay",(function(){t.state.statsSent||p.a.trackOnce("view","file",t.state.fileId),t.setState({hasEnded:!1,statsSent:!0})})),nn(Ze(t),"onVideoSeek",(function(){return t.setState({buffered:t.getLastBuffered()})})),nn(Ze(t),"onVideoTimeUpdate",(function(){var e=t.videoNode.currentTime;t.state.currentTime!==e&&t.setState({currentTime:e}),t.setState({buffered:t.getLastBuffered()})})),nn(Ze(t),"onVideoEnd",(function(){t.setState({hasEnded:!0,playCount:t.state.playCount+1,statsSent:!1})})),nn(Ze(t),"onVideoError",(function(){return t.setState({error:!0,loading:!1})})),nn(Ze(t),"onSlide",(function(e){t.videoNode.currentTime=e,t.setState({currentTime:e})})),nn(Ze(t),"onPlay",(function(){t.videoNode.play(),t.setState({hasEnded:!1})})),nn(Ze(t),"onPause",(function(){return t.videoNode.pause()})),nn(Ze(t),"onEnterFullscreen",(function(){return le.a.request(t.rootNode)})),nn(Ze(t),"onExitFullscreen",(function(){return le.a.exit()})),nn(Ze(t),"onVolumeChange",(function(e){t.videoNode.volume=e})),nn(Ze(t),"onToggleFullscreen",(function(){return t.setState({isFullscreen:le.a.isFullscreen})})),nn(Ze(t),"rootNode",null),nn(Ze(t),"setRootNode",(function(e){t.rootNode=e})),nn(Ze(t),"videoNode",null),nn(Ze(t),"setVideoNode",(function(e){t.videoNode=e})),nn(Ze(t),"trackNode",null),nn(Ze(t),"setTrackNode",(function(e){t.trackNode=e})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&en(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){Je($e(n.prototype),"componentDidMount",this).call(this),le.a.enabled&&le.a.on("change",this.onToggleFullscreen)}},{key:"componentDidUpdate",value:function(){this.trackNode&&"hidden"!==this.trackNode.track.mode&&(this.trackNode.track.mode="hidden")}},{key:"componentWillUnmount",value:function(){Je($e(n.prototype),"componentWillUnmount",this).call(this),le.a.enabled&&le.a.off("change",this.onToggleFullscreen)}},{key:"render",value:function(){var e=this.props,n=e.maxWidth,t=e.maxHeight,r=e.mode,o=this.state,i=o.loading,s=o.error,f=o.previewUrl,l=o.url,c=o.isFullscreen,u=o.crossOrigin,d={maxHeight:c?"100%":t,maxWidth:c?"100%":n},p=["fs-display","fs-media-wrapper","fs-mode-".concat(r)];return a.a.createElement("div",{ref:this.setRootNode,className:S()(p),style:d},a.a.createElement(q.a,{alwaysShowContent:!1,className:"fs-video-loader",error:s,errorMessage:"Sorry we could not load your data.",loading:!u&&i},a.a.createElement("video",We({},rn,{ref:this.setVideoNode,crossOrigin:u,poster:f,onCanPlay:this.onVideoReady,onEnded:this.onVideoEnd,onError:this.onVideoError,onLoadedMetadata:this.onVideoLoaded,onPlay:this.onVideoPlay,onProgress:this.onVideoProgress,onSeeked:this.onVideoSeek,onTimeUpdate:this.onVideoTimeUpdate}),a.a.createElement("source",{src:l,type:"video/mp4"}),this.renderTrack()),this.renderControls()))}},{key:"renderTrack",value:function(){var e=this.state.chaptersUrl;return e?a.a.createElement("track",{ref:this.setTrackNode,kind:"chapters",label:"Chapters",src:e}):null}},{key:"renderControls",value:function(){if(tn)return null;var e=this.state,n=e.loading,t=e.error;if(!this.videoNode||n||t||!this.props.showControls)return null;var r=this.state,o=r.buffered,i=r.buffering,s=r.cues,f=r.hasEnded,l=r.isFullscreen,c=r.url,u=r.currentTime,d=r.crossOrigin,p=this.videoNode,h=p.duration,g=p.volume;return a.a.createElement(Ue,{buffered:o,buffering:i,crossOrigin:d,cues:s,currentTime:Object(de.e)(u,0,h),duration:h,fullscreenAvailable:le.a.enabled,hasEnded:f,isFullscreen:l,thumbPreviewUrl:c,volume:g,onEnterFullscreen:this.onEnterFullscreen,onExitFullscreen:this.onExitFullscreen,onPause:this.onPause,onPlay:this.onPlay,onTimeChange:this.onSlide,onVolumeChange:this.onVolumeChange})}},{key:"getLastBuffered",value:function(){var e=0,n=this.videoNode.buffered.length-1;return n>=0&&(e=this.videoNode.buffered.end(n)),e}},{key:"getCues",value:function(){if(!this.trackNode)return[];var e=this.trackNode.LOADED||2,n=this.trackNode.track;if(this.trackNode.readyState!==e||!n||!n.cues)return[];var t=this.videoNode.duration;return Array.from(n.cues).map((function(e){var n=e.text,r=e.startTime;return{fraction:Object(de.e)(r,0,t)/t,text:n||r,time:r}}))}}])&&Xe(t.prototype,r),o&&Xe(t,o),n}(V);function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(){return(sn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function fn(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ln(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,n){return!n||"object"!==an(n)&&"function"!=typeof n?un(e):n}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(e,n,t){return(dn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=pn(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hn(e,n){return(hn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function gn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}nn(on,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number,mode:o.a.oneOf(["desktop","mobile"]),showControls:o.a.bool}),nn(on,"defaultProps",{mode:"desktop",showControls:!0});var mn=function(e){function n(){var e,t;fn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return gn(un(t=cn(this,(e=pn(n)).call.apply(e,[this].concat(o)))),"viewer",null),gn(un(t),"canvasNode",null),gn(un(t),"setCanvasNode",(function(e){t.canvasNode=e})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&hn(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){dn(pn(n.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"componentDidUpdate",value:function(e){if(this._initViewer(),this.viewer){this.props.focused||(this.viewer.cameraRotation=!0);var n=this.props,t=n.maxWidth,r=n.maxHeight;t===e.maxWidth&&r===e.maxHeight||this.viewer.resize(t,r)}}},{key:"componentWillUnmount",value:function(){dn(pn(n.prototype),"componentWillUnmount",this).call(this),this.viewer&&this.viewer.stop()}},{key:"render",value:function(){var e={width:this.props.maxWidth,height:this.props.maxHeight};return a.a.createElement("div",{className:"fs-display fs-viewer3d-display",style:e},a.a.createElement(q.a,{error:!!this.state.error,errorMessage:"Sorry we could not load your data",loading:this.state.loading},a.a.createElement("canvas",sn({ref:this.setCanvasNode},e))))}},{key:"_initViewer",value:function(){var e=this.state,n=e.bin,t=e.meta,r=e.Viewer3D;!this.viewer&&this.canvasNode&&n&&t&&r&&(this.viewer=new r(this.canvasNode,{alpha:!0}),this.viewer.setModelBinary(t,n),this.viewer.start(),this.viewer.resize(this.props.maxWidth,this.props.maxHeight))}}])&&ln(t.prototype,r),o&&ln(t,o),n}(V);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function bn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,n){return!n||"object"!==yn(n)&&"function"!=typeof n?xn(e):n}function _n(e){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function On(e,n){return(On=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Sn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function jn(e){return e<=9?"0".concat(e):e}gn(mn,"propTypes",{flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number});var kn=function(e){var n=parseInt(e/60,10),t=parseInt(e%60,10);return"".concat(jn(n),":").concat(jn(t))},Pn=function(e){function n(){var e,t;vn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Sn(xn(t=wn(this,(e=_n(n)).call.apply(e,[this].concat(o)))),"state",{glide:{},isGliding:!1,isMuted:!1,isPlaying:!1,isTimeActive:!1,lastVolume:1}),Sn(xn(t),"onDragStart",(function(){t.state.isPlaying&&t.props.onPause(),t.setState({isTimeActive:!0})})),Sn(xn(t),"onDragStop",(function(){t.state.isPlaying?t.props.onPlay():t.props.onPause(),t.setState({isTimeActive:!1})})),Sn(xn(t),"onChange",(function(e){return t.props.onTimeChange(e)})),Sn(xn(t),"onGlideStart",(function(){return t.setState({isGliding:!0})})),Sn(xn(t),"onGlide",(function(e){return t.setState({glide:e})})),Sn(xn(t),"onGlideStop",(function(){return t.setState({isGliding:!1})})),Sn(xn(t),"onTogglePlay",(function(){var e=t.state.isPlaying,n=t.props,r=n.onPause,o=n.onPlay;e?t.setState({isPlaying:!1},r):t.setState({isPlaying:!0},o)})),Sn(xn(t),"onVolumeDragStart",(function(){return t.setState({isMuted:!1})})),Sn(xn(t),"onVolumeChange",(function(e){t.props.onVolumeChange(e),t.setState({lastVolume:e})})),Sn(xn(t),"onToggleMute",(function(){var e=t.state,n=e.isMuted,r=e.lastVolume;t.setState({isMuted:!n}),t.props.onVolumeChange(n?r:0)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&On(e,n)}(n,e),t=n,(r=[{key:"componentDidUpdate",value:function(e){var n=this.state,t=n.isPlaying,r=n.isTimeActive,o=this.props.hasEnded;!r&&t&&o!==e.hasEnded&&o&&this.setState({isPlaying:!1})}},{key:"render",value:function(){var e=this.props,n=e.currentTime,t=e.duration,r=e.buffered,o=this.state,i=o.isPlaying,s=o.isMuted,f=o.lastVolume;return a.a.createElement("div",{className:"fs-audio-controls"},a.a.createElement("div",{className:"fs-audio-controls-bar"},a.a.createElement(pe.a,{"aria-label":i?"Pause":"Play",className:S()("fs-audio-play",{"fs-is-playing":i}),onClick:this.onTogglePlay}),a.a.createElement("div",{className:"fs-audio-time"},kn(n)),a.a.createElement("div",{className:"fs-audio-timeline-container"},a.a.createElement(je,{className:"fs-audio-bufferline",disabled:!0,maxValue:t,minValue:0,value:r}),a.a.createElement(je,{className:"fs-audio-timeline",maxValue:t,minValue:0,value:n,onChange:this.onChange,onDragStart:this.onDragStart,onDragStop:this.onDragStop,onGlide:this.onGlide,onGlideStart:this.onGlideStart,onGlideStop:this.onGlideStop}),this.renderGlider()),a.a.createElement("div",{className:"fs-audio-time"},kn(t)),a.a.createElement(pe.a,{"aria-label":s||!f?"Unmute":"Mute",className:S()("fs-audio-volume-button",{"fs-is-mute":s||!f}),onClick:this.onToggleMute}),a.a.createElement("div",{className:"fs-audio-volume-container"},a.a.createElement(je,{className:"fs-audio-volume",maxValue:1,minValue:0,value:s?0:f,onChange:this.onVolumeChange,onDragStart:this.onVolumeDragStart}))))}},{key:"renderGlider",value:function(){var e=this.state,n=e.glide;if(!e.isGliding)return null;var t=n||{},r=t.time,o=void 0===r?0:r,i=t.style,s=void 0===i?{}:i;return a.a.createElement("div",{className:"fs-audio-glider",style:{left:s.width}},kn(o))}}])&&bn(t.prototype,r),o&&bn(t,o),n}(i.Component);function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(){return(Cn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function En(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function An(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vn(e,n){return!n||"object"!==Mn(n)&&"function"!=typeof n?Tn(e):n}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dn(e,n){return(Dn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function In(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Sn(Pn,"propTypes",{buffered:o.a.number.isRequired,currentTime:o.a.number.isRequired,duration:o.a.number.isRequired,hasEnded:o.a.bool.isRequired,onPause:o.a.func.isRequired,onPlay:o.a.func.isRequired,onTimeChange:o.a.func.isRequired,onVolumeChange:o.a.func.isRequired});var Nn=ce||ue,Rn={controls:Nn,preload:"auto"},Ln=function(e){function n(){var e,t;En(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return In(Tn(t=Vn(this,(e=Bn(n)).call.apply(e,[this].concat(o)))),"onAudioLoaded",(function(){t.setState({buffered:t.getLastBuffered()})})),In(Tn(t),"onAudioReady",(function(){t.setState({buffered:t.getLastBuffered(),buffering:!1,error:!1,loading:!1})})),In(Tn(t),"onAudioProgress",(function(){var e=t.audioNode.HAVE_FUTURE_DATA||3;t.setState({buffered:t.getLastBuffered(),buffering:t.audioNode.readyState<e})})),In(Tn(t),"onAudioPlay",(function(){t.state.statsSent||p.a.trackOnce("view","file",t.state.fileId),t.setState({hasEnded:!1})})),In(Tn(t),"onAudioSeek",(function(){t.setState({buffered:t.getLastBuffered()})})),In(Tn(t),"onAudioTimeUpdate",(function(){var e=t.audioNode.currentTime;t.state.currentTime!==e&&t.setState({currentTime:e}),t.setState({buffered:t.getLastBuffered()})})),In(Tn(t),"onAudioEnd",(function(){t.setState({hasEnded:!0,playCount:t.state.playCount+1,statsSent:!1})})),In(Tn(t),"onAudioError",(function(){return t.setState({error:!0,loading:!1})})),In(Tn(t),"onTimeChange",(function(e){t.audioNode.currentTime=e,t.setState({currentTime:e})})),In(Tn(t),"onPlay",(function(){t.audioNode.play(),t.setState({hasEnded:!1})})),In(Tn(t),"onPause",(function(){return t.audioNode.pause()})),In(Tn(t),"onVolumeChange",(function(e){t.audioNode.volume=e})),In(Tn(t),"audioNode",null),In(Tn(t),"setAudioNode",(function(e){t.audioNode=e})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Dn(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.maxWidth,t=e.maxHeight,r=e.mode,o=this.state,i=o.loading,s=o.error,f=o.url,l=o.crossOrigin,c=["fs-mode-".concat(r),{"native-controls":Nn}];return a.a.createElement("div",{className:S()("fs-display","fs-audio-wrapper",c),style:{maxHeight:t,maxWidth:n}},a.a.createElement(q.a,{alwaysShowContent:!1,className:"fs-audio-loader",error:!!s,errorMessage:"Sorry we could not load your data.",loading:!l&&i},a.a.createElement("audio",Cn({},Rn,{ref:this.setAudioNode,crossOrigin:l,onCanPlay:this.onAudioReady,onEnded:this.onAudioEnd,onError:this.onAudioError,onLoadedMetadata:this.onAudioLoaded,onPlay:this.onAudioPlay,onProgress:this.onAudioProgress,onSeeked:this.onAudioSeek,onTimeUpdate:this.onAudioTimeUpdate}),a.a.createElement("source",{src:f,type:"audio/mpeg"})),this.renderControls()))}},{key:"renderControls",value:function(){if(Nn)return null;var e=this.state,n=e.loading,t=e.error,r=e.buffered,o=e.buffering,i=e.hasEnded,s=e.currentTime;if(!this.audioNode||n||t)return null;var f=this.audioNode,l=f.duration,c=f.volume;return a.a.createElement(Pn,{buffered:r,buffering:o,currentTime:Object(de.e)(s,0,l),duration:l,hasEnded:i,volume:c,onPause:this.onPause,onPlay:this.onPlay,onTimeChange:this.onTimeChange,onVolumeChange:this.onVolumeChange})}},{key:"getLastBuffered",value:function(){var e=0,n=this.audioNode.buffered.length-1;return n>=0&&(e=this.audioNode.buffered.end(n)),e}}])&&An(t.prototype,r),o&&An(t,o),n}(V);function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zn(){return(zn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Hn(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function qn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,n){return!n||"object"!==Fn(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Un(e,n,t){return(Un="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=Kn(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wn(e,n){return(Wn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}In(Ln,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number,mode:o.a.oneOf(["desktop","mobile"])}),In(Ln,"defaultProps",{mode:"desktop"});var Qn=function(e){function n(){var e,t;Hn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=Gn(this,(e=Kn(n)).call.apply(e,[this].concat(o)))).viewer=null,t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Wn(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){Un(Kn(n.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"componentDidUpdate",value:function(e,n){if(this._initViewer(),this.viewer){var t=this.state.fromAnimation;t||t===n.fromAnimation||(this.viewer.isAnimating=!1),t||this.state.currentFrame===n.currentFrame||this.viewer.setIndex(this.state.currentFrame),this.state.isAnimating&&this.state.currentFPS!==n.currentFPS&&this.viewer.setAnimationDelay(1e3/this.state.currentFPS),this.props.focused||(this.viewer.cameraRotation=!0);var r=this.props,o=r.maxWidth,i=r.maxHeight;o===e.maxWidth&&i===e.maxHeight||this.viewer.resize(o,i)}}},{key:"componentWillUnmount",value:function(){Un(Kn(n.prototype),"componentWillUnmount",this).call(this),this.viewer&&this.viewer.stop()}},{key:"render",value:function(){var e=this.state,n=e.loading,t=e.error,r=this.props,o=r.maxWidth,i=r.maxHeight,s=r.mode,f={width:o,height:i},l=["fs-display","fs-molecule-display","fs-mode-".concat(s)];return a.a.createElement("div",{className:S()(l),style:f},a.a.createElement(q.a,{error:!!t,errorMessage:"Sorry we could not load your data",loading:n},a.a.createElement("canvas",zn({},f,{ref:"canvas"})),this.renderSpeedControls()))}},{key:"renderSpeedControls",value:function(){var e=this.state,n=e.loaded,t=e.comments;if(!this.viewer||!n||t.length<2||!this.props.showControls)return null;if(!this.state.isAnimating)return a.a.createElement("div",{className:"fs-speed-controls"},a.a.createElement(pe.a,{key:"play",className:"fs-play",title:"Play",type:"button",onClick:this.handle("onPlay")}));var r=this.state,o=r.isDefaultFPS,i=r.canDecreaseFPS,s=r.canIncreaseFPS,f=r.currentFPS,l=["fs-speed-indicator",{"default-speed":o}],c="".concat(f," fps");return o&&(c="Normal ".concat(c)),a.a.createElement("div",{className:"fs-speed-controls"},a.a.createElement(pe.a,{key:"decrease-speed",className:"fs-decrease-speed",disabled:!i,title:"Decrease speed",onClick:this.handle("onDecreaseSpeed")}),a.a.createElement(pe.a,{key:"pause",className:"fs-pause",title:"Pause",onClick:this.handle("onPause")},a.a.createElement("span",{className:S()(l)},c)),a.a.createElement(pe.a,{key:"increase-speed",className:"fs-increase-speed",disabled:!s,title:"Increase speed",onClick:this.handle("onIncreaseSpeed")}))}},{key:"onPlay",value:function(){this.changeAnimatingTo(!0)}},{key:"onPause",value:function(){this.changeAnimatingTo(!1)}},{key:"changeAnimatingTo",value:function(e){this.viewer&&(this.viewer.isAnimating=e,this.props.flux.getActions("DisplayModel").setCommand({command:"animationChange",data:{isAnimating:this.viewer.isAnimating,fromAnimation:!1}}))}},{key:"onDecreaseSpeed",value:function(){this.props.flux.getActions("DisplayModel").setCommand({command:"decreaseFPS"})}},{key:"onIncreaseSpeed",value:function(){this.props.flux.getActions("DisplayModel").setCommand({command:"increaseFPS"})}},{key:"_initViewer",value:function(){var e=this.refs.canvas,n=this.state,t=n.molecule,r=n.MoleculeViewer;if(!this.viewer&&e&&t&&r){var o=this.props,i=o.maxWidth,a=o.maxHeight;this.viewer=new r(f.a.findDOMNode(e),{alpha:!0,onIndexChange:this.handle("onIndexSync")}),this.viewer.setModel(t),this.viewer.start(),this.viewer.resize(i,a),this.setState({viewerLoaded:!!this.viewer})}}},{key:"onIndexSync",value:function(e){var n=this.props.flux.getActions("DisplayModel");e!==this.state.currentFrame&&n.setCommand({command:"changeFrame",data:{currentFrame:e,fromAnimation:!0,isAnimating:this.viewer.isAnimating}})}}])&&qn(t.prototype,r),o&&qn(t,o),n}(V);function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Zn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,n){return!n||"object"!==Xn(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function $n(e,n,t){return($n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=et(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,n){return(nt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}Qn.defaultProps={showControls:!0,mode:"desktop"},Qn.propTypes={flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number,mode:o.a.oneOf(["desktop","mobile"]),showControls:o.a.bool};var tt=function(e){function n(){var e,t;Yn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=Jn(this,(e=et(n)).call.apply(e,[this].concat(o)))).state.visiblePages=[],t.state.currentPage=0,t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&nt(e,n)}(n,e),t=n,(r=[{key:"componentDidUpdate",value:function(e){var n=this.props,t=n.maxWidth,r=n.maxHeight;e.maxWidth===t&&e.maxHeight===r||this._changeDisplayArea(t,r)}},{key:"componentDidMount",value:function(){$n(et(n.prototype),"componentDidMount",this).call(this);var e=this.props,t=e.maxWidth,r=e.maxHeight;this._changeDisplayArea(t,r),this.updatePages()}},{key:"render",value:function(){var e=this.props,n=e.maxWidth,t=e.maxHeight,r=this.state.pages.map(this.renderPage,this),o={width:n||0,height:t||0};return a.a.createElement("div",{ref:"pagesWrapper",className:"fs-display fs-document-display",style:o,tabIndex:0,onScroll:this.handle("updatePages")},r)}},{key:"renderPage",value:function(e,n){var t=e.state,r=t.url,o=t.loading,i=t.error,s=t.loaded,f=e.state,l=f.width,c=f.height,u=this.props,d=u.maxWidth,p=u.maxHeight;(o&&!s||i)&&(l=d-60,c=p);var h=S()("fs-image-display",{"fs-current-page":this.state.currentPage===n,"fs-prev-page":this.state.currentPage>n,"fs-next-page":this.state.currentPage<n});return a.a.createElement("div",{key:n,ref:"page-".concat(n),className:h,style:{width:l,height:c}},a.a.createElement(q.a,{error:!!i,errorMessage:"Sorry we could not load this page.",loading:o&&!s},a.a.createElement("img",{key:r,height:c,src:r,width:l})))}},{key:"updatePages",value:function(){var e=this,n=this._computeVisibility(),t=n.current,r=n.visible,o=this.state,i=o.currentPage,a=o.visiblePages,s=!1;s=r.length!==a.length||a.some((function(e){return-1===r.indexOf(e)})),t!==i&&(s=!0),s&&this.setState({currentPage:t,visiblePages:r},(function(){var n=e.props,t=n.maxWidth,r=n.maxHeight;e._changeDisplayArea(t,r)}))}},{key:"_changeDisplayArea",value:function(e,n){this.props.flux.getActions("DisplayModel").setCommand({command:"change",data:{index:this.state.visiblePages,maxWidth:e-60,maxHeight:n}})}},{key:"_computeVisibility",value:function(){var e=this,n=this.refs.pagesWrapper,t=this.state.pages.map((function(n){var t=n.index;return e.refs["page-".concat(t)]}));return de.g.getVisibleNodes({wrapper:n,elements:t,elementCoverage:.5,viewportCoverage:.5})}}])&&Zn(t.prototype,r),o&&Zn(t,o),n}(V);!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(tt,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number});var rt=t(381);function ot(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function it(e,n,t){return(it="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=pt(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,n,t,r,o,i,a){try{var s=e[i](a),f=s.value}catch(e){return void t(e)}s.done?n(f):Promise.resolve(f).then(r,o)}function ft(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){st(i,r,o,a,s,"next",e)}function s(e){st(i,r,o,a,s,"throw",e)}a(void 0)}))}}function lt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ct(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,n,t){return n&&ct(e.prototype,n),t&&ct(e,t),e}function dt(e,n){return!n||"object"!==at(n)&&"function"!=typeof n?ht(e):n}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&mt(e,n)}function mt(e,n){return(mt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function yt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var vt=function(e,n){return Array.from({length:n-e}).map((function(n,t){return t+e}))},bt=function(e){function n(){var e,t;lt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return yt(ht(t=dt(this,(e=pt(n)).call.apply(e,[this].concat(o)))),"canvasNode",null),yt(ht(t),"textNode",null),yt(ht(t),"setCanvasRef",(function(e){return t.canvasNode=e})),yt(ht(t),"setTextNodeRef",(function(e){return t.textNode=e})),yt(ht(t),"draw",ft(regeneratorRuntime.mark((function e(){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props.page,r=ht(t),o=r.canvasNode,i=r.textNode,n&&o&&i){e.next=4;break}return e.abrupt("return");case 4:if(!t.state.rendering){e.next=7;break}return t.setState({redraw:!0}),e.abrupt("return");case 7:return t.setState({rendering:!0}),e.prev=8,e.next=11,n.draw(o,i);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(8);case 15:t.mounted&&t.setState({rendering:!1},t.checkRedraw);case 16:case"end":return e.stop()}}),e,null,[[8,13]])})))),yt(ht(t),"checkRedraw",(function(){t.state.redraw&&t.setState({redraw:!1},t.draw)})),t}return gt(n,e),ut(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.page&&this.draw()}},{key:"componentDidUpdate",value:function(e){if(this.props.page){var n=e.page,t=e.zoom;if(n){var r=n.scale!==this.props.page.scale,o=t!==this.props.zoom;(r||o)&&this.draw()}else this.draw()}else e.page&&e.page.stop()}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.page;e&&e.stop()}},{key:"render",value:function(){var e=this.props,n=e.defaultSize,t=e.page,r=e.forwardedRef,o=e.showLoading;if(!t&&!n)return null;var i=t||n,s=i.width,f=i.height,l=i.canvasWidth,c=i.canvasHeight,u=i.scale;if(!t){var d=o?a.a.createElement(q.a,{className:"fs-loading-layer",loading:!0}):null;return a.a.createElement("div",{ref:r,className:"fs-page-wrapper",style:{width:s,height:f}},d)}return a.a.createElement("div",{ref:r,className:"fs-page-wrapper",style:{width:s,height:f}},a.a.createElement("canvas",{ref:this.setCanvasRef,height:c,style:{width:s,height:f},width:l}),a.a.createElement("div",{key:u,ref:this.setTextNodeRef,className:"fs-text-layer"}),this.renderLoading())}},{key:"renderLoading",value:function(){return this.state.rendering?a.a.createElement(q.a,{className:"fs-loading-layer",loading:!0}):null}}]),n}(rt.a);yt(bt,"propTypes",{defaultSize:o.a.object,forwardedRef:o.a.func,page:o.a.object,showLoading:o.a.bool,zoom:o.a.number}),yt(bt,"defaultProps",{defaultSize:void 0,forwardedRef:function(){},page:void 0,showLoading:!1,zoom:void 0});var wt=function(e){function n(){var e,t;lt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return yt(ht(t=dt(this,(e=pt(n)).call.apply(e,[this].concat(o)))),"state",{visibleNodes:[0],loadingNodes:vt(0,10)}),yt(ht(t),"renderPage",(function(e,n){var r=t.state,o=r.defaultSize,i=r.loadingNodes,s=r.pageSizes,f=i.includes(n);return a.a.createElement(bt,{key:n,defaultSize:s[n]||o,forwardedRef:t.setPageRef(n),page:e,showLoading:f,zoom:t.state.currentZoom})})),yt(ht(t),"initialLoadTimeout",null),yt(ht(t),"pagesLoadTimeout",null),yt(ht(t),"pages",{}),yt(ht(t),"setPageRef",(function(e){return function(n){return t.pages[e]=n}})),yt(ht(t),"container",null),yt(ht(t),"setContainerRef",(function(e){return t.container=e})),yt(ht(t),"onScroll",(function(e){var n=e.target.scrollTop,r=e.target.offsetHeight;clearTimeout(t.pagesLoadTimeout),t.pagesLoadTimeout=setTimeout((function(){return t.loadVisiblePages(n,r)}),100)})),yt(ht(t),"loadVisiblePages",(function(e,n){var r=t.state,o=r.model,i=r.defaultSize,a=r.pageSizes,s=Math.ceil(n/(i.height+30));if(o&&o.pages&&o.pages.length){for(var f=30,l=[],c=0;c<o.pages.length&&f<e+n;c+=1){var u=Math.max(0,c-(s-1)-2);l=vt(u,c+2),f+=(a[c]||o.pages[c]||i).height+30}var d=l[0],p=l[l.length-1],h=Math.max(0,d-10),g=Math.min(o.pdf.numPages,p+10),m=vt(h,g);t.setState({visibleNodes:l,loadingNodes:m}),t.props.flux.getActions("DisplayModel").setCommand({command:"loadPages",data:{visibleNodes:l}})}})),t}return gt(n,e),ut(n,[{key:"componentDidMount",value:function(){var e=this;it(pt(n.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"setMaxWidth",data:{maxWidth:this.props.maxWidth-70}}),this.initialLoadTimeout=setTimeout((function(){e.props.flux.getActions("DisplayModel").setCommand({command:"load"})}),200)}},{key:"componentDidUpdate",value:function(e,n){var t=this;this.container&&!this.state.container&&setTimeout((function(){t.props.flux.getActions("DisplayModel").setCommand({command:"setContainer",data:{container:t.container}})}),0),this.props.maxWidth!==e.maxWidth&&this.props.flux.getActions("DisplayModel").setCommand({command:"setMaxWidth",data:{maxWidth:this.props.maxWidth-70}});var r=!1,o=!1;this.state.defaultSize&&(n.defaultSize?this.state.defaultSize.width!==n.defaultSize.width&&(o=!0):r=!0);var i=this.container;i&&(r||o)&&setTimeout((function(){return t.loadVisiblePages(i.scrollTop,i.offsetHeight)}),0)}},{key:"componentWillUnmount",value:function(){var e=this.state.model;e&&e.pdf&&e.pdf.destroy&&e.pdf.destroy(),clearTimeout(this.initialLoadTimeout),this.props.flux.getActions("DisplayModel").setCommand({command:"setContainer",data:{container:void 0}}),it(pt(n.prototype),"componentWillUnmount",this).call(this)}},{key:"render",value:function(){var e={width:this.props.maxWidth||0,height:this.props.maxHeight||0};return a.a.createElement("div",{className:S()(["fs-display","fs-document-display"]),style:e},a.a.createElement(q.a,{error:!!this.state.error,errorMessage:"Sorry we could not load your data.",loading:this.state.loading},a.a.createElement("div",{ref:this.setContainerRef,className:"fs-canvas-document-container",style:e,tabIndex:0,onScroll:this.handle("onScroll")},this.renderPages())))}},{key:"renderPages",value:function(){var e=this.state,n=e.model,t=e.visibleNodes,r=e.resizing;return n?ot(n.pages).map((function(e,n){return t.includes(n)&&!r?e:void 0})).map(this.renderPage):null}}]),n}(V);yt(wt,"propTypes",{flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number}),yt(wt,"defaultProps",{focused:!1,maxHeight:void 0,maxWidth:void 0});var _t=t(375);function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function St(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,n){return!n||"object"!==xt(n)&&"function"!=typeof n?Pt(e):n}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e,n){return(Mt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Ct(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Et=function(e){function n(){var e,t;Ot(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ct(Pt(t=jt(this,(e=kt(n)).call.apply(e,[this].concat(o)))),"onMoveLeft",(function(){var e=t.refs,n=e.wrapper,r=e.container;if(n&&r){var o=n.offsetWidth,i=t.state.leftOffset;(i+=o*t.props.movementFactor)>0&&(i=0),t.setState({leftOffset:i})}})),Ct(Pt(t),"onMoveRight",(function(){var e=t.refs,n=e.wrapper,r=e.container;if(n&&r){var o=n.offsetWidth,i=r.offsetWidth,a=t.state.leftOffset;(a-=o*t.props.movementFactor)-o<-i&&(a=o-i-20),t.setState({leftOffset:a})}})),t.state={controlsActive:!1,leftOffset:0},t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Mt(e,n)}(n,e),t=n,(r=[{key:"componentDidUpdate",value:function(){var e=this.refs,n=e.wrapper,t=e.container;if(n&&t){var r=n.offsetWidth,o=t.offsetWidth,i=this.state.controlsActive;o>r&&!i?this.setState({controlsActive:!0}):o<=r&&i&&this.setState({controlsActive:!1})}}},{key:"render",value:function(){var e=this.state,n=e.controlsActive,t=e.leftOffset,r=this.getLeftRightBoundries(),o=r.left,i=r.right,s=S()("fs-carousel-wrapper",{"fs-controls-active":n,"fs-fade-left":o,"fs-fade-right":i});return a.a.createElement("div",{className:"fs-carousel"},a.a.createElement("div",{ref:"wrapper",className:s},a.a.createElement("div",{ref:"container",className:"fs-carousel-container",style:{left:t}},this.props.children)),this.renderControls({left:o,right:i}))}},{key:"renderControls",value:function(e){var n=e.left,t=e.right;if(!n&&!t)return null;var r=S()("fs-carousel-left-control",{"fs-active":n}),o=S()("fs-carousel-right-control",{"fs-active":t});return a.a.createElement("div",{className:"fs-carousel-controls"},a.a.createElement(pe.a,{"aria-label":"Previous",className:r,onClick:this.onMoveLeft}),a.a.createElement(pe.a,{"aria-label":"Next",className:o,onClick:this.onMoveRight}))}},{key:"getLeftRightBoundries",value:function(){var e=this.refs,n=e.wrapper,t=e.container,r=this.state,o=r.controlsActive,i=r.leftOffset;return o&&n&&t?{left:i<0,right:i-n.offsetWidth>-t.offsetWidth}:{left:!1,right:!1}}}])&&St(t.prototype,r),o&&St(t,o),n}(_t.a);function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Bt(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,n){return!n||"object"!==At(n)&&"function"!=typeof n?Dt(e):n}function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function It(e,n,t){return(It="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=Nt(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e,n){return(Rt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Lt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Ct(Et,"propTypes",{children:o.a.any,movementFactor:o.a.number}),Ct(Et,"defaultProps",{children:void 0,movementFactor:.5});var Ft=function(e){function n(){var e,t;Vt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Lt(Dt(t=Tt(this,(e=Nt(n)).call.apply(e,[this].concat(o)))),"headerRow",null),Lt(Dt(t),"setHeaderRow",(function(e){return t.headerRow=e})),Lt(Dt(t),"tableBody",null),Lt(Dt(t),"setTableBody",(function(e){return t.tableBody=e})),Lt(Dt(t),"_loadPage",(function(e){return function(){var n={index:e};t.props.flux.getActions("DisplayModel").setCommand({command:"load",data:n})}})),t.state.extraRows=0,t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Rt(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){It(Nt(n.prototype),"componentDidMount",this).call(this),this._loadPage(this.state.currentSheet)()}},{key:"componentDidUpdate",value:function(){var e=this.headerRow,n=this.tableBody;if(e&&n){var t=n.offsetHeight,r=e.offsetHeight,o=this.props.maxHeight,i=0;if(t+r<o&&r){var a=o-t-r;i=Math.floor(a/r)}i!==this.state.extraRows&&this.setState({extraRows:i})}}},{key:"render",value:function(){var e=this.props,n=e.maxWidth,t=e.maxHeight,r=this.state,o=r.currentSheet,i=r.sheets,s=r.extraRows,f=i[o],l=f.loading,c=f.loaded,u=i[o].error,d="Sorry we could not load this page.";if(c&&!u){var p=i[o].model,h=p.rows,g=p.cols;h||g||(u=!0,d="Empty sheet.")}var m={width:n,maxHeight:t-35};return s&&(m.overflowY="hidden"),a.a.createElement("div",{className:"fs-display fs-dataset-display",style:{maxWidth:n,maxHeight:t}},a.a.createElement("div",{className:"fs-sheet-display",style:m,tabIndex:0},a.a.createElement(q.a,{error:!!u,errorMessage:d,loading:l},this.renderSheet(i[o]))),a.a.createElement(Et,null,this.state.sheets.map(this.renderSelector,this)))}},{key:"renderSheet",value:function(e){if(!e.loaded||e.error)return null;for(var n=e.model,t=n.colsHead.map(this.renderHeaderCell,this),r=n.rows,o=[],i=0;i<r;i+=1)o.push(this.renderRow(i));return a.a.createElement("div",{className:"fs-sheet-wrapper"},a.a.createElement("table",{className:"fs-sheet-table"},a.a.createElement("thead",{ref:this.setHeaderRow},a.a.createElement("tr",null,a.a.createElement("th",null),t)),a.a.createElement("tbody",{ref:this.setTableBody},o),a.a.createElement("tfoot",null,this.renderExtraRows(e))))}},{key:"renderExtraRows",value:function(e){var n=this.state.extraRows;if(!e.loaded||e.error||!n)return null;for(var t=e.model,r=t.colsHead,o=t.rows,i=r.length,s=[],f=0;f<n;f+=1){for(var l=[],c=0;c<i+1;c+=1)if(0===c){var u=o+f+1;l.push(a.a.createElement("th",{key:"".concat(f,"_").concat(c)},u))}else l.push(a.a.createElement("td",{key:"".concat(f,"_").concat(c)}));s.push(a.a.createElement("tr",{key:f},l))}return s}},{key:"renderHeaderCell",value:function(e){var n=e.rowSpan,t=e.colSpan,r=e.value,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"head",i={__html:r};return a.a.createElement("th",{key:o,colSpan:t,dangerouslySetInnerHTML:i,rowSpan:n})}},{key:"renderRow",value:function(e){var n=this.state,t=n.currentSheet,r=n.sheets[t].model,o=r.rowsHead[e],i=r.row(e);return a.a.createElement("tr",{key:e},this.renderHeaderCell(o),i.map(this.renderCell,this))}},{key:"renderCell",value:function(e,n){if(!e)return null;var t=e.rowSpan,r=e.colSpan,o={__html:e.value};return a.a.createElement("td",{key:n,colSpan:r,dangerouslySetInnerHTML:o,rowSpan:t})}},{key:"renderSelector",value:function(e,n){var t=this.state.sheets.length,r=S()("fs-selector",{"fs-active":this.state.currentSheet===n}),o={zIndex:t-n};return this.state.currentSheet===n&&(o.zIndex=t+1),a.a.createElement(pe.a,{key:n,className:r,style:o,onClick:this._loadPage(n)},e.name)}}])&&Bt(t.prototype,r),o&&Bt(t,o),n}(V);Lt(Ft,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number});t(422);var zt=t(423),Ht=t.n(zt),qt=t(424),Gt=t.n(qt),Ut=t(384),Kt=t.n(Ut),Wt=t(426),Qt=t.n(Wt),Xt="https://widgets-p-eu.figstatic.com",Yt="03ab080a292aa68e827a9558e52ed56c9fba52d5";var Zt=function(){for(var e=Kt.a.parse(Xt),n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return e.pathname=Qt.a.join.apply(Qt.a,[e.pathname||"","/static/",Yt].concat(t)),Kt.a.format(e)};function Jt(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function $t(e){var n=e.querySelector("LookAt");if(!e.querySelector("Point")&&n){var t=n.querySelector("longitude"),r=n.querySelector("latitude"),o=n.querySelector("altitude");if(t&&r){o=o?o.textContent:0;var i=de.l.parse("\n      <Point>\n        <coordinates>\n        ".concat(t.textContent,",").concat(r.textContent,",").concat(o,"\n        </coordinates>\n      </Point>\n    ")).querySelector("Point").cloneNode(!0);e.appendChild(i)}}}Ht.a.noConflict(),Ht.a.Icon.Default.imagePath=Zt("leaflet");var er=function(e,n,t){var r=de.l.parse(e);if(!r)return t.fire("error",{error:"Could not parse KML"});Jt(r.querySelectorAll("Placemark")).forEach($t);var o=t||Ht.a.geoJson(),i=Gt.a.kml(r);return o.addData&&o.addData(i),o.setGeoJSON&&o.setGeoJSON(i),o};Ht.a.generalAttributions={leaflet:'Powered by &copy;\n    <a href="https://leafletjs.com/">Leaflet</a>',tiles:'<br />Tiles &copy;\n    <a href="https://www.openstreetmap.org">OpenStreetMap</a> contributors,\n    <a href="https://www.creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',mapData:'<br />Map data &copy;\n    <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors,\n    <a href="https://www.openstreetmap.org/copyright">ODbL</a>'},Ht.a.loadKML=function(e,n,t){var r=t||Ht.a.geoJson();return er(e,n,r),r};var nr=Ht.a;function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function or(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,n){return!n||"object"!==tr(n)&&"function"!=typeof n?ar(e):n}function ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sr(e,n,t){return(sr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=fr(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lr(e,n){return(lr=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function cr(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ur=nr.latLng(-90,-180),dr=nr.latLng(90,180),pr=nr.latLngBounds(ur,dr),hr=function(e){function n(){var e,t;rr(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return cr(ar(t=ir(this,(e=fr(n)).call.apply(e,[this].concat(o)))),"onToggleInfo",(function(e){e&&e.preventDefault&&e.preventDefault(),t.setState({infoOpened:!t.state.infoOpened},(function(){return t._updateAttribution()}))})),cr(ar(t),"kmlNode",null),cr(ar(t),"setKmlNode",(function(e){return t.kmlNode=e})),t.state.infoOpened=!1,t.map=null,t.attribution=null,t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&lr(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){sr(fr(n.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"componentDidUpdate",value:function(e){var n=e.maxWidth,t=e.maxHeight,r=this.props,o=r.maxWidth,i=r.maxHeight;n===o&&t===i||!this.map||this.map.invalidateSize();var a=this.state,s=a.kmlLayer,f=a.loaded,l=a.error;!this.map&&s&&f&&!l&&this._initializeMap()}},{key:"render",value:function(){var e=this.state,n=e.loading,t=e.error,r=this.props,o={width:r.maxWidth,height:r.maxHeight},i=["fs-info"];return this.state.infoOpened&&i.push("fs-open"),a.a.createElement("div",{className:"fs-display fs-kml-display",style:o},a.a.createElement(q.a,{error:!!t,errorMessage:"Sorry we could not load your data.",loading:n},a.a.createElement("div",{ref:this.setKmlNode,className:"fs-kml-wrapper",style:o}),a.a.createElement("div",{className:"leaflet-bottom leaflet-right"},a.a.createElement("div",{className:"leaflet-bar leaflet-control"},a.a.createElement("a",{className:S()(i),title:"Attributions",onClick:this.onToggleInfo})))))}},{key:"_updateAttribution",value:function(){this.attribution&&this.map&&(this.state.infoOpened?this.attribution.addTo(this.map):this.attribution.removeFrom(this.map))}},{key:"_initializeMap",value:function(){if(!this.map&&this.kmlNode){this.map=nr.map(this.kmlNode,{maxBounds:pr,maxZoom:18,minZoom:1,center:[0,0],crs:nr.CRS.EPSG3857,attributionControl:!1}),nr.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(this.map),this.state.kmlLayer.addTo(this.map);var e=this.state.kmlLayer.getBounds();e.isValid()?this.map.fitBounds(e):this.map.fitBounds(pr);var n=nr.generalAttributions,t=n.mapData,r=n.tiles,o=n.leaflet,i=nr.control.attribution({position:"bottomright"});i.setPrefix(!1),i.addAttribution("".concat(o," ").concat(r," ").concat(t)),this.attribution=i}}}])&&or(t.prototype,r),o&&or(t,o),n}(V);function gr(e){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function yr(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vr(e,n){return!n||"object"!==gr(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function br(e,n,t){return(br="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=wr(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _r(e,n){return(_r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}hr.defaultProps={},hr.propTypes={flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number};var xr=function(e){function n(){return mr(this,n),vr(this,wr(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_r(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){br(wr(n.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"render",value:function(){var e={width:this.props.maxWidth,height:this.props.maxHeight};return a.a.createElement("div",{className:"fs-display fs-text-display",style:e},a.a.createElement(q.a,{error:!!this.state.error,errorMessage:"Sorry we could not load your data.",loading:this.state.loading},a.a.createElement("div",{className:"fs-text-container",tabIndex:0},a.a.createElement("pre",null,this.renderContent()))))}},{key:"renderContent",value:function(){return this.state.content?a.a.createElement("code",{className:"hljs",dangerouslySetInnerHTML:{__html:this.state.content}}):null}}])&&yr(t.prototype,r),o&&yr(t,o),n}(V);function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function jr(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kr(e,n){return!n||"object"!==Or(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mr(e,n){return(Mr=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}xr.propTypes={flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number};var Cr=function(e){function n(){var e,t;Sr(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=kr(this,(e=Pr(n)).call.apply(e,[this].concat(o)))).state.iframeLoaded=!1,t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Mr(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e={width:this.props.maxWidth,height:this.props.maxHeight};return a.a.createElement("div",{className:"fs-display fs-jupyter-display",style:e},a.a.createElement(q.a,{alwaysShowContent:!0,loading:!this.state.iframeLoaded},a.a.createElement("iframe",{ref:"iframe",sandbox:"",src:this.state.url,style:e,onLoad:this.handle("onLoad")})))}},{key:"onLoad",value:function(){this.refs.iframe&&this.setState({iframeLoaded:!0})}}])&&jr(t.prototype,r),o&&jr(t,o),n}(V);function Er(e){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ar(){return(Ar=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Vr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Br(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,n){return!n||"object"!==Er(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Dr(e,n,t){return(Dr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=Ir(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function Ir(e){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nr(e,n){return(Nr=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}Cr.propTypes={flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number};var Rr=function(e){function n(){var e,t;Vr(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=Tr(this,(e=Ir(n)).call.apply(e,[this].concat(o)))).viewer=null,t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Nr(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){Dr(Ir(n.prototype),"componentDidMount",this).call(this),this.props.flux.getActions("DisplayModel").setCommand({command:"load"})}},{key:"componentDidUpdate",value:function(e){if(this._initViewer(),this.viewer){var n=e.maxWidth,t=e.maxHeight;n===this.props.maxWidth&&t===this.props.maxHeight||this.viewer.resize(this.props.maxWidth,this.props.maxHeight)}}},{key:"componentWillUnmount",value:function(){Dr(Ir(n.prototype),"componentWillUnmount",this).call(this),this.viewer&&this.viewer.stop()}},{key:"render",value:function(){var e={width:this.props.maxWidth,height:this.props.maxHeight};return a.a.createElement("div",{className:"fs-display fs-graph-display",style:e},a.a.createElement(q.a,{error:!!this.state.error,errorMessage:"Sorry we could not load your data",loading:this.state.loading},a.a.createElement("canvas",Ar({},e,{ref:"canvas"}))))}},{key:"_initViewer",value:function(){var e=this.refs.canvas,n=this.state,t=n.vertices,r=n.GraphViewer;!this.viewer&&e&&t&&r&&(this.viewer=new r(f.a.findDOMNode(e)),this.viewer.loadData(t),this.viewer.start(),this.viewer.resize(this.props.maxWidth,this.props.maxHeight))}}])&&Br(t.prototype,r),o&&Br(t,o),n}(V);function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fr(){return(Fr=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function zr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Hr(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,n){return!n||"object"!==Lr(n)&&"function"!=typeof n?Gr(e):n}function Gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ur(e,n,t){return(Ur="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=Kr(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wr(e,n){return(Wr=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Qr(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Rr.defaultProps={},Rr.propTypes={flux:o.a.object.isRequired,focused:o.a.bool,maxHeight:o.a.number,maxWidth:o.a.number};var Xr=function(e){function n(){var e,t;zr(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Qr(Gr(t=qr(this,(e=Kr(n)).call.apply(e,[this].concat(o)))),"onResetFilters",(function(){return t.actions.setCommand({command:"filterReset"})})),Qr(Gr(t),"onLighten",(function(){return t.actions.setCommand({command:"filterLighten"})})),Qr(Gr(t),"onDarken",(function(){return t.actions.setCommand({command:"filterDarken"})})),Qr(Gr(t),"onInvert",(function(){return t.actions.setCommand({command:"filterInvert"})})),Qr(Gr(t),"onToggleHisto",(function(){return t.actions.setCommand({command:"toggleHisto"})})),Qr(Gr(t),"onToggleMeta",(function(){return t.actions.setCommand({command:"toggleMeta"})})),Qr(Gr(t),"onPrevLayer",(function(){return t.actions.setCommand({command:"prevLayer"})})),Qr(Gr(t),"onNextLayer",(function(){return t.actions.setCommand({command:"nextLayer"})})),Qr(Gr(t),"parseDate",(function(e){var n=e.substr(0,4),t=e.substr(4,2),r=e.substr(6,2);return"".concat(r,".").concat(t,".").concat(n)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Wr(e,n)}(n,e),t=n,(r=[{key:"componentDidUpdate",value:function(e){var n={},t=e.maxWidth,r=e.maxHeight,o=this.props,i=o.maxWidth,a=o.maxHeight;t===i&&r===a||(n.newWidth=i,n.newHeight=a,this.actions.setCommand({command:"update",data:n}))}},{key:"componentDidMount",value:function(){Ur(Kr(n.prototype),"componentDidMount",this).call(this);var e={canvasContainerNode:this.canvasContainerNode,histoContainerNode:this.histoContainerNode,maxHeight:this.props.maxHeight,maxWidth:this.props.maxWidth};this.actions=this.props.flux.getActions("DisplayModel"),this.actions.setCommand({command:"load",data:e})}},{key:"componentWillUnmount",value:function(){Ur(Kr(n.prototype),"componentWillUnmount",this).call(this),this.actions.setCommand({command:"unload"})}},{key:"render",value:function(){var e=this,n=this.props,t=n.maxWidth,r=n.maxHeight,o=n.mode,i=this.state,s=i.loading,f=i.error,l=i.hideHisto,c={height:r,width:t},u=["fs-display fs-fits-display",o];return a.a.createElement("div",{className:S()(u),style:c},a.a.createElement(q.a,{alwaysShowContent:!0,error:!!f,errorMessage:"Sorry we could not load your data",loading:s},a.a.createElement("div",Fr({ref:function(n){return e.canvasContainerNode=n},className:"fs-canvas-container"},c)),a.a.createElement("div",{className:S()("fs-histo-container",{disabled:l||!this.props.showControls})},a.a.createElement("div",{className:"fv-fits-histo-controls-container"},a.a.createElement("a",{className:"fv-controls-color fv-fits-histo-button",onClick:this.onResetFilters},"Default"),a.a.createElement("a",{className:"fv-controls-color fv-fits-histo-button",onClick:this.onLighten},"Lighten"),a.a.createElement("a",{className:"fv-controls-color fv-fits-histo-button",onClick:this.onDarken},"Darken"),a.a.createElement("a",{className:"fv-controls-color fv-fits-histo-button",onClick:this.onInvert},"Invert"),a.a.createElement("a",{className:"fv-fits-histo-button fv-fits-histo-close",onClick:this.onToggleHisto})),a.a.createElement("div",{ref:function(n){return e.histoContainerNode=n},className:"fs-histo-canvas-container"})),this.renderImageInfo()))}},{key:"renderImageInfo",value:function(){var e=this.state,n=e.meta,t=e.imageIndex;return n&&n[t]&&n[t].isImage?a.a.createElement("div",{className:"fv-fits-image-info"},this.renderLayerNavigation(),this.renderImageMetadata()):null}},{key:"renderImageMetadata",value:function(){var e=this.state,n=e.meta,t=e.imageIndex,r=e.metaVisible;if(!n||!n[t]||!r)return null;var o=n[t],i=o.extra,s=o.name,f=o.minimum,l=o.maximum,c=o.width,u=o.height,d=i&&i.studyDate&&""!==i.studyDate,p=Math.round(l-f,2),h=Math.round(f+p/2,2),g=s||"Untitled",m=d?a.a.createElement("p",null,this.parseDate(i.studyDate)):null;return a.a.createElement("div",{className:"fv-fits-image-meta"},a.a.createElement("p",null,g),m,this.renderManufacturer(),a.a.createElement("p",{className:"fv-fits-meta-separator"}),a.a.createElement("p",null,"WL: ",h," / WW: ",p),this.renderThicknessLocation(),a.a.createElement("p",null,"Image size: ",c," x ",u))}},{key:"renderThicknessLocation",value:function(){var e=this.state,n=e.meta,t=e.imageIndex;if(!n[t].extra)return null;var r=n[t].extra,o=r.sliceThickness,i=r.sliceLocation,s=o?"Thick: ".concat(o):"",f=i?"Loc: ".concat(i):"";return a.a.createElement("p",null,s," ",f)}},{key:"renderManufacturer",value:function(){var e=this.state,n=e.meta,t=e.imageIndex;if(!n[t].extra)return null;var r=n[t].extra,o=r.manufacturer,i=r.manufacturerModel,s=[];return o&&s.push(o),i&&s.push(i),0===s.length?null:a.a.createElement("p",{className:"fv-fits-meta-manufacturer"},"Device model: ",s.join(" - "))}},{key:"renderLayerNavigation",value:function(){var e=this.state,n=e.meta,t=e.prevDisabled,r=e.nextDisabled,o=e.imageIndex,i=e.layerIndex;if(!n)return null;var s=n[o].layerCount,f=["fv-fits-layer-nav-button","prev",{disabled:t}],l=["fv-fits-layer-nav-button","next",{disabled:r}],c=this.onPrevLayer,u=this.onNextLayer;return a.a.createElement("div",{className:"fv-fits-layer-navigation"},a.a.createElement(pe.a,{className:S()(f),disabled:t,onClick:c}),a.a.createElement("span",{className:"fv-fits-layer-index"},i+1,"/",s),a.a.createElement(pe.a,{className:S()(l),disabled:r,onClick:u}),this.renderMetadataButton())}},{key:"renderMetadataButton",value:function(){var e=this.state,n=e.meta,t=e.imageIndex,r=e.metaVisible;if(!n||!n[t])return null;var o=["fv-fits-layer-nav-button","meta",{close:r}];return a.a.createElement(pe.a,{className:S()(o),onClick:this.onToggleMeta})}}])&&Hr(t.prototype,r),o&&Hr(t,o),n}(V);Qr(Xr,"propTypes",{flux:o.a.object.isRequired,maxHeight:o.a.number,maxWidth:o.a.number,showControls:o.a.bool});var Yr={archive:se,audio:Ln,dataset:Ft,document:tt,document_canvas:wt,document_failsafe:wt,dicom:Xr,fits:Xr,graph:Rr,image:Z,jupyter:Cr,kml:hr,molecule:Qn,notPreviewable:H,presentation:tt,txt:xr,video:on,viewer3d:mn};function Zr(e){return Yr[e]?Yr[e]:Yr.notPreviewable}function Jr(e){return"notPreviewable"!==e&&!!Yr[e]}function $r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.viewerType,t=void 0===n?"notPreviewable":n,r=e.virusScanInfo,o=Zr(t);return r&&r.virus_found&&(o=Zr("notPreviewable")),o.getPreview||(o=Zr()),o.getPreview?o.getPreview(e):V.getPreview(e)}var eo=t(378);function no(e){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ro(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function oo(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function io(e,n){return!n||"object"!==no(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function ao(e){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function so(e,n){return(so=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var fo=function(e){function n(){var e,t;ro(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=io(this,(e=ao(n)).call.apply(e,[this].concat(o)))).state=t.getFluxState(),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&so(e,n)}(n,e),t=n,(r=[{key:"watchStores",value:function(){return["DisplayModel"]}},{key:"getStateFromFlux",value:function(e){return to(e,1)[0].getState()}}])&&oo(t.prototype,r),o&&oo(t,o),n}(l.a);function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function uo(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function po(e,n){return!n||"object"!==lo(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function ho(e){return(ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function go(e,n){return(go=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(fo,"propTypes",{flux:o.a.object});var mo=function(e){function n(){var e,t;co(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=po(this,(e=ho(n)).call.apply(e,[this].concat(o)))).state=Object.assign(t.state,{menuOpened:!1}),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&go(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.state,n=e.currentFrame,t=void 0===n?0:n,r=e.totalFrames,o=void 0===r?0:r;if(!this.state.loaded||!this.state.comments||!this.state.comments.length)return null;var i=["fs-molecule-controls-wrap","fs-mode-".concat(this.props.mode)],s=this.state.comments[t];return a.a.createElement("div",{className:S()(i)},a.a.createElement(c.a,{onBlur:this.onToggleMenu.bind(this,!1),onFocus:this.onToggleMenu.bind(this,!this.state.menuOpened)},a.a.createElement("div",{className:"fs-comment-list"},a.a.createElement("div",{className:"fs-trigger"},a.a.createElement("div",{className:"fs-current-comment",title:s},s)),a.a.createElement("div",{className:"fs-menu-wrapper"},this.renderCommentsMenu()))),a.a.createElement(eo.a,{currentPage:t,totalPages:o,onGotoPage:this.handle("onFrameChange")}))}},{key:"renderCommentsMenu",value:function(){return this.state.menuOpened?a.a.createElement("div",{className:"fs-comments-menu"},a.a.createElement("div",{className:"fs-items-wrap"},this.state.comments.map(this.renderComment,this))):null}},{key:"renderComment",value:function(e,n){var t=["fs-drop-item",{"fs-active":this.state.currentFrame===n}];return a.a.createElement("div",{key:n,className:S()(t),title:e,onClick:this.onFrameChange.bind(this,n)},e)}},{key:"onToggleMenu",value:function(e){this.setState({menuOpened:e})}},{key:"onFrameChange",value:function(e){this.props.flux.getActions("DisplayModel").setCommand({command:"changeFrame",data:{currentFrame:e,fromAnimation:!1,isAnimating:!1}}),this.setState({menuOpened:!1})}}])&&uo(t.prototype,r),o&&uo(t,o),n}(fo);function yo(e){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vo(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function bo(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wo(e,n){return!n||"object"!==yo(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function _o(e){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xo(e,n){return(xo=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Oo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}mo.defaultProps={mode:"desktop"},mo.propTypes={flux:o.a.object.isRequired,mode:o.a.oneOf(["desktop","mobile"])};var So=function(e){function n(){return vo(this,n),wo(this,_o(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&xo(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=["fs-controls-group","fs-zoom",this.props.extraClass,this.props.className];return a.a.createElement("div",{className:S()(e)},this.renderZoomIn(),this.renderZoomOut(),this.renderZoomReset())}},{key:"renderZoomIn",value:function(){var e=this.props,n=e.zoomInDisabled,t=e.onZoomIn;return t?a.a.createElement(pe.a,{className:"fv-controls-color fs-zoom-button fs-zoom-in",disabled:n,title:"zoom in",onClick:t}):null}},{key:"renderZoomOut",value:function(){var e=this.props,n=e.zoomOutDisabled,t=e.onZoomOut;return t?a.a.createElement(pe.a,{className:"fv-controls-color fs-zoom-button fs-zoom-out",disabled:n,title:"zoom out",onClick:t}):null}},{key:"renderZoomReset",value:function(){var e=this.props,n=e.zoomResetDisabled,t=e.onZoomReset;return t?a.a.createElement(pe.a,{className:"fv-controls-color fs-zoom-button fs-zoom-fit",disabled:n,title:"fit to page",onClick:t}):null}}])&&bo(t.prototype,r),o&&bo(t,o),n}(i.Component);function jo(e){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ko(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Po(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mo(e,n){return!n||"object"!==jo(n)&&"function"!=typeof n?Eo(e):n}function Co(e){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ao(e,n){return(Ao=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Vo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Oo(So,"propTypes",{className:o.a.string,extraClass:o.a.string,zoomInDisabled:o.a.bool,zoomOutDisabled:o.a.bool,zoomResetDisabled:o.a.bool,onZoomIn:o.a.func,onZoomOut:o.a.func,onZoomReset:o.a.func}),Oo(So,"defaultProps",{className:void 0,extraClass:void 0,zoomInDisabled:void 0,zoomOutDisabled:void 0,zoomResetDisabled:void 0,onZoomIn:void 0,onZoomOut:void 0,onZoomReset:void 0});var Bo=function(e){function n(){var e,t;ko(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Vo(Eo(t=Mo(this,(e=Co(n)).call.apply(e,[this].concat(o)))),"onToggleMenu",(function(){return t.setState({layerMenuOpen:!t.state.layerMenuOpen})})),Vo(Eo(t),"onPrevImage",(function(){return t.actions.setCommand({command:"prevImage"})})),Vo(Eo(t),"onNextImage",(function(){return t.actions.setCommand({command:"nextImage"})})),Vo(Eo(t),"onSelectImage",(function(e){return function(){var n=t.state.imageIndex;e!==n&&(t.actions.setCommand({command:"selectImage",data:{imageIndex:e}}),t.onToggleMenu())}})),Vo(Eo(t),"onZoomIn",(function(){return t.actions.setCommand({command:"zoomIn"})})),Vo(Eo(t),"onZoomOut",(function(){return t.actions.setCommand({command:"zoomOut"})})),Vo(Eo(t),"onToggleHisto",(function(){return t.actions.setCommand({command:"toggleHisto"})})),t.actions=t.props.flux.getActions("DisplayModel"),t.state.layerMenuOpen=!1,t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ao(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){if(!this.state.loaded)return null;var e=["fv-fits-controls",this.props.mode];return a.a.createElement("div",{className:S()(e)},this.renderLayersMenu(),this.renderImageNavigation(),a.a.createElement(So,{onZoomIn:this.onZoomIn,onZoomOut:this.onZoomOut}),this.renderHistoButton())}},{key:"renderLayersMenu",value:function(){var e=this.state,n=e.meta[e.imageIndex].name||"Untitled";return a.a.createElement("div",{className:"fv-fits-layers-menu"},a.a.createElement(pe.a,{className:"fv-fits-button fv-fits-layer-name",onClick:this.onToggleMenu},a.a.createElement("span",null,n)),a.a.createElement("div",{className:"fv-menu-wrapper fv-fits-menu-wrapper"},this.renderMenu()))}},{key:"renderMenu",value:function(){var e=this.state,n=e.meta;if(!e.layerMenuOpen)return null;var t=Object.keys(n).map(this.renderName,this);return a.a.createElement("div",{className:"fv-comments-menu"},a.a.createElement("div",{className:"fv-items-wrap"},t))}},{key:"renderName",value:function(e,n){var t=this.state,r=t.imageIndex,o=t.meta,i=parseInt(e,10),s=["fv-drop-item",{"fv-active":r===i}],f=o[n].name,l=f||"Untitled",c=o[n].isImage&&o[n].layerCount?"(".concat(o[n].layerCount,")"):"";return a.a.createElement("div",{key:n,className:S()(s),title:f,onClick:this.onSelectImage(i)},a.a.createElement("span",{className:"layer-title"},l),a.a.createElement("span",{className:"layer-count"},c))}},{key:"renderImageNavigation",value:function(){var e=this.state,n=e.imageIndex,t=e.images,r=0===n,o=n===t-1,i=S()("fv-fits-button fv-prev-layer-button",{disabled:r}),s=S()("fv-fits-button fv-next-layer-button",{disabled:o});return a.a.createElement("span",{className:"fv-fits-image-navigation-control"},a.a.createElement("strong",{className:"fv-fits-layer-index"},n+1," / ",t),a.a.createElement(pe.a,{className:i,disabled:r,onClick:this.onPrevImage}),a.a.createElement(pe.a,{className:s,disabled:o,onClick:this.onNextImage}))}},{key:"renderHistoButton",value:function(){var e=S()("fv-controls-color fv-fits-button fv-histo-button",{disabled:this.state.hideHisto});return a.a.createElement(pe.a,{className:e,onClick:this.onToggleHisto})}}])&&Po(t.prototype,r),o&&Po(t,o),n}(fo);Vo(Bo,"propTypes",{flux:o.a.object.isRequired});var To={molecule:mo,dicom:Bo,fits:Bo},Do=t(365);function Io(e){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function No(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ro(e,n){return!n||"object"!==Io(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Lo(e){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fo(e,n){return(Fo=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var zo=function(e){function n(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(e=Ro(this,Lo(n).call(this)))._id=Object(de.k)(),e._state={loaded:!1,loading:!1,error:null},e}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Fo(e,n)}(n,e),t=n,(r=[{key:"handleCommand",value:function(e,n){if(e&&"string"==typeof e){var t=e[0].toUpperCase()+e.slice(1),r="on".concat(t,"Handler");this[r]&&"function"==typeof this[r]?this[r](n):console.warn("No such command [".concat(t,"]"))}}},{key:"reset",value:function(){}},{key:"state",get:function(){return Object.assign({},this._state)}}])&&No(t.prototype,r),o&&No(t,o),n}(de.a);function Ho(e){return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qo(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Go(e,n){return!n||"object"!==Ho(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ko(e,n){return(Ko=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Wo=Do.a.computeSize,Qo=Do.a.roundRatio,Xo=function(e){function n(e){var t;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Go(this,Uo(n).call(this))).file=e;var r=e.getPreviewKeyUrl(),o=e.previewMeta,i=o.width,a=o.height;return t.originalWidth=i,t.originalHeight=a,t.ratio=i/a,Object.assign(t._state,{width:i,height:a,url:r}),t._loader=null,t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ko(e,n)}(n,e),t=n,(r=[{key:"_loadImage",value:function(e){var n=this;this._loader=new Image,this._loader.addEventListener("load",(function(){var e={},t=n._loader,r=t.width,o=t.height,i=r/o;if(Qo(i)!==Qo(n.ratio)){n.ratio=i,n.originalWidth=r,n.originalHeight=o;var a=n._state,s=a.width,f=a.height;e=Wo({width:s,height:f,ratio:n.ratio})}Object.assign(n._state,{loaded:!0,loading:!1,error:null},e),n.emit("load")})),this._loader.addEventListener("error",(function(){Object.assign(n._state,{loaded:!0,loading:!1,error:new Error("Could not load image")}),n.emit("error")})),this._loader.src=e}},{key:"onChangeHandler",value:function(e){var n=e.maxWidth,t=e.maxHeight,r=e.lockAxis,o=Wo({width:n,height:t,ratio:this.ratio,lockAxis:r});Object.assign(this._state,o),this.emitAsync("change")}},{key:"onLoadHandler",value:function(){this._state.loaded||this._state.loading||(this._loadImage(this._state.url),Object.assign(this._state,{loading:!0}),this.emitAsync("change"))}}])&&qo(t.prototype,r),o&&qo(t,o),n}(zo),Yo=t(358);function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jo(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function $o(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ei(e,n,t){return n&&$o(e.prototype,n),t&&$o(e,t),e}function ni(e,n){return!n||"object"!==Zo(n)&&"function"!=typeof n?ti(e):n}function ti(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(e,n,t){return(ri="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=oi(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function oi(e){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ii(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ai(e,n)}function ai(e,n){return(ai=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var si=function(e){function n(){return Jo(this,n),ni(this,oi(n).call(this,{tree:void 0,loaded:!1}))}return ii(n,e),ei(n,[{key:"update",value:function(e){ri(oi(n.prototype),"update",this).call(this,{loaded:!0,tree:e})}},{key:"reset",value:function(){this.loaded=!1,this.tree=void 0}}]),n}(Yo.a),fi=function(e){function n(e){var t;return Jo(this,n),t=ni(this,oi(n).call(this)),Object.assign(t._state,{archiveContent:[],expanded:{},tree:void 0}),t.file=e,t._metadataUrl=e.getPreviewKeyUrl(),t._loader=new de.d(new si),t._loader.on("change",t._onChangeHandler.bind(ti(t))),t}return ii(n,e),ei(n,[{key:"onLoadHandler",value:function(){if(!this._loader.loaded&&!this._loader.loading){this._loader.loadData(this._metadataUrl);var e=this._loader,n=e.loaded,t=e.loading,r=e.error;Object.assign(this._state,{loading:t,loaded:n,error:r}),this.emitAsync("change")}}},{key:"_onChangeHandler",value:function(){var e=this._loader,n=e.loading,t=e.loaded,r=e.error,o=e.model,i={loading:n,loaded:t,error:r},a={};if(r)return Object.assign(this._state,i,{tree:a}),void this.emit("error");var s=o?o.tree:void 0;s&&(a=this._prepareDirs(s)),Object.assign(this._state,i,{tree:a}),this.emit("change")}},{key:"_prepareDirs",value:function(e){var n=this,t=e.dirs,r=void 0===t?[]:t,o=e.files,i=void 0===o?[]:o,a=e.path.split("/"),s=i.map((function(e){var n=e.path.split("/");return{name:n.pop(),depth:n.length}})),f=r.map((function(e){return n._prepareDirs(e)}));return{key:Object(de.k)(),name:a.pop(),depth:a.length,files:s,dirs:f}}}]),n}(zo),li=t(364);function ci(e){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ui(e,n){return!n||"object"!==ci(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function di(e){return(di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pi(e,n){return(pi=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var hi=new li.a({credentials:!1,followLocation:!0}),gi=function(e){function n(e){var t;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=ui(this,di(n).call(this))).file=e;var r=e.getPreviewKeyUrl();Object.assign(t._state,{buffered:0,buffering:!1,crossOrigin:void 0,currentTime:0,duration:0,error:!1,fileId:e.id,hasEnded:!1,loading:!0,playCount:0,statsSent:!1,url:r}),t.emitAsync("change");var o=hi.get({headers:{Range:"bytes=0-0"},url:t._state.url});return o.then((function(){Object.assign(t._state,{crossOrigin:"anonymous"}),t.emitAsync("change")})),o.catch((function(){Object.assign(t._state,{crossOrigin:"use-credentials"}),t.emitAsync("change")})),t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&pi(e,n)}(n,e),n}(zo);function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yi(e,n){return!n||"object"!==mi(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function vi(e){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bi(e,n){return(bi=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var wi=new li.a({credentials:!1,followLocation:!0}),_i=function(e){function n(e){var t;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=yi(this,vi(n).call(this))).file=e;var r=e.previewMeta,o=r.videoKey,i=r.previewKey,a=r.originalWidth,s=r.originalHeight,f=r.chaptersKey;Object.assign(t._state,{buffered:0,buffering:!1,chaptersUrl:f?e.getPreviewKeyUrl(f):void 0,crossOrigin:void 0,cues:[],currentTime:0,duration:0,error:!1,fileId:e.id,hasEnded:!1,isFullscreen:!1,loading:!0,originalHeight:s,originalWidth:a,playCount:0,previewUrl:e.getPreviewKeyUrl(i),statsSent:!1,url:e.getPreviewKeyUrl(o)}),t.emitAsync("change");var l=wi.get({headers:{Range:"bytes=0-0"},url:t._state.url});return l.then((function(){Object.assign(t._state,{crossOrigin:"anonymous"}),t.emitAsync("change")})),l.catch((function(){Object.assign(t._state,{crossOrigin:"use-credentials"}),t.emitAsync("change")})),t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&bi(e,n)}(n,e),n}(zo),xi=function(e){t.e(9).then(function(n){var r=t(1250).default;e&&setTimeout(e(r),0)}.bind(null,t)).catch(t.oe)},Oi=function(e){t.e(12).then(function(n){var r=t(1251).default;e&&setTimeout(e({Viewer3D:r}),0)}.bind(null,t)).catch(t.oe)},Si=function(e){t.e(10).then(function(n){var r=t(1252).default;e&&setTimeout(e({GraphViewer:r}),0)}.bind(null,t)).catch(t.oe)},ji=function(e){t.e(13).then(function(n){var r=t(1253).default;e&&setTimeout(e({MoleculeViewer:r}),0)}.bind(null,t)).catch(t.oe)},ki=function(e,n,t){var r=new li.a({credentials:!1,bodyType:"arraybuffer",followLocation:!0});return new Promise((function(o,i){r.get({headers:{Range:"bytes=".concat(n,"-").concat(t)},url:e,binary:!0}).then((function(e){return o(new Float32Array(e.body))}),(function(e){return i(e.body)}))}))};function Pi(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Mi(e){return(Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ci(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ei(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ai(e,n,t){return n&&Ei(e.prototype,n),t&&Ei(e,t),e}function Vi(e,n){return!n||"object"!==Mi(n)&&"function"!=typeof n?Bi(e):n}function Bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ti(e,n,t){return(Ti="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=Di(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function Di(e){return(Di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ii(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ni(e,n)}function Ni(e,n){return(Ni=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Ri=function(e){function n(){return Ci(this,n),Vi(this,Di(n).call(this,{meta:void 0,loaded:!1}))}return Ii(n,e),Ai(n,[{key:"update",value:function(e){Ti(Di(n.prototype),"update",this).call(this,{loaded:!0,meta:e})}},{key:"reset",value:function(){this.loaded=!1,this.meta=void 0}}]),n}(Yo.a),Li=function(e){function n(){return Ci(this,n),Vi(this,Di(n).call(this,{bin:void 0,loaded:!1}))}return Ii(n,e),Ai(n,[{key:"update",value:function(e){Ti(Di(n.prototype),"update",this).call(this,{loaded:!0,bin:new Uint8Array(e)})}},{key:"reset",value:function(){this.loaded=!1,this.bin=void 0}}]),n}(Yo.a),Fi=function(e){function n(e){var t;return Ci(this,n),Pi(Bi(t=Vi(this,Di(n).call(this))),"_onChangeMetaHandler",(function(){if(t._metaLoader.error||!t.Viewer3D)return Object.assign(t._state,t._getLoadingStatus()),void t.emit("error");Object.assign(t._state,t._getLoadingStatus(),{meta:t._metaLoader.model.meta,Viewer3D:t.Viewer3D}),t.emit("change")})),Pi(Bi(t),"_onChangeBinHandler",(function(){if(t._binLoader.error||!t.Viewer3D)return Object.assign(t._state,t._getLoadingStatus()),void t.emit("error");Object.assign(t._state,t._getLoadingStatus(),{bin:t._binLoader.model.bin,Viewer3D:t.Viewer3D}),t.emit("change")})),Object.assign(t._state,{bin:void 0,meta:void 0}),t.file=e,t._metadataUrl=e.getPreviewKeyUrl(),t._binUrl=e.getPreviewKeyUrl(e.previewMeta.binaryKey),t._metaLoader=new de.d(new Ri),t._metaLoader.on("change",t._onChangeMetaHandler),t._binLoader=new de.d(new Li),t._binLoader.on("change",t._onChangeBinHandler),t.Viewer3D=null,t}return Ii(n,e),Ai(n,[{key:"onLoadHandler",value:function(){var e=this;this._metaLoader.loaded||this._metaLoader.loading||this._binLoader.loaded||this._binLoader.loading||(Object.assign(this._state,{loading:!0}),this.emitAsync("change"),Oi((function(n){e.Viewer3D=e.Viewer3D||n.Viewer3D,e._metaLoader.loadData(e._metadataUrl),e._binLoader.loadData(e._binUrl,!0),Object.assign(e._state,e._getLoadingStatus()),e.emitAsync("change")})))}},{key:"_getLoadingStatus",value:function(){return{loading:this._metaLoader.loading||this._binLoader.loading,loaded:this._metaLoader.loaded&&this._binLoader.loaded,error:this._metaLoader.error||this._binLoader.error}}}]),n}(zo),zi=t(376);function Hi(e){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qi(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gi(e,n){return!n||"object"!==Hi(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Ui(e){return(Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ki(e,n){return(Ki=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Wi=Do.a.AXES,Qi=function(e){function n(e){var t,r=e.ratio,o=e.sizes,i=e.images,a=e.index;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Gi(this,Ui(n).call(this))).index=a,t.sizes=o,t.ratio=r||1.4,t.currentIndex=0,Object.assign(t._state,{width:o[t.currentIndex],height:o[t.currentIndex]/t.ratio,url:void 0}),t.images=i.map((function(e,n){var r=e.key,i=e.baseUrl,a=new zi.a({previewMeta:{width:o[n],height:o[n]/t.ratio,baseUrl:i,key:r}});return new Xo(a)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ki(e,n)}(n,e),t=n,(r=[{key:"_updateState",value:function(e,n){var t=e.state,r=t.width,o=t.height,i=t.url;this.ratio=e.ratio,this.currentIndex=n,Object.assign(this._state,{width:r,height:o,url:i})}},{key:"_imageLoad",value:function(e,n,t){var r=this,o=t.maxWidth;e.once("load",(function(){r._updateState(e,n),Object.assign(r._state,{loaded:r.images.some((function(e){return e.state.loaded})),loading:!1}),r._imageChange(e,n,{maxWidth:o}),r.emit("load")})),e.once("error",(function(){Object.assign(r._state,{loaded:r.images.some((function(e){return e.state.loaded})),error:r.images.every((function(e){return!!e.state.error}))}),r._state.error?r.emit("error"):r._findOtherSizes({maxWidth:o})})),Object.assign(this._state,{loading:!this.images.some((function(e){var n=e.state;return n.loaded&&!n.error}))}),e.handleCommand("load"),this.emitAsync("change")}},{key:"_imageChange",value:function(e,n,t){var r=this,o=t.maxWidth;e.once("change",(function(){r._updateState(e,n),r.emit("change")})),e.handleCommand("change",{maxWidth:o,lockAxis:Wi.X})}},{key:"onLoadHandler",value:function(e){var n=e.maxWidth,t=e.maxHeight,r=n;r||t||(r=this._state.width),t&&!r&&(r=this.ratio*t);var o=this._getBestSizeIndex(r),i=this.images[o];i.state.loaded||i.state.loading?i.state.error?this._findOtherSizes({maxWidth:r}):this._imageChange(i,o,{maxWidth:r,maxHeight:t}):this._imageLoad(i,o,{maxWidth:r,maxHeight:t})}},{key:"onChangeHandler",value:function(){this.onLoadHandler.apply(this,arguments)}},{key:"_findOtherSizes",value:function(e){var n=e.maxWidth,t=[],r=[];if(this.images.forEach((function(e,n){var o=e.state;o.loaded&&!o.error&&t.push(n),o.loading||o.loaded||r.push(n)})),r.length){var o=Math.max.apply(Math,r),i=this.images[o];this._imageLoad(i,o,{maxWidth:n})}else if(t.length){var a=Math.max.apply(Math,t),s=this.images[a];this._imageChange(s,a,{maxWidth:n})}}},{key:"_getBestSizeIndex",value:function(e){for(var n=this.sizes,t=0,r=0,o=n.length;r<o-1&&(t=r,!(e<n[r]))&&!(e<(n[r]+n[r+1])/2.75);r+=1);return t}}])&&qi(t.prototype,r),o&&qi(t,o),n}(zo);function Xi(e){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yi(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Zi(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ji(e){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ea(e,n){return(ea=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var na=function(e){function n(e){var t,r,o;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=Ji(n).call(this))||"object"!==Xi(o)&&"function"!=typeof o?$i(r):o)._handlers={load:t.emit.bind($i(t),"load"),change:t.emit.bind($i(t),"change"),error:t.emit.bind($i(t),"error")},t.file=e,t._state.pages=[],t._initializePages(),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ea(e,n)}(n,e),t=n,(r=[{key:"_fillPageNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return e.map((function(e){var t=Object.assign({},e);return t.key=t.key.replace("{page_no}",n+1),t}))}},{key:"_attachHandlers",value:function(e){e.on("load",this._handlers.load),e.on("change",this._handlers.change),e.on("error",this._handlers.error)}},{key:"_removeHandlers",value:function(e){e.removeListener("load",this._handlers.load),e.removeListener("change",this._handlers.change),e.removeListener("error",this._handlers.error)}},{key:"_initializePages",value:function(){var e=this.file.previewMeta,n=e.pages,t=void 0===n?0:n,r=e.averageRatio,o=e.keyPattern,i=e.baseUrl,a=[];if(Array.isArray(e.sizes)&&(a=Yi(e.sizes)),!t||!a.length||!o)return this._state.error=new Error("Corrupted file's preview metatdata"),void this.emitAsync("error");a.sort((function(e,n){return e-n}));for(var s=a.map((function(e){return{key:o.replace("{width}",e),baseUrl:i}})),f=0;f<t;f+=1){var l=this._fillPageNumber(s,f),c=new Qi({ratio:r,sizes:a,index:f,images:l});this._attachHandlers(c),this._state.pages.push(c)}}},{key:"handleCommand",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(t.index)||(t.index=[t.index]),t.index.forEach((function(r){var o=Object.assign({},t,{index:r});e._state.pages[r]&&e._state.pages[r].handleCommand(n,o)}))}},{key:"reset",value:function(){this._state.pages.forEach(this._removeHandlers,this)}}])&&Zi(t.prototype,r),o&&Zi(t,o),n}(zo),ta=function(e){Promise.all([t.e(14),t.e(11)]).then(function(n){t(1255);var r=t(1254);r.PDFJS.workerSrc=Zt("/pdfjs/pdf_worker.js"),r.PDFJS.disableAutoFetch=!0,e&&setTimeout((function(){return e(r)}),0)}.bind(null,t)).catch(t.oe)};function ra(e){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oa(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ia(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?oa(Object(t),!0).forEach((function(n){ca(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oa(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function aa(e,n,t,r,o,i,a){try{var s=e[i](a),f=s.value}catch(e){return void t(e)}s.done?n(f):Promise.resolve(f).then(r,o)}function sa(e){return(sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function la(e,n){return(la=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ca(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ua(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function da(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pa(e,n,t){return n&&da(e.prototype,n),t&&da(e,t),e}var ha=Kt.a.parse("https://figshare.com").hostname,ga=null,ma=function(){function e(n){ua(this,e),this.page=n,this.setScale(1),this.drawing=!1}return pa(e,[{key:"scaleToFit",value:function(e){var n=e/this.page.getViewport(96/72).width;this.setScale(n)}},{key:"setScale",value:function(e){this.scale=e,this.viewport=this.page.getViewport(e*(96/72)),this.width=Math.floor(this.viewport.width),this.height=Math.floor(this.viewport.height),this.canvasWidth=Math.floor(this.viewport.width),this.canvasHeight=Math.floor(this.viewport.height)}},{key:"draw",value:function(e,n){var t=this;this.stop();var r=e.getContext("2d"),o=this.viewport.clone({scale:this.scale*(96/72)});return this.textNode=n,this.renderer=this.page.render({canvasContext:r,viewport:o}),this.canvasWidth=Math.floor(this.width),this.canvasHeight=Math.floor(this.height),ta((function(e){t.page.getTextContent().then((function(n){t.textRender=e.renderTextLayer({textContent:n,container:t.textNode,viewport:t.viewport.clone({scale:t.scale*(96/72)}),textDivs:[]})}),(function(){}))})),this.renderer}},{key:"stop",value:function(){this.renderer&&this.renderer.cancel()}}]),e}(),ya=function(e){function n(e){var t,r,o;return ua(this,n),r=this,o=sa(n).call(this),t=!o||"object"!==ra(o)&&"function"!=typeof o?fa(r):o,ca(fa(t),"_loadPdfJS",function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r,o,i,a,s,f,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fa(t),o=r.file,i=o.getPreviewKeyUrl(),a=Kt.a.parse(i).hostname,e.prev=3,e.next=6,n.getDocument({url:i,withCredentials:a.endsWith(ha)});case 6:return s=e.sent,e.next=9,s.getPage(1);case 9:f=e.sent,l=new ma(f),(c=Array.from({length:s.numPages}))[0]=l,t._state.model=ia({},t._state.model,{pages:c,pdf:s,length:s.numPages}),l.scaleToFit(t._state.maxWidth),t.calculateDefaultPageSize(),t._state.loading=!1,t.emitAsync("change"),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),t._state=ia({},t._state,{loading:!1,error:!0}),t.emitAsync("change");case 24:case"end":return e.stop()}}),e,null,[[3,20]])})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){aa(i,r,o,a,s,"next",e)}function s(e){aa(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}()),t.file=e,t._state={model:{pdf:null,pages:[]},pageSizes:{},error:!1},t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&la(e,n)}(n,e),pa(n,[{key:"onLoadHandler",value:function(){var e=this;this._state=ia({},this._state,{loading:!0,model:{pdf:null,pages:[]},pageSizes:{}}),this.emitAsync("change"),ta((function(n){return e._loadPdfJS(n)}))}},{key:"onSetContainerHandler",value:function(e){var n=e.container;this._state.container=n,this.emitAsync("change")}},{key:"getScaleForWidth",value:function(e){var n=this._state.model;if(n&&n.pages&&n.pages.length)for(var t=0;t<n.pages.length;t+=1){var r=n.pages[t];if(r)return e/r.page.getViewport(96/72).width}return 1}},{key:"onLoadPagesHandler",value:function(e){var n=this,t=e.visibleNodes,r=this._state,o=r.model;if(!r.loadingPages){this._state.loadingPages=!0;var i=t.map((function(e){return e+1}));if((i=i.filter((function(e){return e>0&&e<=o.length&&!o[e]}))).length){var a=i.map((function(e){return o.pdf.getPage(e)}));Promise.all(a).then((function(e){e.map((function(e){var t=new ma(e);t.scaleToFit(n._state.maxWidth);var r=e.pageIndex,i=t.width,a=t.height;return n._state.pageSizes[r]={height:a,width:i},o.pages[r]=t,!0})),n._state.loadingPages=!1,n.emitAsync("change")}),(function(){n._state=ia({},n._state,{loadingPages:!1,error:!0}),n.emitAsync("change")}))}}}},{key:"calculateDefaultPageSize",value:function(){var e=this._state.model;if(e&&Array.isArray(e.pages)){var n=e.pages.find((function(e){return!!e}));if(n){var t=n.width,r=n.height,o=n.canvasWidth,i=n.canvasHeight;isNaN(t)||isNaN(r)||(this._state=ia({},this._state,{defaultSize:{width:t,height:r,canvasWidth:o,canvasHeight:i,scale:0}}))}}}},{key:"getScrollPositionPercent",value:function(){var e=this._state.container;return e?e.scrollTop/e.scrollHeight:0}},{key:"onSetMaxWidthHandler",value:function(e){var n=this,t=e.maxWidth;this._state.resizing||(this._state.resizing=!0,this.emitAsync("change")),clearTimeout(ga),ga=setTimeout((function(){return n.setMaxWidth(t)}),100)}},{key:"setMaxWidth",value:function(e){var n=this;this._state.maxWidth=e,this._state.resizing=!1,this.updatePageSizes(),this.calculateDefaultPageSize();var t=this.getScrollPositionPercent();this.emitAsync("change"),setTimeout((function(){return n.updateScrollPositionAfterResize(t)}),100)}},{key:"updateScrollPositionAfterResize",value:function(e){var n=this._state.container;n&&(n.scrollTop=n.scrollHeight*e)}},{key:"updatePageSizes",value:function(){var e=this._state,n=e.model.pages,t=e.pageSizes,r=e.maxWidth;n.forEach((function(e){return e&&e.scaleToFit(r)})),Object.keys(t).forEach((function(e){var n=t[e];if(n){var o=r/n.width;n.width=Math.floor(o*n.width),n.height=Math.floor(o*n.height)}}))}}]),n}(zo);function va(e,n){return!n||"object"!==xa(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function ba(e,n,t){return(ba="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=wa(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _a(e,n){return(_a=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function xa(e){return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oa(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Sa(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ja(e,n,t){return n&&Sa(e.prototype,n),t&&Sa(e,t),e}function ka(e){var n=Math.floor(e/26),t=e%26+10;return t=(t=t.toString(36)).toUpperCase(),0===n?t:ka(n-1)+t}var Pa=function(){function e(n){if(Oa(this,e),"object"===xa(n)){var t=n.value,r=n.rowSpan,o=void 0===r?1:r,i=n.colSpan,a=void 0===i?1:i;Object.assign(this,{value:t,rowSpan:o,colSpan:a})}else Object.assign(this,{value:n,rowSpan:1,colSpan:1})}return ja(e,[{key:"isMerged",get:function(){return this.rowSpan+this.colSpan>2}}]),e}(),Ma=function(e){function n(){var e;return Oa(this,n),(e=va(this,wa(n).call(this))).rows=0,e.cols=0,e.rowsHead=[],e.colsHead=[],e.cells={},e}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_a(e,n)}(n,e),ja(n,[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){for(var t=this._count(e.rows),r=this._count(e.cols),o=this._generateHeaders(e.rows,t,(function(e){return e+1})),i=this._generateHeaders(e.cols,r,(function(e){return ka(e)})),a={},s=0;s<r;s+=1)for(var f=0;f<t;f+=1){var l=e.data[f][s];null!==l&&(a["".concat(s,"_").concat(f)]=new Pa(l))}ba(wa(n.prototype),"update",this).call(this,{rows:t,cols:r,rowsHead:o,colsHead:i,cells:a})}}},{key:"_count",value:function(e){return Array.isArray(e)?e.length:parseInt(e,10)}},{key:"_generateHeaders",value:function(e,n,t){for(var r=[],o=0;o<n;o+=1){var i=e[o];"object"!==xa(i)&&(i={value:i}),i.value||(i.value=t(o)),r.push(new Pa(i))}return r}},{key:"cell",value:function(e,n){return this.cells["".concat(e,"_").concat(n)]}},{key:"row",value:function(e){for(var n=[],t=0;t<this.cols;t+=1)n.push(this.cell(t,e));return n}}]),n}(Yo.a);function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ea(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aa(e,n){return!n||"object"!==Ca(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Va(e){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ba(e,n){return(Ba=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Ta=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Aa(this,Va(n).call(this))).file=e,t._state.sheets=[],t._state.currentSheet=0,t._initializeSheets(),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ba(e,n)}(n,e),t=n,(r=[{key:"_initializeSheets",value:function(){var e=this,n=this.file.previewMeta.sheets;if(!n)return this._state.error=new Error("Corrupted file's preview metatdata"),void this.emitAsync("error");this._state.sheets=n.map((function(n,t){var r=n.key,o=n.sheetName,i=new Ma,a=new de.d(i);return a.on("change",(function(){return e._onSheetChange(t)})),Object.assign(a,{key:e.file.getPreviewKeyUrl(r),name:o,id:t}),a}))}},{key:"onLoadHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.index,t=void 0===n?0:n,r=this._state.sheets;if(!r[t].loaded&&!r[t].loading){var o=r[t];o.loadData(o.key)}this._state.currentSheet=t,this.emitAsync("change")}},{key:"_onSheetChange",value:function(){this.emit("change")}}])&&Ea(t.prototype,r),o&&Ea(t,o),n}(zo);function Da(e){return(Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ia(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Na(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ra(e,n,t){return n&&Na(e.prototype,n),t&&Na(e,t),e}function La(e,n){return!n||"object"!==Da(n)&&"function"!=typeof n?Fa(e):n}function Fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function za(e,n,t){return(za="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=Ha(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function Ha(e){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ga(e,n)}function Ga(e,n){return(Ga=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Ua=[.25,.5,1,2,4],Ka=function(e){function n(){return Ia(this,n),La(this,Ha(n).call(this,{molecule:void 0,loaded:!1}))}return qa(n,e),Ra(n,[{key:"update",value:function(e){za(Ha(n.prototype),"update",this).call(this,{loaded:!0,molecule:e})}},{key:"reset",value:function(){this.loaded=!1,this.molecule=void 0}}]),n}(Yo.a),Wa=function(e){function n(e){var t;return Ia(this,n),t=La(this,Ha(n).call(this)),Object.assign(t._state,{molecule:void 0,comments:[]}),t.file=e,t._metadataUrl=e.getPreviewKeyUrl(),t._loader=new de.d(new Ka),t._loader.on("change",t._onChangeHandler.bind(Fa(t))),t.Molecule=null,t}return qa(n,e),Ra(n,[{key:"onLoadHandler",value:function(){var e=this;this._loader.loaded||this._loader.loading||(Object.assign(this._state,{loading:!0}),this.emitAsync("change"),ji((function(n){e.Molecule=e.Molecule||n.MoleculeViewer,e._loader.loadData(e._metadataUrl);var t=e._loader,r=t.loaded,o=t.loading,i=t.error;Object.assign(e._state,{loading:o,loaded:r,error:i}),e.emitAsync("change")})))}},{key:"_onChangeHandler",value:function(){var e=this._loader,n=e.loading,t=e.loaded,r=e.error,o=e.model,i={loading:n,loaded:t,error:r};if(r||!this.Molecule)return Object.assign(this._state,i),void this.emit("error");var a=o.molecule,s=a.map((function(e,n){return e.comment||"Model ".concat(n+1)}));Object.assign(this._state,i,{molecule:a,totalFrames:a.length,comments:s,currentFrame:0,currentFPS:Ua[2],canIncreaseFPS:3<Ua.length,canDecreaseFPS:!0,isDefaultFPS:!0,MoleculeViewer:this.Molecule}),this.emit("change")}},{key:"onIncreaseFPSHandler",value:function(){this._changeFPS(1),this.emitAsync("change")}},{key:"onDecreaseFPSHandler",value:function(){this._changeFPS(-1),this.emitAsync("change")}},{key:"_changeFPS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=Ua.indexOf(this._state.currentFPS);-1===n&&(n=2);var t=n+e;Ua[t]||(t=n),Object.assign(this._state,{currentFPS:Ua[t],isDefaultFPS:2===t,canIncreaseFPS:t+1<Ua.length,canDecreaseFPS:t-1>=0})}},{key:"onAnimationChangeHandler",value:function(e){var n=e.isAnimating;Object.assign(this._state,{isAnimating:n}),this.emitAsync("change")}},{key:"onChangeFrameHandler",value:function(e){var n=e.currentFrame,t=e.fromAnimation,r=e.isAnimating;Object.assign(this._state,{currentFrame:n,fromAnimation:t,isAnimating:r}),this.emitAsync("change")}}]),n}(zo);function Qa(e){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xa(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ya(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Za(e,n,t){return n&&Ya(e.prototype,n),t&&Ya(e,t),e}function Ja(e,n){return!n||"object"!==Qa(n)&&"function"!=typeof n?$a(e):n}function $a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function es(e,n,t){return(es="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=ns(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function ns(e){return(ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ts(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&rs(e,n)}function rs(e,n){return(rs=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var os=function(e){function n(){var e;return Xa(this,n),e=Ja(this,ns(n).call(this)),Object.assign($a(e),{loaded:!1,kmlData:void 0}),e}return ts(n,e),Za(n,[{key:"update",value:function(e){if(e){var t=nr.loadKML(e);es(ns(n.prototype),"update",this).call(this,{loaded:!0,kmlLayer:t})}}}]),n}(Yo.a),is=function(e){function n(e){var t;return Xa(this,n),(t=Ja(this,ns(n).call(this))).file=e,t._metadataUrl=e.getPreviewKeyUrl(),t._loader=new de.d(new os),t._loader.on("change",t._onChangeHandler.bind($a(t))),t}return ts(n,e),Za(n,[{key:"onLoadHandler",value:function(){if(!this._loader.loaded&&!this._loader.loading){this._loader.loadData(this._metadataUrl);var e=this._loader,n=e.loaded,t=e.loading,r=e.error;Object.assign(this._state,{loading:t,loaded:n,error:r}),this.emitAsync("change")}}},{key:"_onChangeHandler",value:function(){var e=this._loader,n=e.loading,t=e.loaded,r=e.error,o=e.model,i={loading:n,loaded:t,error:r};if(r)return Object.assign(this._state,i),void this.emit("error");var a=o.kmlLayer;Object.assign(this._state,i,{kmlLayer:a}),this.emit("change")}}]),n}(zo),as=t(427),ss=t.n(as);function fs(e){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ls(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function cs(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function us(e,n,t){return n&&cs(e.prototype,n),t&&cs(e,t),e}function ds(e,n){return!n||"object"!==fs(n)&&"function"!=typeof n?ps(e):n}function ps(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hs(e,n,t){return(hs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=gs(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function gs(e){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ms(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ys(e,n)}function ys(e,n){return(ys=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var vs=function(e){function n(){return ls(this,n),ds(this,gs(n).call(this,{content:void 0,loaded:!1}))}return ms(n,e),us(n,[{key:"update",value:function(e){var t=void 0;Array.isArray(e)&&(t=e.join("\n"),t=ss.a.highlightAuto(t).value);hs(gs(n.prototype),"update",this).call(this,{content:t,loaded:!0})}},{key:"reset",value:function(){this.loaded=!1,this.content=void 0}}]),n}(Yo.a),bs=function(e){function n(e){var t;ls(this,n),(t=ds(this,gs(n).call(this))).file=e;var r=t.file.previewMeta,o=new de.b(r.bytes);return Object.assign(t._state,{downloadLink:e.downloadLink,name:e.name,previewSize:o.size,hasStrippedBytes:r.bytes<t.file.size,content:void 0,minZoom:1,zoomSteps:2,maxZoom:3,currentZoom:1}),t._metadataUrl=e.getPreviewKeyUrl(),t._loader=new de.d(new vs),t._loader.on("change",t._onChangeHandler.bind(ps(t))),t}return ms(n,e),us(n,[{key:"onLoadHandler",value:function(){var e=this._loader;e.loaded||e.loading||(e.loadData(this._metadataUrl),Object.assign(this._state,{loading:e.loading,loaded:e.loaded,error:e.error}),this.emitAsync("change"))}},{key:"onZoomHandler",value:function(e){var n=e.currentZoom;Object.assign(this._state,{currentZoom:n}),this.emitAsync("change")}},{key:"_onChangeHandler",value:function(){var e=this._loader,n={loading:e.loading,loaded:e.loaded,error:e.error,content:void 0};e.model&&e.model.content&&(n.content=e.model.content),Object.assign(this._state,n),this.emitAsync("change")}}]),n}(zo);function ws(e){return(ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _s(e,n){return!n||"object"!==ws(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function xs(e){return(xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Os(e,n){return(Os=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Ss=function(e){function n(e){var t;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=_s(this,xs(n).call(this))).file=e;var r=t.file.previewMeta.key;return t._state.url=e.getPreviewKeyUrl(r),t.emit("change"),t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Os(e,n)}(n,e),n}(zo);function js(e){return(js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ks(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ps(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ms(e,n,t){return n&&Ps(e.prototype,n),t&&Ps(e,t),e}function Cs(e,n){return!n||"object"!==js(n)&&"function"!=typeof n?Es(e):n}function Es(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function As(e,n,t){return(As="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=Vs(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function Vs(e){return(Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bs(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ts(e,n)}function Ts(e,n){return(Ts=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Ds=function(e){function n(){return ks(this,n),Cs(this,Vs(n).call(this,{vertices:void 0,loaded:!1}))}return Bs(n,e),Ms(n,[{key:"update",value:function(e){As(Vs(n.prototype),"update",this).call(this,{loaded:!0,vertices:e})}},{key:"reset",value:function(){this.loaded=!1,this.vertices=void 0}}]),n}(Yo.a),Is=function(e){function n(e){var t;return ks(this,n),t=Cs(this,Vs(n).call(this)),Object.assign(t._state,{vertices:void 0}),t.file=e,t._metadataUrl=e.getPreviewKeyUrl(),t._loader=new de.d(new Ds),t._loader.on("change",t._onChangeHandler.bind(Es(t))),t.GraphViewer=null,t}return Bs(n,e),Ms(n,[{key:"onLoadHandler",value:function(){var e=this;this._loader.loaded||this._loader.loading||(Object.assign(this._state,{loading:!0}),this.emitAsync("change"),Si((function(n){e.GraphViewer=e.GraphViewer||n.GraphViewer,e._loader.loadData(e._metadataUrl),Object.assign(e._state,{loading:e._loader.loading,loaded:e._loader.loaded,error:e._loader.error}),e.emitAsync("change")})))}},{key:"_onChangeHandler",value:function(){var e={loading:this._loader.loading,loaded:this._loader.loaded,error:this._loader.error};if(this._loader.error||!this.GraphViewer)return Object.assign(this._state,e),void this.emit("error");Object.assign(this._state,e,{vertices:this._loader.model.vertices,GraphViewer:this.GraphViewer}),this.emit("change")}}]),n}(zo);function Ns(e){return(Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rs(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ls(e){return(Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zs(e,n){return(zs=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Hs(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function qs(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Gs(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Us(e,n,t){return n&&Gs(e.prototype,n),t&&Gs(e,t),e}var Ks=function(){function e(){qs(this,e)}return Us(e,[{key:"update",value:function(e){this.loaded=!0,this.meta=e}},{key:"reset",value:function(){this.loaded=!1,this.meta=void 0}}]),e}(),Ws={luminosity:0,invert:!1},Qs={meta:void 0,hideHisto:!0,layerIndex:0,imageIndex:0,metaVisible:!1,filters:Object.assign({},Ws),prevDisabled:!0,nextDisabled:!1},Xs=function(e){function n(e){var t,r,o;return qs(this,n),r=this,o=Ls(n).call(this),t=!o||"object"!==Ns(o)&&"function"!=typeof o?Fs(r):o,Hs(Fs(t),"_onChangeMetaHandler",(function(){if(t._metaLoader.error)return Object.assign(t._state,t._getLoadingStatus()),void t.emit("error");var e=t._metaLoader.model.meta;Object.assign(t._state,t._getLoadingStatus(),{meta:e,images:e.length}),t.emit("change"),t.tryStart()})),Hs(Fs(t),"onZoomInHandler",(function(){t.viewer&&t.viewer.zoomIn()})),Hs(Fs(t),"onZoomOutHandler",(function(){t.viewer&&t.viewer.zoomOut()})),Hs(Fs(t),"onToggleHistoHandler",(function(){var e=!t._state.hideHisto;Object.assign(t._state,{hideHisto:e}),t.emitAsync("change")})),Hs(Fs(t),"onPrevLayerHandler",(function(){t.viewer&&(t.viewer.previousLayer(),t.updateLayer())})),Hs(Fs(t),"onNextLayerHandler",(function(){t.viewer&&(t.viewer.nextLayer(),t.updateLayer())})),Hs(Fs(t),"onNextImageHandler",(function(){t.viewer&&(t.viewer.nextImage(),t.updateImage())})),Hs(Fs(t),"onPrevImageHandler",(function(){t.viewer&&(t.viewer.previousImage(),t.updateImage())})),Hs(Fs(t),"onSelectLayerHandler",(function(e){var n=e.layerIndex;t.viewer&&(t.viewer.selectLayer(n),t.updateLayer())})),Hs(Fs(t),"onSelectImageHandler",(function(e){var n=e.imageIndex;t.viewer&&(t.viewer.selectImage(n),t.updateImage())})),Hs(Fs(t),"onToggleMetaHandler",(function(){var e=t._state.metaVisible;Object.assign(t._state,{metaVisible:!e}),t.emitAsync("change")})),Hs(Fs(t),"onFilterResetHandler",(function(){return t.updateFilter(Ws)})),Hs(Fs(t),"onFilterInvertHandler",(function(){return t.updateFilter({invert:!t.state.filters.invert})})),Hs(Fs(t),"onFilterLightenHandler",(function(){t.updateFilter({luminosity:Math.min(t.state.filters.luminosity+15,254)})})),Hs(Fs(t),"onFilterDarkenHandler",(function(){t.updateFilter({luminosity:Math.max(t.state.filters.luminosity-15,-254)})})),Hs(Fs(t),"onUnloadHandler",(function(){t.viewer&&t.viewer.stop()})),Hs(Fs(t),"onUpdateHandler",(function(e){var n=e.newWidth,r=e.newHeight;n>0&&r>0&&(Object.assign(t._state,{maxWidth:n,maxHeight:r}),t.updateViewersSize())})),Hs(Fs(t),"updateFilter",(function(e){var n=t._state.filters;Object.assign(n,e),t.store.dispatch({type:"UPDATE_FILTERS",filters:n}),Object.assign(t._state.filters,n),t.emitAsync("change")})),Hs(Fs(t),"updateLayer",(function(){var e=t.viewer.currentImageMeta.layerCount,n=t.viewer.currentLayerIndex,r=0===n,o=n===e-1;Object.assign(t._state,{layerIndex:t.viewer.currentLayerIndex,prevDisabled:r,nextDisabled:o}),t.emitAsync("change")})),Hs(Fs(t),"updateImage",(function(){Object.assign(t._state,{imageIndex:t.viewer.currentImageIndex}),t.emitAsync("change")})),Hs(Fs(t),"updateViewersSize",(function(){var e=t._state,n=e.maxWidth,r=e.maxHeight;if(t.viewer&&t.histo){t.viewer.resize(n,r);var o=Math.min(n,r,320)-25;t.histo.resize(o,o)}})),Hs(Fs(t),"tryStart",(function(){var e=t._state,n=e.meta,r=e.maxWidth,o=e.maxHeight,i=e.canvasContainerNode,a=e.histoContainerNode;if(!t.viewer&&i&&a&&n){t.viewer=new t.FITSViewer({byteRangeLoader:ki,container:i,fileName:t._binUrl,height:o,width:r,store:t.store}),t.histo=new t.FITSHistogram({container:a,width:Math.min(r,320),height:Math.min(o,320),store:t.store}),t.viewer.start(),t.histo.start(),t.updateViewersSize(),t.updateFilter(Ws),t.store.init(),t.store.addView(t.viewer),t.store.addView(t.histo),t.store.dispatch({type:"LOAD_IMAGE_META",metadata:n}),t.viewerLoaded=!0;var s=t.viewer,f=s.zoom,l=s.minZoom,c=s.maxZoom;Object.assign(t._state,t._getLoadingStatus(),{zoom:f,minZoom:l,maxZoom:c}),t.emit("change")}})),Object.assign(t._state,Qs),t.file=e,t._metadataUrl=e.getPreviewKeyUrl(),t._binUrl=e.getPreviewBinUrl(),t._metaLoader=new de.d(new Ks),t._metaLoader.on("change",t._onChangeMetaHandler),t.FITSViewer=null,t.viewerLoaded=!0,xi((function(e){var n=e.FITSViewer,r=e.FITSHistogram,o=e.Store;n&&r&&o?(t.FITSViewer=n,t.FITSHistogram=r,t.store=new o,t._metaLoader.loadData(t._metadataUrl)):t.emit("error")})),t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&zs(e,n)}(n,e),Us(n,[{key:"onLoadHandler",value:function(e){this._metaLoader.loaded||(Object.assign(this._state,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rs(Object(t),!0).forEach((function(n){Hs(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rs(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({loading:!0},e)),this.emitAsync("change"))}},{key:"_getLoadingStatus",value:function(){return{loading:this._metaLoader.loading||!this.viewerLoaded,loaded:this._metaLoader.loaded,error:this._metaLoader.error}}}]),n}(zo),Ys={archive:fi,audio:gi,dataset:Ta,document:na,document_canvas:ya,document_failsafe:ya,dicom:Xs,fits:Xs,graph:Is,image:Xo,jupyter:Ss,kml:is,molecule:Wa,presentation:na,txt:bs,video:_i,viewer3d:Fi};function Zs(){return(Zs=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Js(e){return(Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ef(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nf(e,n,t){return n&&ef(e.prototype,n),t&&ef(e,t),e}function tf(e,n){return!n||"object"!==Js(n)&&"function"!=typeof n?rf(e):n}function rf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function of(e,n,t){return(of="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=af(e)););return e}(e,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function af(e){return(af=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sf(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ff(e,n)}function ff(e,n){return(ff=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function lf(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,"a",(function(){return uf})),t.d(n,"c",(function(){return Jr})),t.d(n,"b",(function(){return $r}));var cf=function(e){function n(e,t){var r;return $s(this,n),lf(rf(r=tf(this,af(n).call(this,e,t))),"controlsRef",(function(e){if(e){var n=Object(s.findDOMNode)(e);n&&(r.controlsNode=n,r._updateViewerHeight())}})),lf(rf(r),"onToggleFocus",(function(e){return function(){e!==r.state.focused&&r.setState({focused:e})}})),r.state={focused:!1,model:r._updateModel(r.props.file)},r}return sf(n,e),nf(n,[{key:"componentWillReceiveProps",value:function(e){(this.props.file!==e.file&&(this._resetModel(),this.setState({model:this._updateModel(e.file)})),e.trackFileViews)&&this.props.flux.getActions("DisplayModel").registerFileView(this.props.file);this._updateViewerHeight()}},{key:"componentWillUnmount",value:function(){of(af(n.prototype),"componentWillUnmount",this).call(this),this._resetModel()}},{key:"render",value:function(){var e=this._getViewerType(this.props.file);return a.a.createElement(c.a,{onBlur:this.onToggleFocus(!1),onFocus:this.onToggleFocus(!0)},a.a.createElement("div",{key:this.props.file.id,className:"fs-figshare-viewer"},this.renderControls(e),this.renderDisplay(e)))}},{key:"renderDisplay",value:function(e){var n=Zr(e),t=this.props,r=t.flux,o=t.width,i=t.height,s=t.showControls,f=t.mode,l=this.state.model&&this.state.model._id,c=i;return To[e]&&(c-=this.state.ctrlHeight?this.state.ctrlHeight:38),a.a.createElement(n,{key:l,flux:r,focused:this.state.focused,maxHeight:c,maxWidth:o,mode:f,showControls:s})}},{key:"renderControls",value:function(e){var n=To[e]||null;return n&&this.props.showControls?a.a.createElement("div",{ref:this.controlsRef,className:"fs-controls-wrapper"},a.a.createElement(n,{flux:this.props.flux,mode:this.props.mode})):null}},{key:"_updateViewerHeight",value:function(){if(this.controlsNode){var e=this.controlsNode.offsetHeight;this.state.ctrlHeight!==e&&this.setState({ctrlHeight:e})}}},{key:"_getViewerType",value:function(e){return(e.virusScanInfo||{}).virus_found?"":e.viewerType}},{key:"_updateModel",value:function(e){var n=function(e,n){return Ys[e]?new(0,Ys[e])(n):null}(this._getViewerType(e),e);return n&&(n.on("load",this.handle("onModelChange")),n.on("change",this.handle("onModelChange")),n.on("error",this.handle("onModelChange"))),this.props.flux.getActions("DisplayModel").setModel(n),n}},{key:"_resetModel",value:function(){var e=this.state.model;e&&(e.removeListener("load",this.handle("onModelChange")),e.removeListener("change",this.handle("onModelChange")),e.removeListener("error",this.handle("onModelChange")),e.reset())}},{key:"onModelChange",value:function(){var e=this.props.flux.getActions("DisplayModel");e.updateModel(),this.props.trackFileViews&&e.registerFileView(this.props.file)}}]),n}(l.a);lf(cf,"propTypes",{file:o.a.object.isRequired,height:o.a.number,mode:o.a.oneOf(["desktop","mobile"]),showControls:o.a.bool,trackFileViews:o.a.bool,width:o.a.number}),lf(cf,"defaultProps",{height:void 0,mode:void 0,showControls:!1,trackFileViews:!1,width:void 0}),cf.defaultProps={showControls:!0,mode:"desktop"};var uf=function(e){function n(){var e,t;$s(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=tf(this,(e=af(n)).call.apply(e,[this].concat(o)))).state={flux:new x},t}return sf(n,e),nf(n,[{key:"render",value:function(){return a.a.createElement(cf,Zs({},this.props,{flux:this.state.flux}))}}]),n}(a.a.Component)},368:function(e,n,t){"use strict";t.d(n,"e",(function(){return r})),t.d(n,"d",(function(){return o})),t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return s}));var r=4,o=1e4,i={id:"figshare-datacite",title:"DataCite",style:"figshare-datacite"},a="https://doi.org/",s="https://hdl.handle.net/"},371:function(e,n,t){"use strict";function r(e){var n=null,t=null;document.body.createTextRange?((n=document.body.createTextRange()).moveToElementText(e),n.select()):window.getSelection&&(t=window.getSelection(),(n=document.createRange()).selectNodeContents(e),t.removeAllRanges(),t.addRange(n))}function o(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return o}))},372:function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.d(n,"a",(function(){return a}));var i=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],a=function(){function e(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;r(this,e),this._size=Number(t)||0,i.forEach((function(e,t){Object.defineProperty(n,"sizeIn".concat(e.toUpperCase()),{get:function(){return n.format(t)}})}))}var n,t,a;return n=e,(t=[{key:"value",value:function(e){return this._compute(e).size}},{key:"unit",value:function(e){return this._compute(e).suffix}},{key:"format",value:function(e){var n=this._compute(e),t=n.size,r=n.suffix;return"".concat(t," ").concat(r)}},{key:"_compute",value:function(e){var n=e||this._autoExponent(),t=i[n],r=this._toExponent(n),o=Math.pow(10,n?2:0);return{size:r=Math.floor(r*o)/o,suffix:t}}},{key:"_toExponent",value:function(e){return this._size/Math.pow(1024,e)}},{key:"_autoExponent",value:function(){return this._size?Math.floor(Math.log(this._size)/Math.log(1024)):0}},{key:"size",get:function(){return this.format()}}])&&o(n.prototype,t),a&&o(n,a),e}();n.b=a},373:function(e,n,t){"use strict";var r=t(366);n.a=r.a},374:function(e,n,t){"use strict";t.d(n,"a",(function(){return A}));var r=t(364);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,n){return!n||"object"!==o(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,n){return(l=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var c=function(e){return"/public/collections/".concat(e)},u=function(e,n){return"/public/collections/".concat(e,"/versions/").concat(n)},d=function(e){return"/public/collections/".concat(e,"/stats")},p=function(e){return"/public/collections/by-resource/".concat(e)},h=function(e){return"/public/collections/by-resource-doi/".concat(e)},g=function(e){return"/public/collections/by-doi/".concat(e)},m=function(e){return"/public/collections/".concat(e,"/articles")},y=function(e,n){return"/public/collections/".concat(e,"/versions/").concat(n,"/articles")},v=function(e){return"/public/collections/".concat(e,"/files")},b=function(e){return"/public/articles/".concat(e)},w=function(e,n){return"/public/articles/".concat(e,"/versions/").concat(n)},_=function(e){return"/public/articles/".concat(e,"/stats")},x=function(e){return"/public/articles/by-doi/".concat(e)},O=function(e){return"/public/articles/by-resource-doi/".concat(e)},S=function(e){return"/public/articles/".concat(e,"/files")},j="public/articles/files/count",k=function(e,n){return"/public/articles/".concat(e,"/versions/").concat(n,"/files")},P=function(e){return"/public/related-content/".concat(e)},M="/citation_styles",C=function(e,n){return"/public/articles/".concat(e,"/citation/").concat(n)},E=function(e,n){return"/public/collections/".concat(e,"/citation/").concat(n)},A=function(e){function n(){return i(this,n),s(this,f(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&l(e,n)}(n,e),t=n,(r=[{key:"getCollection",value:function(e){var n=e.id,t=e.doi,r=e.resource,o=e.resourceDOI,i=e.version,a=void 0;return n?a=i?u(n,i):c(n):t?a=g(t):r?a=p(r):o&&(a=h(o)),this.get({url:a}).then(this._successHandler,this._errorHandler)}},{key:"getCollectionStats",value:function(e){var n=d(e);return this.get({url:n}).then(this._successHandler,this._errorHandler)}},{key:"getCollectionArticles",value:function(e,n){var t=e.id,r=e.version,o=r?y(t,r):m(t);return this.get({url:o,query:n}).then(this._successHandler,this._errorHandler)}},{key:"getArticle",value:function(e,n){var t=e.id,r=e.doi,o=e.resourceDOI,i=e.version,a=void 0;return t?a=i?w(t):b(t):r?a=x(r):o&&(a=O(o)),this.get({url:a,query:n}).then(this._successHandler,this._errorHandler)}},{key:"getArticleStats",value:function(e){var n=_(e);return this.get({url:n}).then(this._successHandler,this._errorHandler)}},{key:"getArticleFiles",value:function(e,n){var t=e.id,r=e.version,o=r?k(t,r):S(t);return this.get({url:o,query:n}).then(this._successHandler,this._errorHandler)}},{key:"getCollectionFiles",value:function(e){var n=e.id,t=v(n);return this.get({url:t}).then(this._successHandler,this._errorHandler)}},{key:"getRelatedArticles",value:function(e,n){var t=e.doi,r=P(t);return this.get({url:r,query:n}).then(this._successHandler,this._errorHandler)}},{key:"getCitations",value:function(e){var n=e.search,t=e.limit,r=e.offset,o=e.only,i=e.ignore,a=M,s={search:n,limit:t,offset:r,only:o,ignore:i};return this.get({url:a,query:s}).then(this._successHandler,this._errorHandler)}},{key:"getArticlePublicCitation",value:function(e){var n=e.id,t=e.styleId,r=C(n,t);return this.get({url:r}).then(this._successHandler,this._errorHandler)}},{key:"getCollectionPublicCitation",value:function(e){var n=e.id,t=e.styleId,r=E(n,t);return this.get({url:r}).then(this._successHandler,this._errorHandler)}},{key:"getFilesCount",value:function(e){var n=e.article,t=e.collection,r=j,o={};if(n){var i=n.id,a=n.doi,s=n.resourceDOI;i?o.articleId=i:a?o.articleDOI=a:s&&(o.articleResourceDOI=s)}if(t){var f=t.id,l=t.doi,c=t.resourceDOI;f?o.collectionId=f:l?o.collectionDOI=l:c&&(o.collectionResourceDOI=c)}return this.get({url:r,query:o}).then(this._successHandler,this._errorHandler)}}])&&a(t.prototype,r),o&&a(t,o),n}(r.a)},377:function(e,n,t){"use strict";t.d(n,"a",(function(){return x}));var r,o=t(349),i=t.n(o),a=t(348),s=t.n(a),f=t(347),l=t.n(f),c=t(390),u=t.n(c);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function h(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function m(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,n){return!n||"object"!==d(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,n){return(b=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var _=(w(r={},"top",u.a.topArrow),w(r,"right",u.a.rightArrow),w(r,"bottom",u.a.bottomArrow),w(r,"left",u.a.leftArrow),r),x=function(e){function n(){return g(this,n),y(this,v(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&b(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.computeArrowStyle(),n=this.props,t=n.arrowLocation,r=n.children,o=n.className,a=(n.xOffset,n.yOffset,h(n,["arrowLocation","children","className","xOffset","yOffset"]));return l.a.createElement("div",p({className:o},a),r,l.a.createElement("div",{className:i()(u.a.arrow,_[t]),style:e}))}},{key:"computeArrowStyle",value:function(){var e=this.props,n=e.arrowLocation,t=e.xOffset,r=e.yOffset,o={top:"auto",right:"auto",bottom:"auto",left:"auto"};return"top"===n||"left"===n?(o.top=0+r,o.left=0+t,o):"right"===n?(o.top=0+r,o.right=0-t,o):"bottom"===n?(o.bottom=0-r,o.left=0+t,o):{display:"none"}}}])&&m(t.prototype,r),o&&m(t,o),n}(f.Component);w(x,"propTypes",{arrowLocation:s.a.oneOf(Object.keys(_)).isRequired,children:s.a.node,className:s.a.string,xOffset:s.a.number,yOffset:s.a.number}),w(x,"defaultProps",{children:null,className:void 0,xOffset:0,yOffset:0})},378:function(e,n,t){"use strict";t.d(n,"b",(function(){return w})),t.d(n,"a",(function(){return _}));var r=t(349),o=t.n(r),i=t(348),a=t.n(i),s=t(347),f=t.n(s),l=t(350);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function d(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,n){return!n||"object"!==c(n)&&"function"!=typeof n?g(e):n}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&y(e,n)}function y(e,n){return(y=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var b="horizontal",w=function(e){function n(){var e,t;u(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return v(g(t=p(this,(e=h(n)).call.apply(e,[this].concat(o)))),"onPrevPage",(function(){var e=t.props.currentPage;e-1>=0&&t.gotoPage(e-1)})),v(g(t),"onNextPage",(function(){var e=t.props,n=e.currentPage;n+1<e.totalPages&&t.gotoPage(n+1)})),v(g(t),"onKeyDown",(function(e){var n=e.which;34!==n&&39!==n||(e.preventDefault(),t.onNextPage()),33!==n&&37!==n||(e.preventDefault(),t.onPrevPage())})),v(g(t),"gotoPage",(function(e){return t.props.onGotoPage(e)})),t._type=t.props.type,t}var t,r,i;return m(n,e),t=n,(r=[{key:"componentDidMount",value:function(){this.props.keysEnabled&&document.addEventListener("keydown",this.onKeyDown,!0)}},{key:"componentDidUpdate",value:function(e){var n=this.props.keysEnabled;n!==e.keysEnabled&&(n?document.addEventListener("keydown",this.onKeyDown,!0):document.removeEventListener("keydown",this.onKeyDown,!0))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!0)}},{key:"render",value:function(){var e=this.props,n=e.className,t=e.currentPage,r=e.totalPages,i=v({},"fs-".concat(this._type),!!this._type),a=0===t,s=t===r-1;return f.a.createElement("nav",{className:o()("fs-controls-group","fs-pagination",i,n)},f.a.createElement("strong",{className:"fs-pagination-info"},t+1," / ",r),f.a.createElement(l.a,{"aria-label":"Previous",className:"fs-prev-page",disabled:a,tabIndex:0,onClick:this.onPrevPage}),f.a.createElement(l.a,{"aria-label":"Next",className:"fs-next-page",disabled:s,tabIndex:0,onClick:this.onNextPage}))}}])&&d(t.prototype,r),i&&d(t,i),n}(s.Component);v(w,"propTypes",{className:a.a.string,currentPage:a.a.number,keysEnabled:a.a.bool,totalPages:a.a.number,type:a.a.string,onGotoPage:a.a.func}),v(w,"defaultProps",{className:void 0,currentPage:void 0,keysEnabled:!1,totalPages:void 0,type:void 0,onGotoPage:function(){}});var _=function(e){function n(){var e,t;u(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=p(this,(e=h(n)).call.apply(e,[this].concat(o))))._type=b,t}return m(n,e),n}(w)},379:function(e,n,t){"use strict";t.d(n,"a",(function(){return y}));var r=t(348),o=t.n(r),i=t(347),a=t.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function c(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function u(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,n){return!n||"object"!==s(n)&&"function"!=typeof n?h(e):n}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,n){return(g=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function m(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var y=function(e){function n(){var e,t;c(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return m(h(t=d(this,(e=p(n)).call.apply(e,[this].concat(o)))),"node",null),m(h(t),"onSetNode",(function(e){t.node=e,t.props.wrapperRef(e)})),m(h(t),"onScroll",(function(e){e&&t.props.onScroll();var n=t.props,r=n.useWindow,o=n.threshold,i=n.onBottomReached,a=n.onTopReached;r&&(t.node=document.documentElement||document.body.parentNode||document.body);var s=t.node.scrollTop,f=t.node.scrollHeight-s-t.node.clientHeight;f<=o&&i(f),s<=o&&a(t.node.scrollTop)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&g(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){this.attachScrollListener(this.props.useWindow),this.onScroll()}},{key:"componentDidUpdate",value:function(e){var n=e.useWindow;this.props.useWindow!==n&&(this.detachScrollListener(n),this.attachScrollListener(this.props.useWindow))}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(this.props.useWindow)}},{key:"render",value:function(){var e=this.props,n=(e.useWindow,e.threshold,e.wrapperRef,e.onBottomReached,e.onScroll,e.onTopReached,e.as),t=l(e,["useWindow","threshold","wrapperRef","onBottomReached","onScroll","onTopReached","as"]),r=n;return a.a.createElement(r,f({ref:this.onSetNode},t))}},{key:"attachScrollListener",value:function(e){e&&(this.node=window),this.node.addEventListener("scroll",this.onScroll)}},{key:"detachScrollListener",value:function(e){e&&(this.node=window),this.node.removeEventListener("scroll",this.onScroll)}}])&&u(t.prototype,r),o&&u(t,o),n}(i.Component);m(y,"propTypes",{as:o.a.any,threshold:o.a.number,useWindow:o.a.bool,wrapperRef:o.a.func,onBottomReached:o.a.func,onScroll:o.a.func,onTopReached:o.a.func}),m(y,"defaultProps",{as:"div",useWindow:!1,threshold:0,wrapperRef:function(){},onBottomReached:function(){},onScroll:function(){},onTopReached:function(){}})},380:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var r=t(348),o=t.n(r),i=t(347),a=t.n(i),s=t(479),f=t(366);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function u(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function d(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,n){return!n||"object"!==l(n)&&"function"!=typeof n?m(e):n}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,n){return(y=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var b=function(e){function n(){var e,t;d(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return v(m(t=h(this,(e=g(n)).call.apply(e,[this].concat(o)))),"onKeyPress",(function(e){"Escape"===e.key&&t.props.onClose()})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&y(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyPress)}},{key:"render",value:function(){var e=this.props,n=e.children,t=e.onClose,r=u(e,["children","onClose"]);return a.a.createElement(f.a,{onClickOutside:t},a.a.createElement(s.a,c({},r,{returnFocus:!0}),n))}}])&&p(t.prototype,r),o&&p(t,o),n}(i.Component);v(b,"propTypes",{children:o.a.oneOfType([o.a.string,o.a.node,o.a.array]),onClose:o.a.func}),v(b,"defaultProps",{children:null,onClose:function(){}})},385:function(e,n,t){"use strict";t.d(n,"a",(function(){return w}));var r=t(348),o=t.n(r),i=t(347),a=t.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){v(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,n){return!n||"object"!==s(n)&&"function"!=typeof n?m(e):n}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,n){return(y=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var b={display:"inline-block",position:"relative",width:"100%",height:"100%",border:"0 none transparent",margin:"0",padding:"0"};function w(e){var n,t;return t=n=function(n){function t(){var e,n;d(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return v(m(n=h(this,(e=g(t)).call.apply(e,[this].concat(o)))),"state",{width:0,height:0,top:0,left:0}),v(m(n),"boundingBoxNode",null),v(m(n),"setBoundingBoxNode",(function(e){n.boundingBoxNode=e})),v(m(n),"onResize",(function(){if(n.boundingBoxNode){var e=n.boundingBoxNode,t=e.offsetWidth,r=e.offsetHeight,o=e.offsetLeft,i=e.offsetTop,a=n.state,s=a.width,f=a.height,l=a.left,c=a.top;if(s!==t||f!==r||(l!==o||c!==i)){var d={width:t||0,height:r||0,top:i||0,left:o||0};n.setState(d),n.props.onResize(u({},d))}}})),n}var r,o,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&y(e,n)}(t,n),r=t,(o=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),setTimeout(this.onResize,0)}},{key:"componentDidUpdate",value:function(){setTimeout(this.onResize,0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var n=this.state,t=n.width,r=n.height,o=n.left,i=n.top,s=this.props,c=(s.onResize,l(s,["onResize"]));return a.a.createElement("div",{ref:this.setBoundingBoxNode,style:b},a.a.createElement(e,f({},c,{boxHeight:r,boxWidth:t,boxX:o,boxY:i})))}}])&&p(r.prototype,o),i&&p(r,i),t}(i.Component),v(n,"propTypes",{onResize:o.a.func}),v(n,"defaultProps",{onResize:function(){}}),t}},386:function(e,n,t){"use strict";t.d(n,"b",(function(){return v})),t.d(n,"a",(function(){return b}));var r=t(349),o=t.n(r),i=t(348),a=t.n(i),s=t(347),f=t.n(s),l=t(404),c=t.n(l);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,n){return!n||"object"!==u(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,n){return(m=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(!e.title&&!e.description)},b=function(e){function n(){return d(this,n),h(this,g(n).apply(this,arguments))}var t,r,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&m(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.className,t=e.file;return v(t)?f.a.createElement("aside",{className:o()(c.a.descriptionContainer,n)},this.renderTitle(),this.renderDescription()):null}},{key:"renderTitle",value:function(){var e=this.props.file;return e.title?f.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.title},className:c.a.title}):null}},{key:"renderDescription",value:function(){var e=this.props.file;return e.description?f.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.description},className:c.a.description}):null}}])&&p(t.prototype,r),i&&p(t,i),n}(s.Component);y(b,"propTypes",{file:a.a.object.isRequired,className:a.a.string}),y(b,"defaultProps",{className:void 0})},387:function(e,n,t){"use strict";t.d(n,"a",(function(){return g}));var r=t(348),o=t.n(r),i=t(347),a=t.n(i),s=t(372);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,n){return!n||"object"!==f(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,n){return(p=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var g=function(e){function n(){return l(this,n),u(this,d(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&p(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.className,t=e.value,r=new s.b(t);return a.a.createElement("span",{className:n},r.format())}}])&&c(t.prototype,r),o&&c(t,o),n}(i.Component);h(g,"propTypes",{value:o.a.number.isRequired,className:o.a.string}),h(g,"defaultProps",{className:void 0})},388:function(e,n,t){"use strict";t.d(n,"a",(function(){return k}));var r=t(349),o=t.n(r),i=t(348),a=t.n(i),s=t(347),f=t.n(s),l=t(356),c=t.n(l),u=t(366);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function g(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,n,t){return n&&g(e.prototype,n),t&&g(e,t),e}function y(e,n){return!n||"object"!==d(n)&&"function"!=typeof n?b(e):n}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_(e,n)}function _(e,n){return(_=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var O=null,S=document.createElement("figshare-overlay");document.body.appendChild(S);var j=function(e){function n(){var e,t;h(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return x(b(t=y(this,(e=v(n)).call.apply(e,[this].concat(o)))),"state",{content:[]}),t}return w(n,e),m(n,[{key:"render",value:function(){var e=this.state,n=e.content,t=e.name,r=!!n.length,i=["fs-overlay",t,r?"fs-active":"fs-inactive"];return S.setAttribute("class",o()(i)),r?n[n.length-1]:null}},{key:"addContent",value:function(e,n){var t=p(this.state.content);return t.push(e),this.setState({content:t,name:n}),t.length-1}},{key:"removeContent",value:function(e){var n=p(this.state.content);n.splice(e,1),this.setState({content:n})}},{key:"updateContent",value:function(e,n,t){var r=p(this.state.content);r[e]=n,this.setState({content:r,name:t})}}]),n}(s.Component);c.a.render(f.a.createElement(j,{ref:function(e){return O=e},container:S}),S);var k=function(e){function n(){var e,t;h(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return x(b(t=y(this,(e=v(n)).call.apply(e,[this].concat(o)))),"onKeyDown",(function(e){27===e.which&&t.props.onEscPress()})),x(b(t),"onBackdropClick",(function(e){var n=t.props,r=n.backdrop,o=n.onBackdropClick;r&&o(e)})),t}return w(n,e),m(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.name,t=e.children,r=e.backdrop,o=this.renderContent({name:n,children:t,backdrop:r});this.contentId=O.addContent(o,this.context.widgetClass),document.addEventListener("keydown",this.onKeyDown,!0),document.body.classList.add("fs-no-overflow")}},{key:"componentDidUpdate",value:function(){if(this.hasContentId()){var e=this.props,n=e.name,t=e.children,r=e.backdrop,o=this.renderContent({name:n,children:t,backdrop:r});O.updateContent(this.contentId,o,this.context.widgetClass)}}},{key:"componentWillUnmount",value:function(){this.hasContentId()&&(O.removeContent(this.contentId),this.contentId=null),document.removeEventListener("keydown",this.onKeyDown,!0),document.body.classList.remove("fs-no-overflow")}},{key:"render",value:function(){return null}},{key:"renderContent",value:function(e){var n=e.name,t=e.children,r=e.backdrop,i=["fs-overlay-item",n,x({"fs-overlay-backdrop":!!r},r,"string"==typeof r)];return f.a.createElement("div",{className:o()(i)},f.a.createElement(u.a,{onClickOutside:this.onBackdropClick},f.a.createElement("div",{className:"fs-overlay-content"},t)))}},{key:"hasContentId",value:function(){return null!==this.contentId&&void 0!==this.contentId}}]),n}(s.Component);x(k,"propTypes",{backdrop:a.a.oneOfType([a.a.bool,a.a.string]),children:a.a.any,name:a.a.string,onBackdropClick:a.a.func,onEscPress:a.a.func}),x(k,"defaultProps",{backdrop:void 0,children:void 0,name:void 0,onBackdropClick:function(){},onEscPress:function(){}}),x(k,"contextTypes",{widgetClass:a.a.string})},389:function(e,n,t){"use strict";t.d(n,"a",(function(){return O}));var r=t(349),o=t.n(r),i=t(348),a=t.n(i),s=t(347),f=t.n(s),l=t(350),c=t(406),u=t.n(c);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function h(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function m(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,n){return!n||"object"!==d(n)&&"function"!=typeof n?b(e):n}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,n){return(w=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function _(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var x=["button:not([disabled])","[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"]):not([disabled])'].join(", "),O=function(e){function n(){var e,t;g(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return _(b(t=y(this,(e=v(n)).call.apply(e,[this].concat(o)))),"onClick",(function(e){var n=t.props,r=n.focusRef,o=n.onClick,i=r?r.current:null;if(o(e),!e.defaultPrevented&&i){var a=i.querySelector(x)||i;a.focus&&a.focus()}})),t}var t,r,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&w(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=(e.focusRef,e.className),t=(e.onClick,h(e,["focusRef","className","onClick"])),r=this.context.theme;return f.a.createElement(l.a,p({},t,{className:o()(u.a.button,u.a.hidden,n,r.skipButton),onClick:this.onClick}))}}])&&m(t.prototype,r),i&&m(t,i),n}(s.Component);_(O,"propTypes",{className:a.a.string,focusRef:a.a.object,onClick:a.a.func}),_(O,"defaultProps",{focusRef:null,className:void 0,onClick:function(){}}),_(O,"contextTypes",{theme:a.a.object})},390:function(e,n,t){var r=t(391);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},391:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-shared-components-arrowContainer-module__arrow--2C4PY {\n  position: absolute;\n}\n.frontend-shared-components-arrowContainer-module__arrow--2C4PY::before,\n.frontend-shared-components-arrowContainer-module__arrow--2C4PY::after {\n  position: absolute;\n  display: inline-block;\n  content: "";\n}\n.frontend-shared-components-arrowContainer-module__topArrow--1lie1::before {\n  bottom: -1px;\n  left: -11px;\n  border-left: 11px solid transparent;\n  border-right: 11px solid transparent;\n  border-bottom: 12px solid #ddd;\n}\n.frontend-shared-components-arrowContainer-module__topArrow--1lie1::after {\n  bottom: -1px;\n  left: -10px;\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  border-bottom: 10px solid #fff;\n}\n.frontend-shared-components-arrowContainer-module__rightArrow--3Ynfa::before {\n  top: -11px;\n  left: -1px;\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  border-left: 22px solid #ddd;\n}\n.frontend-shared-components-arrowContainer-module__rightArrow--3Ynfa::after {\n  top: -10px;\n  left: -1px;\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n  border-left: 20px solid #fff;\n}\n.frontend-shared-components-arrowContainer-module__bottomArrow--1rsMx::before {\n  top: -1px;\n  left: -11px;\n  border-left: 11px solid transparent;\n  border-right: 11px solid transparent;\n  border-top: 12px solid #ddd;\n}\n.frontend-shared-components-arrowContainer-module__bottomArrow--1rsMx::after {\n  top: -1px;\n  left: -10px;\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  border-top: 10px solid #fff;\n}\n.frontend-shared-components-arrowContainer-module__leftArrow--2lHDX::before {\n  top: -11px;\n  right: -1px;\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  border-right: 22px solid #ddd;\n}\n.frontend-shared-components-arrowContainer-module__leftArrow--2lHDX::after {\n  top: -10px;\n  right: -1px;\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n  border-right: 20px solid #fff;\n}\n',""]),n.locals={arrow:"frontend-shared-components-arrowContainer-module__arrow--2C4PY",topArrow:"frontend-shared-components-arrowContainer-module__topArrow--1lie1",rightArrow:"frontend-shared-components-arrowContainer-module__rightArrow--3Ynfa",bottomArrow:"frontend-shared-components-arrowContainer-module__bottomArrow--1rsMx",leftArrow:"frontend-shared-components-arrowContainer-module__leftArrow--2lHDX"}},400:function(e,n,t){"use strict";t.d(n,"a",(function(){return _}));var r=t(349),o=t.n(r),i=t(348),a=t.n(i),s=t(347),f=t.n(s),l=t(350),c=t(387),u=t(357),d=t(410),p=t.n(d);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function m(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,n){return!n||"object"!==h(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,n){return(b=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var _=function(e){function n(){return g(this,n),y(this,v(n).apply(this,arguments))}var t,r,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&b(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.context.theme,n=this.props,t=n.className,r=n.file,i=n.mode,a=(r.virusScanInfo||{}).virus_found,s=i===u.b,d=[s?p.a.mobileDownloadButton:p.a.desktopDownloadButton,t,s?e.enlargedMode_downloadButton_mobile:e.enlargedMode_downloadButton_desktop];return a?f.a.createElement(l.a,{className:o()(d),disabled:!0,title:"Download is not available for this file"},f.a.createElement("span",{className:o()(w({},p.a.hideContent,s))},f.a.createElement("strong",null,"Download"),"(",f.a.createElement(c.a,{className:p.a.fileSize,value:r.size}),")")):f.a.createElement("a",{className:o()(d),href:r.downloadUrl},f.a.createElement("span",{className:o()(w({},p.a.hideContent,s))},f.a.createElement("strong",null,"Download"),"(",f.a.createElement(c.a,{className:p.a.fileSize,value:r.size}),")"))}}])&&m(t.prototype,r),i&&m(t,i),n}(s.Component);w(_,"propTypes",{file:a.a.object.isRequired,className:a.a.string,mode:a.a.oneOf([u.b,u.a])}),w(_,"defaultProps",{className:void 0,mode:u.a}),w(_,"contextTypes",{theme:a.a.object})},402:function(e,n,t){"use strict";var r=t(349),o=t.n(r),i=t(348),a=t.n(i),s=t(347),f=t.n(s),l=t(350);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function d(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,n){return!n||"object"!==c(n)&&"function"!=typeof n?g(e):n}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,n){return(m=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var v=function(e){function n(){var e,t;u(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return y(g(t=p(this,(e=h(n)).call.apply(e,[this].concat(o)))),"state",{displayExpand:!1,expanded:!1}),y(g(t),"wrapperNode",null),y(g(t),"setWrapperNode",(function(e){return t.wrapperNode=e})),y(g(t),"contentNode",null),y(g(t),"setContentNode",(function(e){return t.contentNode=e})),y(g(t),"onToggle",(function(e){e.preventDefault(),t.setState({expanded:!t.state.expanded})})),t}var t,r,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&m(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){this.checkExpand()}},{key:"componentDidUpdate",value:function(){this.checkExpand()}},{key:"render",value:function(){var e=this.state.expanded?"fs-expanded":"fs-collapsed";return f.a.createElement("div",{className:o()("fs-expandable-container",e)},f.a.createElement("div",{ref:this.setWrapperNode,className:"fs-content-wrapper"},f.a.createElement("div",{ref:this.setContentNode,className:"fs-content"},this.props.children)),this.renderExpandButton())}},{key:"renderExpandButton",value:function(){var e=this.state,n=e.expanded;if(!e.displayExpand)return null;var t=n?"fs-collapse":"fs-expand",r=n?this.props.collapseText:this.props.expandText;return f.a.createElement("div",{className:"fs-toggle"},f.a.createElement(l.a,{className:o()(t),onClick:this.onToggle},r))}},{key:"canExpand",value:function(){return!(!this.contentNode||!this.wrapperNode)&&this.contentNode.offsetHeight>this.wrapperNode.offsetHeight}},{key:"checkExpand",value:function(){if(!this.state.expanded){var e=this.canExpand();this.state.displayExpand!==e&&this.setState({displayExpand:e})}}}])&&d(t.prototype,r),i&&d(t,i),n}(s.Component);y(v,"propTypes",{children:a.a.node.isRequired,collapseText:a.a.node,expandText:a.a.node}),y(v,"defaultProps",{collapseText:"Read less",expandText:"Read more"});var b=t(386),w=t(357),_=t(408),x=t.n(_);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function j(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,n){return!n||"object"!==O(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,n){return(M=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function C(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,"a",(function(){return E}));var E=function(e){function n(){return S(this,n),k(this,P(n).apply(this,arguments))}var t,r,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&M(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.context.theme,n=this.props,t=n.className,r=n.file,i=n.mode;if(!Object(b.b)(r))return null;var a=[x.a.fileDescription,C({},x.a.mobileDescription,i===w.b),t,e.fileDescription];return f.a.createElement("div",{className:o()(a)},f.a.createElement(v,{collapseText:"hide description",expandText:"show more"},f.a.createElement(b.a,{file:r})))}}])&&j(t.prototype,r),i&&j(t,i),n}(s.Component);C(E,"propTypes",{file:a.a.object.isRequired,className:a.a.string,mode:a.a.oneOf([w.b,w.a])}),C(E,"defaultProps",{className:void 0,mode:w.a}),C(E,"contextTypes",{theme:a.a.object})},404:function(e,n,t){var r=t(405);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},405:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,".frontend-filesViewer-components-fileDescription-module__descriptionContainer--39_ib {\n  line-height: 21px;\n}\n.frontend-filesViewer-components-fileDescription-module__title--F5THz {\n  margin-bottom: 7px;\n  font-weight: bold;\n}\n.frontend-filesViewer-components-fileDescription-module__description--2bZQj {\n  margin-bottom: 7px;\n}\n",""]),n.locals={descriptionContainer:"frontend-filesViewer-components-fileDescription-module__descriptionContainer--39_ib",title:"frontend-filesViewer-components-fileDescription-module__title--F5THz",description:"frontend-filesViewer-components-fileDescription-module__description--2bZQj"}},406:function(e,n,t){var r=t(407);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},407:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,".frontend-filesViewer-components-skipButton-index-module__fsButton--2nExy,\n.frontend-filesViewer-components-skipButton-index-module__button--1Vy0e {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 0 6px;\n  text-decoration: none;\n}\n.frontend-filesViewer-components-skipButton-index-module__fsButton--2nExy:focus,\n.frontend-filesViewer-components-skipButton-index-module__button--1Vy0e:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-components-skipButton-index-module__fsButton--2nExy::before,\n.frontend-filesViewer-components-skipButton-index-module__fsButton--2nExy::after,\n.frontend-filesViewer-components-skipButton-index-module__button--1Vy0e::before,\n.frontend-filesViewer-components-skipButton-index-module__button--1Vy0e::after {\n  display: inline;\n  font-size: 10px;\n}\n.frontend-filesViewer-components-skipButton-index-module__button--1Vy0e.frontend-filesViewer-components-skipButton-index-module__hidden--FIiDV {\n  position: absolute;\n  left: -10000px;\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n.frontend-filesViewer-components-skipButton-index-module__button--1Vy0e.frontend-filesViewer-components-skipButton-index-module__hidden--FIiDV:focus {\n  width: auto;\n  height: auto;\n}\n",""]),n.locals={fsButton:"frontend-filesViewer-components-skipButton-index-module__fsButton--2nExy",button:"frontend-filesViewer-components-skipButton-index-module__button--1Vy0e",hidden:"frontend-filesViewer-components-skipButton-index-module__hidden--FIiDV"}},408:function(e,n,t){var r=t(409);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},409:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-enlargedMode-fileDetails-description-module__fs-icon-base--1e5-a,\n.frontend-filesViewer-enlargedMode-fileDetails-description-module__fileDescription--2DFFP .fs-expand::before,\n.frontend-filesViewer-enlargedMode-fileDetails-description-module__fileDescription--2DFFP .fs-collapse::before {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-description-module__fileDescription--2DFFP {\n  color: #464646;\n  line-height: 21px;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-description-module__fileDescription--2DFFP .fs-collapsed .fs-content-wrapper {\n  max-height: 55px;\n  overflow: hidden;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-description-module__fileDescription--2DFFP .fs-toggle {\n  position: relative;\n  margin-top: -10px;\n  padding: 10px 0 0 0;\n  background: linear-gradient(to bottom, transparent 0px, #eee 10px);\n  text-align: center;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-description-module__fileDescription--2DFFP .fs-toggle button::before {\n  display: inline-block;\n  font-size: 10px;\n  transform: scale(0.5);\n  margin-right: 5px;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-description-module__fileDescription--2DFFP .fs-expanded {\n  height: 86px;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-description-module__fileDescription--2DFFP .fs-expanded .fs-toggle {\n  top: 55px;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-description-module__fileDescription--2DFFP .fs-expanded .fs-content-wrapper {\n  position: absolute;\n  left: 0;\n  bottom: 30px;\n  width: 100%;\n  max-height: 50%;\n  padding: 12px;\n  overflow-y: auto;\n  background: #eee;\n  border-top: 1px solid #ddd;\n  box-sizing: border-box;\n  box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);\n}\n.frontend-filesViewer-enlargedMode-fileDetails-description-module__fileDescription--2DFFP .fs-expand::before {\n  content: "\\F133";\n}\n.frontend-filesViewer-enlargedMode-fileDetails-description-module__fileDescription--2DFFP .fs-collapse::before {\n  content: "\\F11D";\n}\n.frontend-filesViewer-enlargedMode-fileDetails-description-module__mobileDescription--1arMv .fs-expanded .fs-content-wrapper {\n  max-height: 90%;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-enlargedMode-fileDetails-description-module__fs-icon-base--1e5-a",fileDescription:"frontend-filesViewer-enlargedMode-fileDetails-description-module__fileDescription--2DFFP",mobileDescription:"frontend-filesViewer-enlargedMode-fileDetails-description-module__mobileDescription--1arMv"}},410:function(e,n,t){var r=t(411);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},411:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__fs-icon-base--16kKv,\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__mobileDownloadButton--bn4di::after {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__fsButton--2GU_Y,\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__desktopDownloadButton--2EIQP {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 0 6px;\n  text-decoration: none;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__fsButton--2GU_Y:focus,\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__desktopDownloadButton--2EIQP:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__fsButton--2GU_Y::before,\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__fsButton--2GU_Y::after,\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__desktopDownloadButton--2EIQP::before,\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__desktopDownloadButton--2EIQP::after {\n  display: inline;\n  font-size: 10px;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__mobileDownloadButton--bn4di {\n  padding: 0;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__mobileDownloadButton--bn4di::after {\n  content: "\\F12D";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__desktopDownloadButton--2EIQP {\n  font-size: 11px;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__desktopDownloadButton--2EIQP strong {\n  margin-right: 6px;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__hideContent--pccfr {\n  display: none;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__fileSize--3y9Mq {\n  white-space: nowrap;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__fs-icon-base--16kKv",mobileDownloadButton:"frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__mobileDownloadButton--bn4di",fsButton:"frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__fsButton--2GU_Y",desktopDownloadButton:"frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__desktopDownloadButton--2EIQP",hideContent:"frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__hideContent--pccfr",fileSize:"frontend-filesViewer-enlargedMode-fileDetails-downloadButton-module__fileSize--3y9Mq"}},412:function(e,n,t){var r=t(413);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},413:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-enlargedMode-fileDetails-index-module__fs-icon-base--3MvhK {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-index-module__container--2NHBM {\n  width: 100%;\n  background: #f0f0f0;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-index-module__section--2TeaA {\n  padding: 10px;\n  border-top: 1px solid #ddd;\n  font-size: 11px;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-index-module__titleSection--20UlA {\n  margin-right: 10px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.frontend-filesViewer-enlargedMode-fileDetails-index-module__title--2AobL {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-enlargedMode-fileDetails-index-module__fs-icon-base--3MvhK",container:"frontend-filesViewer-enlargedMode-fileDetails-index-module__container--2NHBM",section:"frontend-filesViewer-enlargedMode-fileDetails-index-module__section--2TeaA",titleSection:"frontend-filesViewer-enlargedMode-fileDetails-index-module__titleSection--20UlA frontend-filesViewer-enlargedMode-fileDetails-index-module__section--2TeaA",title:"frontend-filesViewer-enlargedMode-fileDetails-index-module__title--2AobL"}},414:function(e,n,t){var r=t(415);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},415:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-enlargedMode-fileListing-file-module__fs-icon-base--1G7Fp,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-audio::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-archive::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-molecule::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-dataset::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-document::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-document_canvas::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-document_failsafe::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-txt::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-kml::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-viewer3d::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-jupyter::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-graph::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-fits::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-dicom::before {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileDisplay--2zoBH {\n  display: block;\n  position: relative;\n  height: 80px;\n  width: 100%;\n  font-size: 11px;\n  border-bottom: 1px solid rgba(70, 70, 70, 0.5);\n  text-align: left;\n  transition: background-color 0.2s ease-in;\n  transform: translate3d(0, 0, 0);\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileDisplay--2zoBH:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileDisplay--2zoBH:hover,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileDisplay--2zoBH:focus {\n  background-color: #333;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__selectedFile--3GKH9 {\n  background-color: #333;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileDetails--3CQSB {\n  position: absolute;\n  top: 0;\n  left: 83px;\n  right: 6px;\n  bottom: 0;\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileTitle--3UtnH {\n  color: #fff;\n  font-weight: bold;\n  display: block;\n  margin-bottom: 7px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  width: 100%;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileSize--3J3ay {\n  font-weight: bold;\n  color: #999;\n  white-space: nowrap;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileDisplay--2zoBH:hover .frontend-filesViewer-enlargedMode-fileListing-file-module__fileSize--3J3ay,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileDisplay--2zoBH:focus .frontend-filesViewer-enlargedMode-fileListing-file-module__fileSize--3J3ay,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__selectedFile--3GKH9 .frontend-filesViewer-enlargedMode-fileListing-file-module__fileSize--3J3ay {\n  color: #bbb;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 {\n  display: block;\n  position: absolute;\n  left: 6px;\n  top: 6px;\n  width: 68px;\n  height: 68px;\n  overflow: hidden;\n  background: #fff;\n  background-image: url(\'data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAQEBAQEBAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL/2wBDAQEBAQEBAQICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL/wAARCABFAEQDAREAAhEBAxEB/8QAHAAAAgMBAAMAAAAAAAAAAAAAAAcEBQYBAgMK/8QAPRAAAgIBAQQECQwBBQEAAAAAAQIDBAURAAYSIQcTIjEUFjVBUVVhdbQVFzNCRGOBkpSh0dPwCCMyUrFx/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APtdxeHx1PHYu7epR3MfdoUp7FmUFpsbZmrK8ksz97V3Ylix5wMdTrEf9kNcN28AdCMZU0PMdk8wfPyOwd8WsF6rq/lP87AeLWB9V1fyn+dgPFrA+q6v5T/OwHi1gfVdX8p/nYDxawPqyr+Vv52CHexG7tGIO+KgllkYQ1q0Kcc9qdhxJDCpPM8ixJ7KqC7lUBOwJ/fGk+NycMfYrtPRjtPWqErXrF7EsYhjbkX0CjV25s2pAVeFFB37vgHd/ChhqDiMeCDzBBqJqCD++wR+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYO7AbAbBDvXY6MSuweWWRuprVoQHntTsOJIYFPeeXEdeyqgu5VATsEWjRkEpyGQKyZCRSqqhLQ0IGPF4JVJ/AySaBpWAPZRURQUPSZ5eq+6YPi59gbm73kHCe6cd8ImwW5AIII1BBGh5gg94IP77Bn+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYO7BDvXY6MSuweWWRuprVoQHntTsOJIYFPeeXEdeyqgu5VATsEWjRkEpyGQKyZCRSqqhLQ0IGPF4JVJ/AySaBpWAPZRURQttgRfSZ5eq+6a/wAXPsDc3e8g4X3TjvhF2C3JCgliABzJJAAHnJJ2A7Lr5mVl9hDK38/vsFPVrWMbYWtWXr8VNr1a8aiTFvpxdWvWEccB+oo1aFiFAaIjqwsZLKA2Ioiti3XrpO1KOWFbPVzM612KSsvCJGikCM/CjGN+fYbYINKlIJTfyHDJkJFKqiktDQgY8XglTXv8xlfQNIwBIVVRECx6+ETCuZovCDG0wg6xBKYVcRtKseupUMQC2mgJA842AhmhswxWK8sc9exEk0E8LrLDNDKnHFLFKmqsrAgqwOhB1HLYEh0meXqvumD4ufYNVmsdm8t0f4XHYCxkKl6zY6P1s2sXeTG34MGu8mOk3mlrXXZeFhjha5KTI41SNHdwjAjM7uL0uXqeW3fV99LsNoZzEYDI+PlSPEY/diXfTOeFVN7UfIpfvWruAlxlehcMd2zWlFd55qNiG9JaC5NDfk70bt4PC0t/KPyHuN0RzmGXe+i2G3dtNvXlIt6H3yimyUxyzWMdTerpWbJtqEbigkNW7XDP09wenXi3dx3jNvRjS+5W7y38/Zz8mb8A3qk3fm8alzMk2fEbO2S6t4vBsDkq6R9XHTs04BNGweWc3d/1BZCx8qw/K9EZ6lishlcNjM3Qs2N3smbe8UlTDY5q+fwa9XjoJcMl4pfkqXLWswr5GEWIlDQvu307w37FaPL3rWPqi7UiyS53H1pssarHfvFZCGGXrFria7Mu67iSGQ+A1ZbE0M1V4iQw+P3N6aRlZ8laxW/SXxVy9DdPIDfHDVo8FbuLgrGPt74Vr29OasXcdHcgycs9RLl+OSEyLFjYWkqpWDbdE+6XS7u/n92q28jXqe7mI3T3bxUlWKxVs4UVKG4NLGvheCPPToLcGWSeZ54d34+tRSRmZa7ipsGv6TPL1X3TX+Ln2BubveQcJ7qx3wi7Bcf/AE/57Ngh3rsVGJXcPLJI4irV4QGmtTsuqQQp6SASTrwogLMVUFtg9VCvaXrLN6ZmtWNNa8cjmnTjX/hXgQ6aka9uUjjkP/VAsYCx/wA/n/P/ADu2CilkmxEzSTSS2MTM5Z5ZWMs2KkduItJI/NqxPnPOufuucYXikEcjyPMegj8P8/8ANg73enX0+fYEX0meX63uqD4ufYG5u95BwnunHfCJsEy9djoxK7B5ZZG6mtWhAee1Ow4khgU955cR17KqC7lUBOwRaNGQSnIZArJkJFKqqEtDQgY8XglUn8DJJoGlYA9lFRFC22A2DhAIII1BBGh5gg94IP77Bn+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYEZ0meXqvumv8XPsDQxl2Kju3g5HDySyYvHQ1q0QDT2p2pqyQwKfPyJOvYVQXcqoJ2CdRoyCU5DIFZMhKpVVQloKEDHi8Eqk9/mMkmgaVgD2UVEULbYDYDYDYOEAggjUEEaHmCD3gg/vsGf7WBbTm2Ec8jzZsOxP1ie+r7fs5+5+iBV9JZBztUggg4iuQR6PCp9Ng7it8JMcsHXUEu2K1WGhXmacxLXqwxrGI68IRuHj4Q0ral3bTVgqoqhd/OXN6oi/WP8A17AfOXN6oi/WP/XsB85c3qiL9Y/9ewHzlzeqIv1j/wBewHzlzeqIv1j/ANewHzlzeqIv1j/17AHpJlYEHDwkaHUG2xBB5EaGPYF3l7XynZWaJGqQRwiCCr1rTpXjEjS9VC+ikICx4VOvADwqeAKqh//Z\');\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 div,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 img {\n  width: 100%;\n  height: 100%;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-generic-preview {\n  background-image: url(\'data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQECAQEBAQEBAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL/2wBDAQEBAQEBAQICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL/wAARCABFAEQDAREAAhEBAxEB/8QAHAAAAgMBAAMAAAAAAAAAAAAAAAcEBQYBAgMK/8QAPRAAAgIBAQQECQwBBQEAAAAAAQIDBAURAAYSIQcTIjEUFjVBUVVhdbQVFzNCRGOBkpSh0dPwCCMyUrFx/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APtdxeHx1PHYu7epR3MfdoUp7FmUFpsbZmrK8ksz97V3Ylix5wMdTrEf9kNcN28AdCMZU0PMdk8wfPyOwd8WsF6rq/lP87AeLWB9V1fyn+dgPFrA+q6v5T/OwHi1gfVdX8p/nYDxawPqyr+Vv52CHexG7tGIO+KgllkYQ1q0Kcc9qdhxJDCpPM8ixJ7KqC7lUBOwJ/fGk+NycMfYrtPRjtPWqErXrF7EsYhjbkX0CjV25s2pAVeFFB37vgHd/ChhqDiMeCDzBBqJqCD++wR+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYO7AbAbBDvXY6MSuweWWRuprVoQHntTsOJIYFPeeXEdeyqgu5VATsEWjRkEpyGQKyZCRSqqhLQ0IGPF4JVJ/AySaBpWAPZRURQUPSZ5eq+6YPi59gbm73kHCe6cd8ImwW5AIII1BBGh5gg94IP77Bn+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYO7BDvXY6MSuweWWRuprVoQHntTsOJIYFPeeXEdeyqgu5VATsEWjRkEpyGQKyZCRSqqhLQ0IGPF4JVJ/AySaBpWAPZRURQttgRfSZ5eq+6a/wAXPsDc3e8g4X3TjvhF2C3JCgliABzJJAAHnJJ2A7Lr5mVl9hDK38/vsFPVrWMbYWtWXr8VNr1a8aiTFvpxdWvWEccB+oo1aFiFAaIjqwsZLKA2Ioiti3XrpO1KOWFbPVzM612KSsvCJGikCM/CjGN+fYbYINKlIJTfyHDJkJFKqiktDQgY8XglTXv8xlfQNIwBIVVRECx6+ETCuZovCDG0wg6xBKYVcRtKseupUMQC2mgJA842AhmhswxWK8sc9exEk0E8LrLDNDKnHFLFKmqsrAgqwOhB1HLYEh0meXqvumD4ufYNVmsdm8t0f4XHYCxkKl6zY6P1s2sXeTG34MGu8mOk3mlrXXZeFhjha5KTI41SNHdwjAjM7uL0uXqeW3fV99LsNoZzEYDI+PlSPEY/diXfTOeFVN7UfIpfvWruAlxlehcMd2zWlFd55qNiG9JaC5NDfk70bt4PC0t/KPyHuN0RzmGXe+i2G3dtNvXlIt6H3yimyUxyzWMdTerpWbJtqEbigkNW7XDP09wenXi3dx3jNvRjS+5W7y38/Zz8mb8A3qk3fm8alzMk2fEbO2S6t4vBsDkq6R9XHTs04BNGweWc3d/1BZCx8qw/K9EZ6lishlcNjM3Qs2N3smbe8UlTDY5q+fwa9XjoJcMl4pfkqXLWswr5GEWIlDQvu307w37FaPL3rWPqi7UiyS53H1pssarHfvFZCGGXrFria7Mu67iSGQ+A1ZbE0M1V4iQw+P3N6aRlZ8laxW/SXxVy9DdPIDfHDVo8FbuLgrGPt74Vr29OasXcdHcgycs9RLl+OSEyLFjYWkqpWDbdE+6XS7u/n92q28jXqe7mI3T3bxUlWKxVs4UVKG4NLGvheCPPToLcGWSeZ54d34+tRSRmZa7ipsGv6TPL1X3TX+Ln2BubveQcJ7qx3wi7Bcf/AE/57Ngh3rsVGJXcPLJI4irV4QGmtTsuqQQp6SASTrwogLMVUFtg9VCvaXrLN6ZmtWNNa8cjmnTjX/hXgQ6aka9uUjjkP/VAsYCx/wA/n/P/ADu2CilkmxEzSTSS2MTM5Z5ZWMs2KkduItJI/NqxPnPOufuucYXikEcjyPMegj8P8/8ANg73enX0+fYEX0meX63uqD4ufYG5u95BwnunHfCJsEy9djoxK7B5ZZG6mtWhAee1Ow4khgU955cR17KqC7lUBOwRaNGQSnIZArJkJFKqqEtDQgY8XglUn8DJJoGlYA9lFRFC22A2DhAIII1BBGh5gg94IP77Bn+1gW05thHPI82bDsT9Ynvq+37Ofufog0AIOh1GhGo9o9PLYEZ0meXqvumv8XPsDQxl2Kju3g5HDySyYvHQ1q0QDT2p2pqyQwKfPyJOvYVQXcqoJ2CdRoyCU5DIFZMhKpVVQloKEDHi8Eqk9/mMkmgaVgD2UVEULbYDYDYDYOEAggjUEEaHmCD3gg/vsGf7WBbTm2Ec8jzZsOxP1ie+r7fs5+5+iBV9JZBztUggg4iuQR6PCp9Ng7it8JMcsHXUEu2K1WGhXmacxLXqwxrGI68IRuHj4Q0ral3bTVgqoqhd/OXN6oi/WP8A17AfOXN6oi/WP/XsB85c3qiL9Y/9ewHzlzeqIv1j/wBewHzlzeqIv1j/ANewHzlzeqIv1j/17AHpJlYEHDwkaHUG2xBB5EaGPYF3l7XynZWaJGqQRwiCCr1rTpXjEjS9VC+ikICx4VOvADwqeAKqh//Z\');\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-audio {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-audio::before {\n  content: "\\F185";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-archive {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-archive::before {\n  content: "\\F193";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-molecule {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-molecule::before {\n  content: "\\F192";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-dataset {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-dataset::before {\n  content: "\\F188";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-document,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-document_canvas,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-document_failsafe {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-document::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-document_canvas::before,\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-document_failsafe::before {\n  content: "\\F15C";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-txt {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-txt::before {\n  content: "\\F187";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-kml {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-kml::before {\n  content: "\\F190";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-viewer3d {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-viewer3d::before {\n  content: "\\F182";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-jupyter {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-jupyter::before {\n  content: "\\F18E";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-graph {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-graph::before {\n  content: "\\F18C";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-fits {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-fits::before {\n  content: "\\F139";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-dicom {\n  text-align: center;\n  content: "";\n  background: #464646;\n  color: #f0f0f0;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 .fs-dicom::before {\n  content: "\\F139";\n  text-align: center;\n  font-size: 35px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 68px;\n}\n.frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1 img {\n  max-width: 100%;\n  max-height: 100%;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-enlargedMode-fileListing-file-module__fs-icon-base--1G7Fp",fileThumbnail:"frontend-filesViewer-enlargedMode-fileListing-file-module__fileThumbnail--uMVK1",fileDisplay:"frontend-filesViewer-enlargedMode-fileListing-file-module__fileDisplay--2zoBH",selectedFile:"frontend-filesViewer-enlargedMode-fileListing-file-module__selectedFile--3GKH9",fileDetails:"frontend-filesViewer-enlargedMode-fileListing-file-module__fileDetails--3CQSB",fileTitle:"frontend-filesViewer-enlargedMode-fileListing-file-module__fileTitle--3UtnH",fileSize:"frontend-filesViewer-enlargedMode-fileListing-file-module__fileSize--3J3ay"}},416:function(e,n,t){var r=t(417);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},417:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,".frontend-filesViewer-enlargedMode-fileListing-index-module__fileListing--23qnC {\n  color: #fff;\n  height: 100%;\n  overflow-y: auto;\n}\n",""]),n.locals={fileListing:"frontend-filesViewer-enlargedMode-fileListing-index-module__fileListing--23qnC"}},418:function(e,n,t){var r=t(419);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},419:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-enlargedMode-enlargedMode-module__fs-icon-base--jwRoF,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__closeOverlayButton--2D3Eo::after,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__toggleListButton--umIaZ::after,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-prev-page::before,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-next-page::before {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__fsButton--2LGRr,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__closeOverlayButton--2D3Eo,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__toggleListButton--umIaZ {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 0 6px;\n  text-decoration: none;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__fsButton--2LGRr:focus,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__closeOverlayButton--2D3Eo:focus,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__toggleListButton--umIaZ:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__fsButton--2LGRr::before,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__fsButton--2LGRr::after,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__closeOverlayButton--2D3Eo::before,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__closeOverlayButton--2D3Eo::after,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__toggleListButton--umIaZ::before,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__toggleListButton--umIaZ::after {\n  display: inline;\n  font-size: 10px;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__enlargedMode--HwYwS {\n  width: 100%;\n  height: 100%;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__mainHeading--21Cpq {\n  position: absolute;\n  left: -10000px;\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__fileViewerContainer--2L7vx {\n  margin-left: 300px;\n  margin-right: 50px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__fileViewerContainer--2L7vx .fs-figshare-viewer {\n  margin: 0 auto;\n  background: #fff;\n  overflow: hidden;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__mobileView--1GxnZ .frontend-filesViewer-enlargedMode-enlargedMode-module__fileViewerContainer--2L7vx {\n  position: fixed;\n  top: 44px;\n  margin: 0;\n  height: auto;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__viewerWrapper--2Q0kJ {\n  position: relative;\n  overflow-y: hidden;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__viewerWrapper--2Q0kJ .frontend-filesViewer-enlargedMode-enlargedMode-module__skipViewerButton--3g0gA:focus {\n  position: absolute;\n  top: 7px;\n  left: 7px;\n  right: auto;\n  z-index: 1;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__viewerContainer--1QX1Z {\n  border: 0 none transparent;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__viewerContainer--1QX1Z .click-outside-wrapper {\n  display: inline;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__filesList--2L3jN {\n  position: fixed;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  width: 250px;\n  overflow-y: auto;\n  background: #000;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__mobileView--1GxnZ .frontend-filesViewer-enlargedMode-enlargedMode-module__filesList--2L3jN {\n  z-index: 3;\n  width: 66%;\n  top: 44px;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__mobileView--1GxnZ .frontend-filesViewer-enlargedMode-enlargedMode-module__filesList--2L3jN::after {\n  position: fixed;\n  top: 0;\n  left: 66%;\n  right: 0;\n  bottom: 0;\n  content: " ";\n  background: rgba(0, 0, 0, 0.85);\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__menuBar--1W5Ti {\n  z-index: 2;\n  position: fixed;\n  right: 0;\n  top: 0;\n  left: 0;\n  padding: 0 20px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  transform: translate3d(0, 0, 0);\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__mobileView--1GxnZ .frontend-filesViewer-enlargedMode-enlargedMode-module__menuBar--1W5Ti {\n  height: 44px;\n  background: #000;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__desktopView--IUZFW .frontend-filesViewer-enlargedMode-enlargedMode-module__menuBar--1W5Ti {\n  left: 250px;\n  height: 75px;\n  justify-content: flex-end;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__closeOverlayButton--2D3Eo {\n  order: 2;\n  padding: 0;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__closeOverlayButton--2D3Eo::after {\n  content: "\\F124";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__toggleListButton--umIaZ {\n  order: 1;\n  padding: 0;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__toggleListButton--umIaZ::after {\n  content: "\\F151";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__desktopView--IUZFW .frontend-filesViewer-enlargedMode-enlargedMode-module__toggleListButton--umIaZ {\n  display: none;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 {\n  position: absolute;\n  top: 50%;\n  left: 250px;\n  right: 0;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-pagination-info {\n  display: none;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-prev-page,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-next-page {\n  color: #999;\n  position: absolute;\n  height: 42px;\n  font-size: 42px;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-prev-page:focus,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-next-page:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-prev-page:hover,\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-next-page:hover {\n  color: #fff;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-prev-page[disabled],\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-next-page[disabled] {\n  color: #666;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-prev-page {\n  left: 12px;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-prev-page::before {\n  content: "\\F108";\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-next-page {\n  right: 12px;\n}\n.frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933 .fs-next-page::before {\n  content: "\\F109";\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-enlargedMode-enlargedMode-module__fs-icon-base--jwRoF",closeOverlayButton:"frontend-filesViewer-enlargedMode-enlargedMode-module__closeOverlayButton--2D3Eo",toggleListButton:"frontend-filesViewer-enlargedMode-enlargedMode-module__toggleListButton--umIaZ",navigationContainer:"frontend-filesViewer-enlargedMode-enlargedMode-module__navigationContainer--3l933",fsButton:"frontend-filesViewer-enlargedMode-enlargedMode-module__fsButton--2LGRr",enlargedMode:"frontend-filesViewer-enlargedMode-enlargedMode-module__enlargedMode--HwYwS",mainHeading:"frontend-filesViewer-enlargedMode-enlargedMode-module__mainHeading--21Cpq",fileViewerContainer:"frontend-filesViewer-enlargedMode-enlargedMode-module__fileViewerContainer--2L7vx",mobileView:"frontend-filesViewer-enlargedMode-enlargedMode-module__mobileView--1GxnZ",viewerWrapper:"frontend-filesViewer-enlargedMode-enlargedMode-module__viewerWrapper--2Q0kJ",skipViewerButton:"frontend-filesViewer-enlargedMode-enlargedMode-module__skipViewerButton--3g0gA",viewerContainer:"frontend-filesViewer-enlargedMode-enlargedMode-module__viewerContainer--1QX1Z",filesList:"frontend-filesViewer-enlargedMode-enlargedMode-module__filesList--2L3jN",menuBar:"frontend-filesViewer-enlargedMode-enlargedMode-module__menuBar--1W5Ti",desktopView:"frontend-filesViewer-enlargedMode-enlargedMode-module__desktopView--IUZFW"}},420:function(e,n,t){"use strict";var r=t(349),o=t.n(r),i=t(348),a=t.n(i),s=t(347),f=t.n(s),l=t(385),c=t(350),u=t(366),d=t(367),p=t(376),h=t(380),g=t(378),m=t(389),y=t(386),v=t(355),b=t(357),w=t(359),_=t(402),x=t(400),O=t(412),S=t.n(O);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function P(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,n){return!n||"object"!==j(n)&&"function"!=typeof n?E(e):n}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,n){return(A=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function V(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var B=function(e){function n(){var e,t;k(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return V(E(t=M(this,(e=C(n)).call.apply(e,[this].concat(o)))),"renderFileDescription",(function(){var e=t.props,n=e.showFileDetails,r=e.file,o=e.mode;return n?f.a.createElement(_.a,{className:S.a.section,file:r,mode:o}):null})),t}var t,r,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&A(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.file,t=e.mode,r=e.className,i="";return i=e.preferFileMetadata&&n.title?f.a.createElement("div",{dangerouslySetInnerHTML:{__html:n.title},className:S.a.title}):f.a.createElement("div",{className:S.a.title},n.name),f.a.createElement("div",{className:o()(S.a.container,r)},f.a.createElement("div",{className:S.a.titleSection},i,f.a.createElement(x.a,{file:n,mode:t})),this.renderFileDescription())}}])&&P(t.prototype,r),i&&P(t,i),n}(s.Component);V(B,"propTypes",{file:a.a.object.isRequired,preferFileMetadata:a.a.bool.isRequired,showFileDetails:a.a.bool.isRequired,className:a.a.string,mode:a.a.oneOf([b.b,b.a])}),V(B,"defaultProps",{className:void 0,mode:b.a});var T=Object(v.c)((function(e){var n=w.d.optionsState(e);return{preferFileMetadata:n.preferFileMetadata,showFileDetails:n.showFileDetails}}))(B),D=t(379),I=t(387),N=t(414),R=t.n(N);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(){return(F=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function z(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function H(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function q(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,n){return!n||"object"!==L(n)&&"function"!=typeof n?K(e):n}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e,n){return(W=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Q(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var X=function(e){function n(){var e,t;H(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Q(K(t=G(this,(e=U(n)).call.apply(e,[this].concat(o)))),"fileNode",null),Q(K(t),"setFileNode",(function(e){return t.fileNode=e})),Q(K(t),"onSelect",(function(){return t.props.onSelect(t.props.file)})),t}var t,r,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&W(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){var e=this;this.props.selected&&this.fileNode&&setTimeout((function(){e.fileNode.parentNode.scrollTop=e.fileNode.offsetTop||0}),0)}},{key:"render",value:function(){var e=this.props,n=e.file,t=e.selected,r=e.preferFileMetadata,i=z(e,["file","selected","preferFileMetadata"]),a=[R.a.fileDisplay,Q({},R.a.selectedFile,t)],s="";return s=r&&n.title?f.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.title},className:R.a.fileTitle}):f.a.createElement("span",{className:R.a.fileTitle},n.name),f.a.createElement(c.a,F({},i,{"aria-selected":t,className:o()(a),forwardedRef:this.setFileNode,onClick:this.onSelect}),f.a.createElement("div",{className:R.a.fileThumbnail},Object(d.b)(n)),f.a.createElement("div",{className:R.a.fileDetails},s,f.a.createElement(I.a,{className:R.a.fileSize,value:n.size})))}}])&&q(t.prototype,r),i&&q(t,i),n}(s.Component);Q(X,"propTypes",{file:a.a.object.isRequired,preferFileMetadata:a.a.bool.isRequired,selected:a.a.bool.isRequired,onSelect:a.a.func.isRequired});var Y=t(416),Z=t.n(Y);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ee(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,n){return!n||"object"!==J(n)&&"function"!=typeof n?re(e):n}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,n){return(oe=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ie(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ae=function(e){function n(){var e,t;$(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ie(re(t=ne(this,(e=te(n)).call.apply(e,[this].concat(o)))),"state",{focused:void 0}),ie(re(t),"keyMap",{}),ie(re(t),"renderFile",(function(e,n){var r=t.props,o=r.current,i=r.fileCount,a=r.preferFileMetadata,s=e.UID===t.state.focused?0:-1,l=e===o;return f.a.createElement(X,{key:e.UID,"aria-controls":"enlarge_viewer_".concat(e.UID),"aria-posinset":n+1,"aria-setsize":i,file:e,id:"enlarge_list_file_".concat(e.UID),preferFileMetadata:a,role:"tab",selected:l,tabIndex:s,onSelect:t.onSelect})})),ie(re(t),"listNode",null),ie(re(t),"setListNode",(function(e){return t.listNode=e})),ie(re(t),"onKeyDown",(function(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)){var n=t.listNode.querySelector('[role="tab"][tabindex="0"]');if(n&&(t.keyMap[e.key]=!0,!(Object.keys(t.keyMap).length>1))){var r=null;"ArrowDown"===e.key&&(r=n.nextSibling),"ArrowUp"===e.key&&(r=n.previousSibling),"Home"===e.key&&(r=t.listNode.firstChild),"End"===e.key&&(r=t.listNode.lastChild),r&&r.focus&&(t.setState({focused:r.id.replace("enlarge_list_file_","")}),e.preventDefault(),r.focus())}}})),ie(re(t),"onKeyUp",(function(e){delete t.keyMap[e.key]})),ie(re(t),"onFocus",(function(){return t.keyMap={}})),ie(re(t),"onSelect",(function(e){return t.props.onSelect(e)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&oe(e,n)}(n,e),t=n,o=[{key:"getDerivedStateFromProps",value:function(e,n){return{focused:n.focused||e.current.UID}}}],(r=[{key:"render",value:function(){var e=this.props,n=e.files,t=e.onLoadMore,r=e.isLoading;return f.a.createElement(D.a,{"aria-busy":r,"aria-label":"List of files. Use arrow keys to move through the list.","aria-orientation":"vertical",className:Z.a.fileListing,role:"tablist",tabIndex:-1,wrapperRef:this.setListNode,onBottomReached:t,onFocus:this.onFocus,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp},n.map(this.renderFile))}}])&&ee(t.prototype,r),o&&ee(t,o),n}(s.Component);ie(ae,"propTypes",{current:a.a.object.isRequired,fileCount:a.a.number.isRequired,files:a.a.array.isRequired,isLoading:a.a.bool.isRequired,preferFileMetadata:a.a.bool.isRequired,onLoadMore:a.a.func.isRequired,onSelect:a.a.func.isRequired});var se=Object(v.c)((function(e){return{isLoading:w.d.loadingState(e).loading,fileCount:w.d.currentEntities(e).fileCount,preferFileMetadata:w.d.optionsState(e).preferFileMetadata}}),{onLoadMore:w.a.loadMore})(ae),fe=t(418),le=t.n(fe);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function de(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,n){return!n||"object"!==ce(n)&&"function"!=typeof n?ge(e):n}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e,n){return(me=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ye(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ve=function(e){function n(){var e,t;ue(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ye(ge(t=pe(this,(e=he(n)).call.apply(e,[this].concat(o)))),"onShowFileList",(function(){return t.setState({showFiles:!0})})),ye(ge(t),"onHideFileList",(function(){"mobile"===t.computeMode()&&t.setState({showFiles:!1})})),ye(ge(t),"onChangeFile",(function(e){var n=t.props,r=n.currentFileIndex,o=n.files,i=n.onChange,a=o.indexOf(e);-1!==a&&a!==r&&(i(a),t.onHideFileList())})),t.state={showFiles:!1,fileModel:new p.a(t.props.currentFile)},t.fileDetailsRef=Object(s.createRef)(),t}var t,r,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&me(e,n)}(n,e),t=n,(r=[{key:"componentDidUpdate",value:function(e){this.props.currentFile.UID!==e.currentFile.UID&&this.setState({fileModel:new p.a(this.props.currentFile)})}},{key:"render",value:function(){var e=this.props,n=e.boxHeight,t=e.boxWidth,r=e.currentFile,i=e.onClose,a=e.DetailsComponent;if(!n||!t)return null;var s=this.context.theme,l=this.computeMode(),u=this.computeViewerBox(),p=u.height,g=u.width,y="desktop"===l?le.a.desktopView:le.a.mobileView;return f.a.createElement(h.a,{"aria-modal":!0,className:o()(le.a.enlargedMode,y),role:"dialog",tabIndex:-1},f.a.createElement("h1",{className:le.a.mainHeading,tabIndex:0},"Expand mode"),this.renderFilesList(),f.a.createElement("article",{"aria-labelledby":"enlarge_list_file_".concat(r.UID),className:le.a.fileViewerContainer,id:"enlarge_viewer_".concat(r.UID),role:"tabpanel"},f.a.createElement("div",{className:le.a.viewerWrapper},f.a.createElement(m.a,{className:le.a.skipViewerButton,focusRef:this.fileDetailsRef},"Skip viewer"),f.a.createElement("div",{className:le.a.viewerContainer,style:{width:g,height:p}},f.a.createElement(d.a,{file:this.state.fileModel,height:p,mode:l,showControls:!0,trackFileViews:!0,width:g})),f.a.createElement("div",{ref:this.fileDetailsRef,style:{width:g}},f.a.createElement(a,{key:r.UID,file:r,mode:l})))),this.renderNav(),f.a.createElement("div",{className:le.a.menuBar},f.a.createElement(c.a,{"aria-label":"Menu",className:o()("fs-simple-button",le.a.toggleListButton,s.enlargedMode_toggleListButton),onClick:this.onShowFileList}),f.a.createElement(c.a,{"aria-keyshortcuts":"Escape","aria-label":"Close",className:o()("fs-simple-button",le.a.closeOverlayButton,s.enlargedMode_closeOverlayButton),onClick:i})))}},{key:"renderFilesList",value:function(){if("mobile"===this.computeMode()&&!this.state.showFiles)return null;var e=this.props,n=e.files,t=e.currentFile;return f.a.createElement("div",{className:le.a.filesList},f.a.createElement(u.a,{onClickOutside:this.onHideFileList},f.a.createElement(se,{current:t,files:n,onSelect:this.onChangeFile})))}},{key:"renderNav",value:function(){if("mobile"===this.computeMode())return null;var e=this.props,n=e.currentFileIndex,t=e.files,r=e.onChange;return f.a.createElement(g.a,{className:le.a.navigationContainer,currentPage:n,keysEnabled:!1,totalPages:t.length,onGotoPage:r})}},{key:"computeMode",value:function(){return this.props.boxWidth<=750?"mobile":"desktop"}},{key:"computeViewerBox",value:function(){var e=this.props,n=e.boxHeight,t=e.boxWidth,r=e.currentFile,o=0,i=0;return"desktop"===this.computeMode()?(o=t-350,i=Math.min(.75*o,n-200)):(o=t-0,i=n-88),Object(y.b)(r)&&(i-=101),{height:i,width:o}}}])&&de(t.prototype,r),i&&de(t,i),n}(s.Component);ye(ve,"propTypes",{boxHeight:a.a.number.isRequired,boxWidth:a.a.number.isRequired,currentFile:a.a.object.isRequired,currentFileIndex:a.a.number.isRequired,files:a.a.array.isRequired,onChange:a.a.func.isRequired,onClose:a.a.func.isRequired,DetailsComponent:a.a.elementType}),ye(ve,"defaultProps",{DetailsComponent:T}),ye(ve,"contextTypes",{theme:a.a.object});n.a=Object(l.a)(ve)},425:function(e,n){},428:function(e,n,t){var r=t(429);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},429:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-inlineMode-footer-figshareButton-module__fs-icon-base--tXPYP,\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO::after {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO {\n  height: 32px;\n  color: #556471;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO .figshare-logo {\n  width: 32px;\n  height: 32px;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO .figshare-logo .style0 {\n  fill: #58585a;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO .figshare-logo .style1 {\n  fill: #d1d2d4;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO .figshare-logo .style2 {\n  fill: #818286;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO .figshare-logo .style3 {\n  fill: #a8a9ad;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO::after {\n  content: "\\F143";\n  font-size: 10px;\n  line-height: 32px;\n  color: transparent;\n  margin-left: 3px;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO:focus::after,\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO:hover::after {\n  color: #556471;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO:focus .figshare-logo .style0,\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO:hover .figshare-logo .style0 {\n  fill: #566471;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO:focus .figshare-logo .style1,\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO:hover .figshare-logo .style1 {\n  fill: #A2CD3C;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO:focus .figshare-logo .style2,\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO:hover .figshare-logo .style2 {\n  fill: #C54C59;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO:focus .figshare-logo .style3,\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO:hover .figshare-logo .style3 {\n  fill: #5BC4BD;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareText--2GJi5 {\n  font-size: 13px;\n  margin-left: 7px;\n  line-height: 32px;\n}\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__mobileMode--3jxeL::after,\n.frontend-filesViewer-inlineMode-footer-figshareButton-module__mobileMode--3jxeL .frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareText--2GJi5 {\n  display: none;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-inlineMode-footer-figshareButton-module__fs-icon-base--tXPYP",figshareButton:"frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareButton--1f7GO",figshareText:"frontend-filesViewer-inlineMode-footer-figshareButton-module__figshareText--2GJi5",mobileMode:"frontend-filesViewer-inlineMode-footer-figshareButton-module__mobileMode--3jxeL"}},430:function(e,n,t){var r=t(431);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},431:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-inlineMode-fileMenu-trigger-module__fs-icon-base--nRTLE,\n.frontend-filesViewer-inlineMode-fileMenu-trigger-module__listButton--2Fhej::after {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-inlineMode-fileMenu-trigger-module__fsButton--2Qk1C,\n.frontend-filesViewer-inlineMode-fileMenu-trigger-module__listButton--2Fhej {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 0 6px;\n  text-decoration: none;\n}\n.frontend-filesViewer-inlineMode-fileMenu-trigger-module__fsButton--2Qk1C:focus,\n.frontend-filesViewer-inlineMode-fileMenu-trigger-module__listButton--2Fhej:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-inlineMode-fileMenu-trigger-module__fsButton--2Qk1C::before,\n.frontend-filesViewer-inlineMode-fileMenu-trigger-module__fsButton--2Qk1C::after,\n.frontend-filesViewer-inlineMode-fileMenu-trigger-module__listButton--2Fhej::before,\n.frontend-filesViewer-inlineMode-fileMenu-trigger-module__listButton--2Fhej::after {\n  display: inline;\n  font-size: 10px;\n}\n.frontend-filesViewer-inlineMode-fileMenu-trigger-module__listButton--2Fhej {\n  padding: 0;\n  margin-left: 7px;\n}\n.frontend-filesViewer-inlineMode-fileMenu-trigger-module__listButton--2Fhej::after {\n  content: "\\F150";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-inlineMode-fileMenu-trigger-module__fs-icon-base--nRTLE",listButton:"frontend-filesViewer-inlineMode-fileMenu-trigger-module__listButton--2Fhej",fsButton:"frontend-filesViewer-inlineMode-fileMenu-trigger-module__fsButton--2Qk1C"}},432:function(e,n,t){var r=t(433);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},433:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__fs-icon-base--WmM4G,\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__mobileMode--3-oVL.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__viewButton--25pgS::before,\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__mobileMode--3-oVL.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__downloadButton--2UH2X::before {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__fileDetails--27Kb2 {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  align-items: center;\n  border-bottom: 1px solid #ddd;\n}\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__fileDetails--27Kb2:hover {\n  background-color: #f5f5f5;\n}\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__fileDetails--27Kb2:last-child {\n  border-bottom: 0px none transparent;\n}\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__fileName--T0Aog,\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__viewButton--25pgS,\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__downloadButton--2UH2X {\n  padding: 14px 7px;\n  margin: 0 7px;\n  line-height: 16px;\n  font-size: 13px;\n}\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__fileName--T0Aog:focus,\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__viewButton--25pgS:focus,\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__downloadButton--2UH2X:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n  outline: none;\n}\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__fileName--T0Aog {\n  display: flex;\n  flex-direction: row;\n  flex-grow: 1;\n  text-align: left;\n  width: 50%;\n}\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__fileBase--3nUwf {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__fileExt--2sJnk {\n  white-space: nowrap;\n}\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__viewButton--25pgS {\n  margin-right: 0;\n  text-decoration: none;\n}\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__viewButton--25pgS[disabled] {\n  visibility: hidden;\n}\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__mobileMode--3-oVL.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__viewButton--25pgS::before {\n  content: "\\F19B";\n  margin: 0 7px;\n  font-size: 9px;\n  vertical-align: middle;\n}\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__downloadButton--2UH2X {\n  margin-left: 0;\n  text-decoration: none;\n}\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__mobileMode--3-oVL.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__downloadButton--2UH2X::before {\n  content: "\\F12D";\n  margin: 0 7px;\n  font-size: 10px;\n  vertical-align: middle;\n}\n.frontend-filesViewer-inlineMode-fileMenu-fileItem-module__mobileMode--3-oVL .frontend-filesViewer-inlineMode-fileMenu-fileItem-module__buttonText--2Bc9I {\n  display: none;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-inlineMode-fileMenu-fileItem-module__fs-icon-base--WmM4G",mobileMode:"frontend-filesViewer-inlineMode-fileMenu-fileItem-module__mobileMode--3-oVL",viewButton:"frontend-filesViewer-inlineMode-fileMenu-fileItem-module__viewButton--25pgS",downloadButton:"frontend-filesViewer-inlineMode-fileMenu-fileItem-module__downloadButton--2UH2X",fileDetails:"frontend-filesViewer-inlineMode-fileMenu-fileItem-module__fileDetails--27Kb2",fileName:"frontend-filesViewer-inlineMode-fileMenu-fileItem-module__fileName--T0Aog",fileBase:"frontend-filesViewer-inlineMode-fileMenu-fileItem-module__fileBase--3nUwf",fileExt:"frontend-filesViewer-inlineMode-fileMenu-fileItem-module__fileExt--2sJnk",buttonText:"frontend-filesViewer-inlineMode-fileMenu-fileItem-module__buttonText--2Bc9I"}},434:function(e,n,t){var r=t(435);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},435:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,".frontend-filesViewer-inlineMode-fileMenu-menu-module__arrowContainer--1fQ7S {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  background: rgba(255, 255, 255, 0.75);\n}\n.frontend-filesViewer-inlineMode-fileMenu-menu-module__listContainer--2NqY_ {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  max-height: 80%;\n  background: #fff;\n  border: 1px solid #ddd;\n  box-sizing: border-box;\n  box-shadow: 0 -4px 8px rgba(221, 221, 221, 0.88);\n  z-index: 0;\n  overflow: auto;\n}\n",""]),n.locals={arrowContainer:"frontend-filesViewer-inlineMode-fileMenu-menu-module__arrowContainer--1fQ7S",listContainer:"frontend-filesViewer-inlineMode-fileMenu-menu-module__listContainer--2NqY_"}},436:function(e,n,t){var r=t(437);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},437:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-inlineMode-footer-fileControls-module__fs-icon-base--2vhWt,\n.frontend-filesViewer-inlineMode-footer-fileControls-module__prevButton--1skHY::after,\n.frontend-filesViewer-inlineMode-footer-fileControls-module__nextButton--242SJ::after {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-inlineMode-footer-fileControls-module__fsButton--D5FCG,\n.frontend-filesViewer-inlineMode-footer-fileControls-module__prevButton--1skHY,\n.frontend-filesViewer-inlineMode-footer-fileControls-module__nextButton--242SJ {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 0 6px;\n  text-decoration: none;\n}\n.frontend-filesViewer-inlineMode-footer-fileControls-module__fsButton--D5FCG:focus,\n.frontend-filesViewer-inlineMode-footer-fileControls-module__prevButton--1skHY:focus,\n.frontend-filesViewer-inlineMode-footer-fileControls-module__nextButton--242SJ:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-inlineMode-footer-fileControls-module__fsButton--D5FCG::before,\n.frontend-filesViewer-inlineMode-footer-fileControls-module__fsButton--D5FCG::after,\n.frontend-filesViewer-inlineMode-footer-fileControls-module__prevButton--1skHY::before,\n.frontend-filesViewer-inlineMode-footer-fileControls-module__prevButton--1skHY::after,\n.frontend-filesViewer-inlineMode-footer-fileControls-module__nextButton--242SJ::before,\n.frontend-filesViewer-inlineMode-footer-fileControls-module__nextButton--242SJ::after {\n  display: inline;\n  font-size: 10px;\n}\n.frontend-filesViewer-inlineMode-footer-fileControls-module__container--ItopG {\n  display: flex;\n  align-items: center;\n}\n.frontend-filesViewer-inlineMode-footer-fileControls-module__info--3KO_Y {\n  font-size: 13px;\n  font-weight: bold;\n  color: #464646;\n  margin-right: 14px;\n}\n.frontend-filesViewer-inlineMode-footer-fileControls-module__mobileMode--3ia4K .frontend-filesViewer-inlineMode-footer-fileControls-module__info--3KO_Y {\n  display: none;\n}\n.frontend-filesViewer-inlineMode-footer-fileControls-module__prevButton--1skHY {\n  padding: 0;\n  margin-right: 3px;\n}\n.frontend-filesViewer-inlineMode-footer-fileControls-module__prevButton--1skHY::after {\n  content: "\\F178";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\n.frontend-filesViewer-inlineMode-footer-fileControls-module__nextButton--242SJ {\n  padding: 0;\n}\n.frontend-filesViewer-inlineMode-footer-fileControls-module__nextButton--242SJ::after {\n  content: "\\F17A";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-inlineMode-footer-fileControls-module__fs-icon-base--2vhWt",prevButton:"frontend-filesViewer-inlineMode-footer-fileControls-module__prevButton--1skHY",nextButton:"frontend-filesViewer-inlineMode-footer-fileControls-module__nextButton--242SJ",fsButton:"frontend-filesViewer-inlineMode-footer-fileControls-module__fsButton--D5FCG",container:"frontend-filesViewer-inlineMode-footer-fileControls-module__container--ItopG",info:"frontend-filesViewer-inlineMode-footer-fileControls-module__info--3KO_Y",mobileMode:"frontend-filesViewer-inlineMode-footer-fileControls-module__mobileMode--3ia4K"}},438:function(e,n,t){var r=t(439);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},439:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__fs-icon-base--34Pnm,\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__downloadButton--3TkzP::before,\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__mobileMode--3wF47::after {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__fsButton--BrPJH,\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__downloadButton--3TkzP {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 0 6px;\n  text-decoration: none;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__fsButton--BrPJH:focus,\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__downloadButton--3TkzP:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__fsButton--BrPJH::before,\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__fsButton--BrPJH::after,\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__downloadButton--3TkzP::before,\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__downloadButton--3TkzP::after {\n  display: inline;\n  font-size: 10px;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__downloadButton--3TkzP {\n  margin-left: 7px;\n  display: flex;\n  white-space: nowrap;\n  align-items: center;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__downloadButton--3TkzP::before {\n  content: "\\F12C";\n  margin-right: 6px;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__mobileMode--3wF47 {\n  padding: 0;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__mobileMode--3wF47::after {\n  content: "\\F12C";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__mobileMode--3wF47::before {\n  display: none;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__buttonText--1UnnM {\n  display: inherit;\n  font-size: 13px;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-trigger-module__mobileMode--3wF47 .frontend-filesViewer-inlineMode-downloadMenu-trigger-module__buttonText--1UnnM {\n  display: none;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-inlineMode-downloadMenu-trigger-module__fs-icon-base--34Pnm",downloadButton:"frontend-filesViewer-inlineMode-downloadMenu-trigger-module__downloadButton--3TkzP",mobileMode:"frontend-filesViewer-inlineMode-downloadMenu-trigger-module__mobileMode--3wF47",fsButton:"frontend-filesViewer-inlineMode-downloadMenu-trigger-module__fsButton--BrPJH",buttonText:"frontend-filesViewer-inlineMode-downloadMenu-trigger-module__buttonText--1UnnM"}},440:function(e,n,t){var r=t(441);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},441:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,".frontend-filesViewer-inlineMode-downloadMenu-menu-module__wrapper--2j56J {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  background: rgba(255, 255, 255, 0.75);\n}\n.frontend-filesViewer-inlineMode-downloadMenu-menu-module__container--1vxBU {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  max-height: 80%;\n  background: #fff;\n  border: 1px solid #ddd;\n  box-sizing: border-box;\n  box-shadow: 0 -4px 8px rgba(221, 221, 221, 0.88);\n  display: flex;\n  flex-direction: column;\n  z-index: 0;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-menu-module__downloadItem--3JQJb {\n  padding: 14px;\n  border-bottom: 1px solid #ddd;\n  font-size: 13px;\n  font-weight: bold;\n  text-align: left;\n  text-decoration: none;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-menu-module__downloadItem--3JQJb:last-child {\n  border: 0;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-menu-module__downloadItem--3JQJb:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n  outline: none;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-menu-module__downloadItem--3JQJb[disabled] {\n  color: #444;\n  font-weight: normal;\n}\n.frontend-filesViewer-inlineMode-downloadMenu-menu-module__downloadItem--3JQJb[disabled]:hover {\n  color: #444;\n}\n",""]),n.locals={wrapper:"frontend-filesViewer-inlineMode-downloadMenu-menu-module__wrapper--2j56J",container:"frontend-filesViewer-inlineMode-downloadMenu-menu-module__container--1vxBU",downloadItem:"frontend-filesViewer-inlineMode-downloadMenu-menu-module__downloadItem--3JQJb"}},442:function(e,n,t){var r=t(443);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},443:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-inlineMode-footer-genericControls-module__fs-icon-base--sji6Y,\n.frontend-filesViewer-inlineMode-footer-genericControls-module__enlargeButton--lktrT::after,\n.frontend-filesViewer-inlineMode-footer-genericControls-module__shareButton--ekcgt::before,\n.frontend-filesViewer-inlineMode-footer-genericControls-module__mobileMode--1KUju .frontend-filesViewer-inlineMode-footer-genericControls-module__shareButton--ekcgt::after {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-inlineMode-footer-genericControls-module__fsButton--3b1Gl,\n.frontend-filesViewer-inlineMode-footer-genericControls-module__enlargeButton--lktrT,\n.frontend-filesViewer-inlineMode-footer-genericControls-module__shareButton--ekcgt {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 0 6px;\n  text-decoration: none;\n}\n.frontend-filesViewer-inlineMode-footer-genericControls-module__fsButton--3b1Gl:focus,\n.frontend-filesViewer-inlineMode-footer-genericControls-module__enlargeButton--lktrT:focus,\n.frontend-filesViewer-inlineMode-footer-genericControls-module__shareButton--ekcgt:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-inlineMode-footer-genericControls-module__fsButton--3b1Gl::before,\n.frontend-filesViewer-inlineMode-footer-genericControls-module__fsButton--3b1Gl::after,\n.frontend-filesViewer-inlineMode-footer-genericControls-module__enlargeButton--lktrT::before,\n.frontend-filesViewer-inlineMode-footer-genericControls-module__enlargeButton--lktrT::after,\n.frontend-filesViewer-inlineMode-footer-genericControls-module__shareButton--ekcgt::before,\n.frontend-filesViewer-inlineMode-footer-genericControls-module__shareButton--ekcgt::after {\n  display: inline;\n  font-size: 10px;\n}\n.frontend-filesViewer-inlineMode-footer-genericControls-module__container--1fsfv {\n  display: flex;\n  align-items: center;\n}\n.frontend-filesViewer-inlineMode-footer-genericControls-module__enlargeButton--lktrT {\n  padding: 0;\n}\n.frontend-filesViewer-inlineMode-footer-genericControls-module__enlargeButton--lktrT::after {\n  content: "\\F13E";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\n.frontend-filesViewer-inlineMode-footer-genericControls-module__shareButton--ekcgt {\n  margin-left: 7px;\n  display: flex;\n  white-space: nowrap;\n  align-items: center;\n}\n.frontend-filesViewer-inlineMode-footer-genericControls-module__shareButton--ekcgt::before {\n  content: "\\F174";\n  margin-right: 6px;\n}\n.frontend-filesViewer-inlineMode-footer-genericControls-module__mobileMode--1KUju .frontend-filesViewer-inlineMode-footer-genericControls-module__shareButton--ekcgt {\n  padding: 0;\n}\n.frontend-filesViewer-inlineMode-footer-genericControls-module__mobileMode--1KUju .frontend-filesViewer-inlineMode-footer-genericControls-module__shareButton--ekcgt::after {\n  content: "\\F174";\n  display: inline-block;\n  width: 24px;\n  line-height: 24px;\n  text-align: center;\n}\n.frontend-filesViewer-inlineMode-footer-genericControls-module__mobileMode--1KUju .frontend-filesViewer-inlineMode-footer-genericControls-module__shareButton--ekcgt::before {\n  display: none;\n}\n.frontend-filesViewer-inlineMode-footer-genericControls-module__hide--P7AZ4 {\n  display: none;\n}\n.frontend-filesViewer-inlineMode-footer-genericControls-module__buttonText--21pbx {\n  display: inherit;\n  font-size: 13px;\n}\n.frontend-filesViewer-inlineMode-footer-genericControls-module__mobileMode--1KUju .frontend-filesViewer-inlineMode-footer-genericControls-module__buttonText--21pbx {\n  display: none;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-inlineMode-footer-genericControls-module__fs-icon-base--sji6Y",enlargeButton:"frontend-filesViewer-inlineMode-footer-genericControls-module__enlargeButton--lktrT",shareButton:"frontend-filesViewer-inlineMode-footer-genericControls-module__shareButton--ekcgt",mobileMode:"frontend-filesViewer-inlineMode-footer-genericControls-module__mobileMode--1KUju",fsButton:"frontend-filesViewer-inlineMode-footer-genericControls-module__fsButton--3b1Gl",container:"frontend-filesViewer-inlineMode-footer-genericControls-module__container--1fsfv",hide:"frontend-filesViewer-inlineMode-footer-genericControls-module__hide--P7AZ4",buttonText:"frontend-filesViewer-inlineMode-footer-genericControls-module__buttonText--21pbx"}},444:function(e,n,t){var r=t(445);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},445:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,".frontend-filesViewer-inlineMode-footer-index-module__footer--_OvUB {\n  padding: 14px;\n  box-sizing: border-box;\n  background: #f5f5f5;\n  border-top: 1px solid #ddd;\n}\n.frontend-filesViewer-inlineMode-footer-index-module__navigation--1jslS {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n}\n.frontend-filesViewer-inlineMode-footer-index-module__figshareButton--1wlfc {\n  order: 0;\n}\n.frontend-filesViewer-inlineMode-footer-index-module__fileControls--2gN91 {\n  order: 1;\n}\n.frontend-filesViewer-inlineMode-footer-index-module__genericControls--tsO5B {\n  order: 2;\n}\n",""]),n.locals={footer:"frontend-filesViewer-inlineMode-footer-index-module__footer--_OvUB",navigation:"frontend-filesViewer-inlineMode-footer-index-module__navigation--1jslS",figshareButton:"frontend-filesViewer-inlineMode-footer-index-module__figshareButton--1wlfc",fileControls:"frontend-filesViewer-inlineMode-footer-index-module__fileControls--2gN91",genericControls:"frontend-filesViewer-inlineMode-footer-index-module__genericControls--tsO5B"}},446:function(e,n,t){var r=t(447);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},447:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,".frontend-filesViewer-inlineMode-header-module__header--2YifA {\n  display: flex;\n  max-width: 100%;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  border-bottom: 1px solid #ddd;\n  overflow: hidden;\n  background: #f5f5f5;\n}\n.frontend-filesViewer-inlineMode-header-module__titleSection--2HWcT {\n  flex-grow: 1;\n  width: 50%;\n  padding: 14px;\n}\n.frontend-filesViewer-inlineMode-header-module__title--1f7M9 {\n  margin: 0;\n  font-size: 18px;\n  line-height: 25px;\n  font-weight: bold;\n  color: #464646;\n}\n.frontend-filesViewer-inlineMode-header-module__fileInfoSection--3URpC {\n  font-size: 13px;\n  line-height: 18px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  color: #464646;\n}\n.frontend-filesViewer-inlineMode-header-module__fileName--BScrb {\n  white-space: nowrap;\n  color: #111;\n}\n.frontend-filesViewer-inlineMode-header-module__statsContainer--uYgdr {\n  display: flex;\n  flex-direction: row;\n}\n.frontend-filesViewer-inlineMode-header-module__statsSection--2RmTe {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: 0 14px;\n  border-left: 1px solid #ddd;\n}\n.frontend-filesViewer-inlineMode-header-module__statsCount--21-Gk,\n.frontend-filesViewer-inlineMode-header-module__statsType--3gtTB {\n  width: 100%;\n  text-align: center;\n}\n.frontend-filesViewer-inlineMode-header-module__statsCount--21-Gk {\n  font-size: 14px;\n}\n.frontend-filesViewer-inlineMode-header-module__statsType--3gtTB {\n  font-size: 11px;\n}\n.frontend-filesViewer-inlineMode-header-module__mobileMode--3a2hI {\n  flex-direction: column;\n}\n.frontend-filesViewer-inlineMode-header-module__mobileMode--3a2hI .frontend-filesViewer-inlineMode-header-module__titleSection--2HWcT {\n  width: auto;\n  padding: 7px 14px;\n}\n.frontend-filesViewer-inlineMode-header-module__mobileMode--3a2hI .frontend-filesViewer-inlineMode-header-module__statsContainer--uYgdr {\n  border-top: 1px solid #ddd;\n}\n.frontend-filesViewer-inlineMode-header-module__mobileMode--3a2hI .frontend-filesViewer-inlineMode-header-module__statsSection--2RmTe {\n  width: 100%;\n  flex-direction: row;\n  align-items: baseline;\n  padding: 12px 7px 7px 7px;\n}\n.frontend-filesViewer-inlineMode-header-module__mobileMode--3a2hI .frontend-filesViewer-inlineMode-header-module__statsSection--2RmTe:first-child {\n  border-left: 0 none transparent;\n}\n.frontend-filesViewer-inlineMode-header-module__mobileMode--3a2hI .frontend-filesViewer-inlineMode-header-module__statsCount--21-Gk,\n.frontend-filesViewer-inlineMode-header-module__mobileMode--3a2hI .frontend-filesViewer-inlineMode-header-module__statsType--3gtTB {\n  width: auto;\n}\n.frontend-filesViewer-inlineMode-header-module__mobileMode--3a2hI .frontend-filesViewer-inlineMode-header-module__statsType--3gtTB {\n  margin-left: 5px;\n}\n",""]),n.locals={header:"frontend-filesViewer-inlineMode-header-module__header--2YifA",titleSection:"frontend-filesViewer-inlineMode-header-module__titleSection--2HWcT",title:"frontend-filesViewer-inlineMode-header-module__title--1f7M9",fileInfoSection:"frontend-filesViewer-inlineMode-header-module__fileInfoSection--3URpC",fileName:"frontend-filesViewer-inlineMode-header-module__fileName--BScrb",statsContainer:"frontend-filesViewer-inlineMode-header-module__statsContainer--uYgdr",statsSection:"frontend-filesViewer-inlineMode-header-module__statsSection--2RmTe",statsCount:"frontend-filesViewer-inlineMode-header-module__statsCount--21-Gk",statsType:"frontend-filesViewer-inlineMode-header-module__statsType--3gtTB",mobileMode:"frontend-filesViewer-inlineMode-header-module__mobileMode--3a2hI"}},448:function(e,n,t){var r=t(449);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},449:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,".frontend-filesViewer-inlineMode-enlargeScreen-module__overlayContainer--1Lf3f {\n  width: 100%;\n  height: 100%;\n}\n.frontend-filesViewer-inlineMode-enlargeScreen-module__overlayContainer--1Lf3f .fs-overlay-content {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n}\n.frontend-filesViewer-inlineMode-enlargeScreen-module__overlayContainer--1Lf3f .fs-overlay-content > div > div:first-child {\n  width: 100%;\n  height: 100%;\n}\n.frontend-filesViewer-inlineMode-enlargeScreen-module__overlayContainer--1Lf3f .fs-overlay-content .fs-viewer-container {\n  border: 0 none transparent;\n}\n",""]),n.locals={overlayContainer:"frontend-filesViewer-inlineMode-enlargeScreen-module__overlayContainer--1Lf3f"}},450:function(e,n,t){var r=t(451);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},451:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-shared-components-searchInput-module__fs-icon-base--u9PA9,\n.frontend-shared-components-searchInput-module__searchIcon--2Qejs::after,\n.frontend-shared-components-searchInput-module__clearSearch--3XxuD::after {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-shared-components-searchInput-module__container--p9P9- {\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n.frontend-shared-components-searchInput-module__searchInput--Fdont {\n  width: inherit;\n  height: inherit;\n  box-sizing: border-box;\n  font-size: 14px;\n  line-height: 1;\n  padding-left: 7px;\n  padding-right: 31px;\n  -webkit-appearance: textfield;\n}\n.frontend-shared-components-searchInput-module__searchInput--Fdont:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-shared-components-searchInput-module__searchInput--Fdont::-webkit-search-decoration,\n.frontend-shared-components-searchInput-module__searchInput--Fdont::-webkit-search-cancel-button,\n.frontend-shared-components-searchInput-module__searchInput--Fdont::-webkit-search-results-button,\n.frontend-shared-components-searchInput-module__searchInput--Fdont::-webkit-search-results-decoration {\n  display: none;\n}\n.frontend-shared-components-searchInput-module__searchInput--Fdont::-ms-clear {\n  display: none;\n}\n.frontend-shared-components-searchInput-module__icon--1HtZ7 {\n  position: absolute;\n  right: 7px;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.frontend-shared-components-searchInput-module__icon--1HtZ7::after {\n  font-size: 14px;\n  color: #bbb;\n}\n.frontend-shared-components-searchInput-module__searchIcon--2Qejs {\n}\n.frontend-shared-components-searchInput-module__searchIcon--2Qejs::after {\n  content: "\\F170";\n}\n.frontend-shared-components-searchInput-module__clearSearch--3XxuD {\n}\n.frontend-shared-components-searchInput-module__clearSearch--3XxuD:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-shared-components-searchInput-module__clearSearch--3XxuD::after {\n  content: "\\F112";\n}\n',""]),n.locals={"fs-icon-base":"frontend-shared-components-searchInput-module__fs-icon-base--u9PA9",searchIcon:"frontend-shared-components-searchInput-module__searchIcon--2Qejs frontend-shared-components-searchInput-module__icon--1HtZ7",clearSearch:"frontend-shared-components-searchInput-module__clearSearch--3XxuD frontend-shared-components-searchInput-module__icon--1HtZ7",container:"frontend-shared-components-searchInput-module__container--p9P9-",searchInput:"frontend-shared-components-searchInput-module__searchInput--Fdont",icon:"frontend-shared-components-searchInput-module__icon--1HtZ7"}},452:function(e,n,t){var r=t(453);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},453:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,".frontend-filesViewer-components-citationSelector-citationItem-module__option--1FwwC {\n  box-sizing: border-box;\n  font-size: 14px;\n  line-height: 21px;\n  padding: 7px 14px 7px 0;\n  margin-left: 14px;\n  border-top: 1px solid #ddd;\n  width: calc(100% - 14px);\n  text-align: left;\n}\n.frontend-filesViewer-components-citationSelector-citationItem-module__option--1FwwC:first-of-type {\n  border-top: 0 none transparent;\n}\n.frontend-filesViewer-components-citationSelector-citationItem-module__option--1FwwC:last-of-type {\n  border-bottom: 1px solid #ddd;\n}\n.frontend-filesViewer-components-citationSelector-citationItem-module__option--1FwwC:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-components-citationSelector-citationItem-module__option--1FwwC:focus,\n.frontend-filesViewer-components-citationSelector-citationItem-module__option--1FwwC:hover {\n  margin-left: 0;\n  padding-left: 14px;\n  width: 100%;\n  background: #f8f8f8;\n}\n.frontend-filesViewer-components-citationSelector-citationItem-module__option--1FwwC:focus + .frontend-filesViewer-components-citationSelector-citationItem-module__option--1FwwC,\n.frontend-filesViewer-components-citationSelector-citationItem-module__option--1FwwC:hover + .frontend-filesViewer-components-citationSelector-citationItem-module__option--1FwwC {\n  margin-left: 0;\n  padding-left: 14px;\n  width: 100%;\n}\n.frontend-filesViewer-components-citationSelector-citationItem-module__selected--2QXDA {\n  font-weight: bold;\n}\n.frontend-filesViewer-components-citationSelector-citationItem-module__defaultFlag--2qUEW {\n  font-weight: normal;\n  color: #999;\n}\n",""]),n.locals={option:"frontend-filesViewer-components-citationSelector-citationItem-module__option--1FwwC",selected:"frontend-filesViewer-components-citationSelector-citationItem-module__selected--2QXDA",defaultFlag:"frontend-filesViewer-components-citationSelector-citationItem-module__defaultFlag--2qUEW"}},454:function(e,n,t){var r=t(455);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},455:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,".frontend-filesViewer-components-citationSelector-loadingInfo-module__container--2pMic {\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #464646;\n  height: 84px;\n}\n.frontend-filesViewer-components-citationSelector-loadingInfo-module__container--2pMic.frontend-filesViewer-components-citationSelector-loadingInfo-module__resultsInfo--2rvpD {\n  height: 63px;\n}\n.frontend-filesViewer-components-citationSelector-loadingInfo-module__loading--6e7VG::before {\n  width: 16px;\n  height: 16px;\n  background-image: url('data:image/gif;charset=utf-8;base64,R0lGODlhEAAQAPQAAP///wAAAPDw8IqKiuDg4EZGRnp6egAAAFhYWCQkJKysrL6+vhQUFJycnAQEBDY2NmhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkKAAAAIf4aQ3JlYXRlZCB3aXRoIGFqYXhsb2FkLmluZm8AIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAAQAAAFdyAgAgIJIeWoAkRCCMdBkKtIHIngyMKsErPBYbADpkSCwhDmQCBethRB6Vj4kFCkQPG4IlWDgrNRIwnO4UKBXDufzQvDMaoSDBgFb886MiQadgNABAokfCwzBA8LCg0Egl8jAggGAA1kBIA1BAYzlyILczULC2UhACH5BAkKAAAALAAAAAAQABAAAAV2ICACAmlAZTmOREEIyUEQjLKKxPHADhEvqxlgcGgkGI1DYSVAIAWMx+lwSKkICJ0QsHi9RgKBwnVTiRQQgwF4I4UFDQQEwi6/3YSGWRRmjhEETAJfIgMFCnAKM0KDV4EEEAQLiF18TAYNXDaSe3x6mjidN1s3IQAh+QQJCgAAACwAAAAAEAAQAAAFeCAgAgLZDGU5jgRECEUiCI+yioSDwDJyLKsXoHFQxBSHAoAAFBhqtMJg8DgQBgfrEsJAEAg4YhZIEiwgKtHiMBgtpg3wbUZXGO7kOb1MUKRFMysCChAoggJCIg0GC2aNe4gqQldfL4l/Ag1AXySJgn5LcoE3QXI3IQAh+QQJCgAAACwAAAAAEAAQAAAFdiAgAgLZNGU5joQhCEjxIssqEo8bC9BRjy9Ag7GILQ4QEoE0gBAEBcOpcBA0DoxSK/e8LRIHn+i1cK0IyKdg0VAoljYIg+GgnRrwVS/8IAkICyosBIQpBAMoKy9dImxPhS+GKkFrkX+TigtLlIyKXUF+NjagNiEAIfkECQoAAAAsAAAAABAAEAAABWwgIAICaRhlOY4EIgjH8R7LKhKHGwsMvb4AAy3WODBIBBKCsYA9TjuhDNDKEVSERezQEL0WrhXucRUQGuik7bFlngzqVW9LMl9XWvLdjFaJtDFqZ1cEZUB0dUgvL3dgP4WJZn4jkomWNpSTIyEAIfkECQoAAAAsAAAAABAAEAAABX4gIAICuSxlOY6CIgiD8RrEKgqGOwxwUrMlAoSwIzAGpJpgoSDAGifDY5kopBYDlEpAQBwevxfBtRIUGi8xwWkDNBCIwmC9Vq0aiQQDQuK+VgQPDXV9hCJjBwcFYU5pLwwHXQcMKSmNLQcIAExlbH8JBwttaX0ABAcNbWVbKyEAIfkECQoAAAAsAAAAABAAEAAABXkgIAICSRBlOY7CIghN8zbEKsKoIjdFzZaEgUBHKChMJtRwcWpAWoWnifm6ESAMhO8lQK0EEAV3rFopIBCEcGwDKAqPh4HUrY4ICHH1dSoTFgcHUiZjBhAJB2AHDykpKAwHAwdzf19KkASIPl9cDgcnDkdtNwiMJCshACH5BAkKAAAALAAAAAAQABAAAAV3ICACAkkQZTmOAiosiyAoxCq+KPxCNVsSMRgBsiClWrLTSWFoIQZHl6pleBh6suxKMIhlvzbAwkBWfFWrBQTxNLq2RG2yhSUkDs2b63AYDAoJXAcFRwADeAkJDX0AQCsEfAQMDAIPBz0rCgcxky0JRWE1AmwpKyEAIfkECQoAAAAsAAAAABAAEAAABXkgIAICKZzkqJ4nQZxLqZKv4NqNLKK2/Q4Ek4lFXChsg5ypJjs1II3gEDUSRInEGYAw6B6zM4JhrDAtEosVkLUtHA7RHaHAGJQEjsODcEg0FBAFVgkQJQ1pAwcDDw8KcFtSInwJAowCCA6RIwqZAgkPNgVpWndjdyohACH5BAkKAAAALAAAAAAQABAAAAV5ICACAimc5KieLEuUKvm2xAKLqDCfC2GaO9eL0LABWTiBYmA06W6kHgvCqEJiAIJiu3gcvgUsscHUERm+kaCxyxa+zRPk0SgJEgfIvbAdIAQLCAYlCj4DBw0IBQsMCjIqBAcPAooCBg9pKgsJLwUFOhCZKyQDA3YqIQAh+QQJCgAAACwAAAAAEAAQAAAFdSAgAgIpnOSonmxbqiThCrJKEHFbo8JxDDOZYFFb+A41E4H4OhkOipXwBElYITDAckFEOBgMQ3arkMkUBdxIUGZpEb7kaQBRlASPg0FQQHAbEEMGDSVEAA1QBhAED1E0NgwFAooCDWljaQIQCE5qMHcNhCkjIQAh+QQJCgAAACwAAAAAEAAQAAAFeSAgAgIpnOSoLgxxvqgKLEcCC65KEAByKK8cSpA4DAiHQ/DkKhGKh4ZCtCyZGo6F6iYYPAqFgYy02xkSaLEMV34tELyRYNEsCQyHlvWkGCzsPgMCEAY7Cg04Uk48LAsDhRA8MVQPEF0GAgqYYwSRlycNcWskCkApIyEAOw==');\n  margin-right: 7px;\n  content: \"\";\n}\n",""]),n.locals={container:"frontend-filesViewer-components-citationSelector-loadingInfo-module__container--2pMic",resultsInfo:"frontend-filesViewer-components-citationSelector-loadingInfo-module__resultsInfo--2rvpD",loading:"frontend-filesViewer-components-citationSelector-loadingInfo-module__loading--6e7VG"}},456:function(e,n,t){var r=t(457);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},457:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-components-citationSelector-searchScreen-module__fs-icon-base--3YZU-,\n.frontend-filesViewer-components-citationSelector-searchScreen-module__backButton--1ugDm::before,\n.frontend-filesViewer-components-citationSelector-searchScreen-module__searchButton--1X0uv::before {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__fsButton--3KweV,\n.frontend-filesViewer-components-citationSelector-searchScreen-module__backButton--1ugDm {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 0 6px;\n  text-decoration: none;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__fsButton--3KweV:focus,\n.frontend-filesViewer-components-citationSelector-searchScreen-module__backButton--1ugDm:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__fsButton--3KweV::before,\n.frontend-filesViewer-components-citationSelector-searchScreen-module__fsButton--3KweV::after,\n.frontend-filesViewer-components-citationSelector-searchScreen-module__backButton--1ugDm::before,\n.frontend-filesViewer-components-citationSelector-searchScreen-module__backButton--1ugDm::after {\n  display: inline;\n  font-size: 10px;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__container--3Ee_4 {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  background: #fff;\n  border: 1px solid #ddd;\n  border-bottom: 0px none transparent;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__footer--1sEK0 {\n  width: 100%;\n  height: 35px;\n  box-sizing: border-box;\n  padding: 0 14px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #ddd;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__outsideArea--2mm72 {\n  height: calc(100% - 35px);\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__innerArea--1MK9Y {\n  max-height: calc(100% - 49px);\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__activeScroll--pqurC {\n  overflow: auto;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__searchInput--16I0R {\n  height: 49px;\n  width: 100%;\n  box-sizing: border-box;\n  border-bottom: 1px solid #ddd;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__searchInput--16I0R input {\n  padding-left: 14px;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__searchInput--16I0R input:focus {\n  box-shadow: inset 0 0 1px 1px #ffa500;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__backButton--1ugDm {\n  border: none;\n  margin-left: -6px;\n  font-size: 14px;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__backButton--1ugDm::before {\n  content: "\\F108";\n  margin-right: 6px;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__searchButton--1X0uv {\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 3px;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__searchButton--1X0uv::before {\n  content: "\\F170";\n  font-size: 14px;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__searchButton--1X0uv:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-components-citationSelector-searchScreen-module__searchButton--1X0uv[disabled] {\n  display: none;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-components-citationSelector-searchScreen-module__fs-icon-base--3YZU-",backButton:"frontend-filesViewer-components-citationSelector-searchScreen-module__backButton--1ugDm",searchButton:"frontend-filesViewer-components-citationSelector-searchScreen-module__searchButton--1X0uv",fsButton:"frontend-filesViewer-components-citationSelector-searchScreen-module__fsButton--3KweV",container:"frontend-filesViewer-components-citationSelector-searchScreen-module__container--3Ee_4",footer:"frontend-filesViewer-components-citationSelector-searchScreen-module__footer--1sEK0",outsideArea:"frontend-filesViewer-components-citationSelector-searchScreen-module__outsideArea--2mm72",innerArea:"frontend-filesViewer-components-citationSelector-searchScreen-module__innerArea--1MK9Y",activeScroll:"frontend-filesViewer-components-citationSelector-searchScreen-module__activeScroll--pqurC",searchInput:"frontend-filesViewer-components-citationSelector-searchScreen-module__searchInput--16I0R"}},458:function(e,n,t){var r=t(459);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},459:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-components-citationSelector-app-module__fs-icon-base--2D_M_,\n.frontend-filesViewer-components-citationSelector-app-module__trigger--3Xjfr::after {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-components-citationSelector-app-module__container--dj2pE {\n  width: 70%;\n  height: 24px;\n  display: flex;\n  justify-content: flex-end;\n  position: inherit;\n  z-index: 1;\n}\n.frontend-filesViewer-components-citationSelector-app-module__trigger--3Xjfr {\n  border: none;\n  max-width: 100%;\n  display: flex;\n  align-items: center;\n  height: 24px;\n}\n.frontend-filesViewer-components-citationSelector-app-module__trigger--3Xjfr:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-components-citationSelector-app-module__trigger--3Xjfr::after {\n  content: "\\F109";\n  font-size: 11px;\n  width: 12px;\n  text-align: right;\n}\n.frontend-filesViewer-components-citationSelector-app-module__buttonText--2kibx {\n  font-size: 14px;\n  margin-right: 0;\n  color: #464646;\n  flex: 0 1 auto;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-components-citationSelector-app-module__fs-icon-base--2D_M_",trigger:"frontend-filesViewer-components-citationSelector-app-module__trigger--3Xjfr",container:"frontend-filesViewer-components-citationSelector-app-module__container--dj2pE",buttonText:"frontend-filesViewer-components-citationSelector-app-module__buttonText--2kibx"}},460:function(e,n,t){var r=t(461);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},461:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,".frontend-filesViewer-components-citationContent-module__container--1O4Oj {\n  display: flex;\n  flex-direction: column;\n  background: #fff;\n  font-size: 14px;\n}\n.frontend-filesViewer-components-citationContent-module__citationText--1Oq_o {\n  line-height: 21px;\n  word-wrap: break-word;\n}\n.frontend-filesViewer-components-citationContent-module__citationDoi--3BAya {\n  text-decoration: none;\n  line-height: 21px;\n  font-weight: bold;\n  max-width: 100%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  box-sizing: border-box;\n  border-top: 1px solid #ddd;\n  border-bottom: 1px solid #ddd;\n  margin-top: 14px;\n  margin-right: auto;\n  padding: 7px 0;\n}\n",""]),n.locals={container:"frontend-filesViewer-components-citationContent-module__container--1O4Oj",citationText:"frontend-filesViewer-components-citationContent-module__citationText--1Oq_o",citationDoi:"frontend-filesViewer-components-citationContent-module__citationDoi--3BAya"}},462:function(e,n,t){var r=t(463);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},463:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-components-citationScreen-app-module__fs-icon-base--3_fBT,\n.frontend-filesViewer-components-citationScreen-app-module__backButton--tXqsk::before {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-components-citationScreen-app-module__fsButton--1GY7D,\n.frontend-filesViewer-components-citationScreen-app-module__backButton--tXqsk {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 0 6px;\n  text-decoration: none;\n}\n.frontend-filesViewer-components-citationScreen-app-module__fsButton--1GY7D:focus,\n.frontend-filesViewer-components-citationScreen-app-module__backButton--tXqsk:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-components-citationScreen-app-module__fsButton--1GY7D::before,\n.frontend-filesViewer-components-citationScreen-app-module__fsButton--1GY7D::after,\n.frontend-filesViewer-components-citationScreen-app-module__backButton--tXqsk::before,\n.frontend-filesViewer-components-citationScreen-app-module__backButton--tXqsk::after {\n  display: inline;\n  font-size: 10px;\n}\n.frontend-filesViewer-components-citationScreen-app-module__container--3Ox7j {\n  font-size: 14px;\n  padding: 28px 21px 21px 21px;\n  background: #fff;\n  width: 100%;\n  max-height: 100%;\n  border: 1px solid #ddd;\n  box-sizing: border-box;\n  box-shadow: 0 -4px 8px rgba(221, 221, 221, 0.88);\n  overflow: hidden;\n}\n.frontend-filesViewer-components-citationScreen-app-module__container--3Ox7j.frontend-filesViewer-components-citationScreen-app-module__selectorOpen--2o35I {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  height: 90%;\n}\n.frontend-filesViewer-components-citationScreen-app-module__title--2kNR3 {\n  font-size: 18px;\n  font-weight: normal;\n  line-height: 28px;\n  margin-bottom: 14px;\n}\n.frontend-filesViewer-components-citationScreen-app-module__citationContent--2iy3N {\n  padding: 0;\n}\n.frontend-filesViewer-components-citationScreen-app-module__footer--3Zt5U {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 42px;\n}\n.frontend-filesViewer-components-citationScreen-app-module__backButton--tXqsk {\n  border: none;\n  margin-left: -6px;\n  font-size: 14px;\n}\n.frontend-filesViewer-components-citationScreen-app-module__backButton--tXqsk::before {\n  content: "\\F108";\n  margin-right: 6px;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-components-citationScreen-app-module__fs-icon-base--3_fBT",backButton:"frontend-filesViewer-components-citationScreen-app-module__backButton--tXqsk",fsButton:"frontend-filesViewer-components-citationScreen-app-module__fsButton--1GY7D",container:"frontend-filesViewer-components-citationScreen-app-module__container--3Ox7j",selectorOpen:"frontend-filesViewer-components-citationScreen-app-module__selectorOpen--2o35I",title:"frontend-filesViewer-components-citationScreen-app-module__title--2kNR3",citationContent:"frontend-filesViewer-components-citationScreen-app-module__citationContent--2iy3N",footer:"frontend-filesViewer-components-citationScreen-app-module__footer--3Zt5U"}},464:function(e,n,t){var r=t(465);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},465:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-inlineMode-shareScreen-shareList-module__fs-icon-base--2fqjz,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__citeButton--1uMKi::before {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__fsButton--2uCfd,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__facebookButton--3_pPK,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__twitterButton--2afik,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__citeButton--1uMKi {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 0 6px;\n  text-decoration: none;\n}\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__fsButton--2uCfd:focus,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__facebookButton--3_pPK:focus,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__twitterButton--2afik:focus,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__citeButton--1uMKi:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__fsButton--2uCfd::before,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__fsButton--2uCfd::after,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__facebookButton--3_pPK::before,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__facebookButton--3_pPK::after,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__twitterButton--2afik::before,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__twitterButton--2afik::after,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__citeButton--1uMKi::before,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__citeButton--1uMKi::after {\n  display: inline;\n  font-size: 10px;\n}\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__container--3SX77 {\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  margin: 0 auto;\n  width: 100%;\n  margin: 0;\n}\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__item--2ZHoA {\n  display: flex;\n  align-items: center;\n  height: 63px;\n  box-sizing: border-box;\n  border-bottom: 1px solid #ddd;\n  justify-content: center;\n}\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__item--2ZHoA:last-child {\n  border-bottom: 0px none transparent;\n}\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__facebookButton--3_pPK {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  color: #fff;\n  background: #3b5998;\n}\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__facebookButton--3_pPK:focus,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__facebookButton--3_pPK:hover {\n  background: #2d4373;\n}\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__twitterButton--2afik {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  color: #fff;\n  background: #00aced;\n}\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__twitterButton--2afik:focus,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__twitterButton--2afik:hover {\n  background: #0087ba;\n}\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__fbIcon--163SM,\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__twIcon--2CgI_ {\n  margin-right: 3px;\n  fill: #fff;\n  height: 16px;\n}\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__citeButton--1uMKi::before {\n  content: "\\F116";\n  margin-right: 6px;\n}\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__citeButton--1uMKi::before {\n  font-size: 20px;\n  line-height: 13px;\n  position: relative;\n  top: 1px;\n}\n.frontend-filesViewer-inlineMode-shareScreen-shareList-module__buttonText--3rSg8 {\n  font-size: 13px;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-inlineMode-shareScreen-shareList-module__fs-icon-base--2fqjz",citeButton:"frontend-filesViewer-inlineMode-shareScreen-shareList-module__citeButton--1uMKi",fsButton:"frontend-filesViewer-inlineMode-shareScreen-shareList-module__fsButton--2uCfd",facebookButton:"frontend-filesViewer-inlineMode-shareScreen-shareList-module__facebookButton--3_pPK",twitterButton:"frontend-filesViewer-inlineMode-shareScreen-shareList-module__twitterButton--2afik",container:"frontend-filesViewer-inlineMode-shareScreen-shareList-module__container--3SX77",item:"frontend-filesViewer-inlineMode-shareScreen-shareList-module__item--2ZHoA",fbIcon:"frontend-filesViewer-inlineMode-shareScreen-shareList-module__fbIcon--163SM",twIcon:"frontend-filesViewer-inlineMode-shareScreen-shareList-module__twIcon--2CgI_",buttonText:"frontend-filesViewer-inlineMode-shareScreen-shareList-module__buttonText--3rSg8"}},466:function(e,n,t){var r=t(467);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},467:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-inlineMode-shareScreen-index-module__fs-icon-base--1puua {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-inlineMode-shareScreen-index-module__fsButton--3bNVY {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 0 6px;\n  text-decoration: none;\n}\n.frontend-filesViewer-inlineMode-shareScreen-index-module__fsButton--3bNVY:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-inlineMode-shareScreen-index-module__fsButton--3bNVY::before,\n.frontend-filesViewer-inlineMode-shareScreen-index-module__fsButton--3bNVY::after {\n  display: inline;\n  font-size: 10px;\n}\n.frontend-filesViewer-inlineMode-shareScreen-index-module__shareTitle--18lIO {\n  width: 100%;\n  padding: 28px 14px 14px 14px;\n  font-weight: normal;\n  font-size: 18px;\n  line-height: 28px;\n  text-align: center;\n  box-sizing: border-box;\n}\n.frontend-filesViewer-inlineMode-shareScreen-index-module__arrowContainer--SKdrI {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  background: rgba(255, 255, 255, 0.75);\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n}\n.frontend-filesViewer-inlineMode-shareScreen-index-module__arrowShareContainer--3TfcT {\n  width: 100%;\n  max-height: 80%;\n  background: #fff;\n  border: 1px solid #ddd;\n  box-sizing: border-box;\n  box-shadow: 0 -4px 8px rgba(221, 221, 221, 0.88);\n  z-index: 0;\n  overflow: auto;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-inlineMode-shareScreen-index-module__fs-icon-base--1puua",fsButton:"frontend-filesViewer-inlineMode-shareScreen-index-module__fsButton--3bNVY",shareTitle:"frontend-filesViewer-inlineMode-shareScreen-index-module__shareTitle--18lIO",arrowContainer:"frontend-filesViewer-inlineMode-shareScreen-index-module__arrowContainer--SKdrI",arrowShareContainer:"frontend-filesViewer-inlineMode-shareScreen-index-module__arrowShareContainer--3TfcT"}},468:function(e,n,t){var r=t(469);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},469:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,'.frontend-filesViewer-inlineMode-mainSection-module__fs-icon-base--aSesi,\n.frontend-filesViewer-inlineMode-mainSection-module__expandButtonContent--3tZPV::before {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.frontend-filesViewer-inlineMode-mainSection-module__fsButton--3_ExL,\n.frontend-filesViewer-inlineMode-mainSection-module__expandButtonContent--3tZPV {\n  display: inline-block;\n  height: 24px;\n  line-height: 24px;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 0 6px;\n  text-decoration: none;\n}\n.frontend-filesViewer-inlineMode-mainSection-module__fsButton--3_ExL:focus,\n.frontend-filesViewer-inlineMode-mainSection-module__expandButtonContent--3tZPV:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-inlineMode-mainSection-module__fsButton--3_ExL::before,\n.frontend-filesViewer-inlineMode-mainSection-module__fsButton--3_ExL::after,\n.frontend-filesViewer-inlineMode-mainSection-module__expandButtonContent--3tZPV::before,\n.frontend-filesViewer-inlineMode-mainSection-module__expandButtonContent--3tZPV::after {\n  display: inline;\n  font-size: 10px;\n}\n.frontend-filesViewer-inlineMode-mainSection-module__mainSection--1i-Li {\n  position: relative;\n}\n.frontend-filesViewer-inlineMode-mainSection-module__viewerContainer--5K6gd {\n  position: relative;\n  overflow: hidden;\n  border-left: 1px solid #ddd;\n  border-right: 1px solid #ddd;\n  box-sizing: border-box;\n  background: #fff;\n}\n.frontend-filesViewer-inlineMode-mainSection-module__viewerContainer--5K6gd .click-outside-wrapper {\n  display: inline;\n}\n.frontend-filesViewer-inlineMode-mainSection-module__expandButton--3bIwe {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  margin: 0;\n  border: 0 none transparent;\n  display: flex;\n  flex-flow: column;\n  justify-content: flex-end;\n  align-items: center;\n}\n.frontend-filesViewer-inlineMode-mainSection-module__expandButton--3bIwe:focus .frontend-filesViewer-inlineMode-mainSection-module__expandButtonContent--3tZPV {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\n.frontend-filesViewer-inlineMode-mainSection-module__expandButtonContent--3tZPV {\n  width: 70px;\n  height: 26px;\n  border-radius: 14px;\n  border: 1px solid #ddd;\n  margin: 0 auto 21px auto;\n  background: #f5f5f5;\n  font-size: 11px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.frontend-filesViewer-inlineMode-mainSection-module__expandButtonContent--3tZPV::before {\n  content: "\\F172";\n  margin-right: 6px;\n}\n',""]),n.locals={"fs-icon-base":"frontend-filesViewer-inlineMode-mainSection-module__fs-icon-base--aSesi",expandButtonContent:"frontend-filesViewer-inlineMode-mainSection-module__expandButtonContent--3tZPV",fsButton:"frontend-filesViewer-inlineMode-mainSection-module__fsButton--3_ExL",mainSection:"frontend-filesViewer-inlineMode-mainSection-module__mainSection--1i-Li",viewerContainer:"frontend-filesViewer-inlineMode-mainSection-module__viewerContainer--5K6gd",expandButton:"frontend-filesViewer-inlineMode-mainSection-module__expandButton--3bIwe"}},470:function(e,n,t){var r=t(471);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},471:function(e,n,t){(n=e.exports=t(352)(!1)).push([e.i,".frontend-filesViewer-inlineMode-index-module__container--33XbI {\n  position: relative;\n}\n.frontend-filesViewer-inlineMode-index-module__fileDescription--1Fioh {\n  background: #f5f5f5;\n  padding: 14px 14px 7px 14px;\n  border-top: 1px solid #ddd;\n  font-size: 13px;\n}\n.frontend-filesViewer-inlineMode-index-module__skipContainer--2oFIF {\n  position: relative;\n  width: 100%;\n  height: 0;\n  z-index: 1;\n}\n.frontend-filesViewer-inlineMode-index-module__skipContainer--2oFIF .frontend-filesViewer-inlineMode-index-module__skipButton--3A4FT:focus {\n  position: absolute;\n  top: 7px;\n  left: 7px;\n  right: auto;\n}\n",""]),n.locals={container:"frontend-filesViewer-inlineMode-index-module__container--33XbI",fileDescription:"frontend-filesViewer-inlineMode-index-module__fileDescription--1Fioh",skipContainer:"frontend-filesViewer-inlineMode-index-module__skipContainer--2oFIF",skipButton:"frontend-filesViewer-inlineMode-index-module__skipButton--3A4FT"}},472:function(e,n,t){var r=t(473);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};t(353)(r,o);r.locals&&(e.exports=r.locals)},473:function(e,n,t){n=e.exports=t(352)(!1);var r=t(394),o=r(t(382)),i=r(t(382)+"?#iefix"),a=r(t(395)),s=r(t(396)),f=r(t(397)+"#figIcon");n.push([e.i,'/**\n * Load figshare icon font\n **/\n.fs-icon-base,\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir::before,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir::before,\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir.fs-expanded::before,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir.fs-expanded::before,\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before,\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play.fs-is-playing::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play.fs-is-playing::before,\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before,\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button.fs-is-mute::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button.fs-is-mute::before,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play::before,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play.fs-is-playing::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play.fs-is-playing::before,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button.fs-is-mute::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button.fs-is-mute::before,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen.fs-exit-fullscreen::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen.fs-exit-fullscreen::before,\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-play::before,\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before,\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before,\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause::before,\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control::before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control::before,\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control::before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control::before,\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.next::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.next::after,\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.prev::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.prev::after,\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta::after,\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close::after,\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-histo-close::before,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-histo-close::before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-in:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-in:before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-out:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-out:before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-fit:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-fit:before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name::after,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-prev-layer-button:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-prev-layer-button:before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-next-layer-button:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-next-layer-button:before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button:before {\n  font-family: "figIcon";\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  letter-spacing: 0;\n  -ms-font-feature-settings: "liga" 1;\n  -o-font-feature-settings: "liga";\n  font-feature-settings: "liga", normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n@font-face {\n  font-family: "figIcon";\n  src: url('+o+");\n  src: url("+i+') format("embedded-opentype"), url('+a+") format('woff'), url("+s+") format('truetype'), url("+f+') format(\'svg\');\n}\n/**\n * Apply resets only where needed\n **/\nbody.fs-no-overflow {\n  overflow: hidden;\n}\nfigshare-widget,\nfigshare-overlay {\n  line-height: 1;\n  box-sizing: content-box;\n  color: #464646;\n  /* HTML5 display-role reset for older browsers */\n  color: #444;\n  transform: translate3d(0, 0, 0);\n}\nfigshare-widget *,\nfigshare-overlay * {\n  box-sizing: content-box;\n}\nfigshare-widget *:focus,\nfigshare-overlay *:focus {\n  outline: none;\n}\nfigshare-widget *::-moz-focus-inner,\nfigshare-overlay *::-moz-focus-inner {\n  border: 0;\n}\nfigshare-widget div,\nfigshare-overlay div,\nfigshare-widget span,\nfigshare-overlay span,\nfigshare-widget applet,\nfigshare-overlay applet,\nfigshare-widget object,\nfigshare-overlay object,\nfigshare-widget iframe,\nfigshare-overlay iframe,\nfigshare-widget h1,\nfigshare-overlay h1,\nfigshare-widget h2,\nfigshare-overlay h2,\nfigshare-widget h3,\nfigshare-overlay h3,\nfigshare-widget h4,\nfigshare-overlay h4,\nfigshare-widget h5,\nfigshare-overlay h5,\nfigshare-widget h6,\nfigshare-overlay h6,\nfigshare-widget p,\nfigshare-overlay p,\nfigshare-widget blockquote,\nfigshare-overlay blockquote,\nfigshare-widget pre,\nfigshare-overlay pre,\nfigshare-widget a,\nfigshare-overlay a,\nfigshare-widget abbr,\nfigshare-overlay abbr,\nfigshare-widget acronym,\nfigshare-overlay acronym,\nfigshare-widget address,\nfigshare-overlay address,\nfigshare-widget big,\nfigshare-overlay big,\nfigshare-widget cite,\nfigshare-overlay cite,\nfigshare-widget code,\nfigshare-overlay code,\nfigshare-widget del,\nfigshare-overlay del,\nfigshare-widget dfn,\nfigshare-overlay dfn,\nfigshare-widget em,\nfigshare-overlay em,\nfigshare-widget img,\nfigshare-overlay img,\nfigshare-widget ins,\nfigshare-overlay ins,\nfigshare-widget kbd,\nfigshare-overlay kbd,\nfigshare-widget q,\nfigshare-overlay q,\nfigshare-widget s,\nfigshare-overlay s,\nfigshare-widget samp,\nfigshare-overlay samp,\nfigshare-widget small,\nfigshare-overlay small,\nfigshare-widget strike,\nfigshare-overlay strike,\nfigshare-widget strong,\nfigshare-overlay strong,\nfigshare-widget tt,\nfigshare-overlay tt,\nfigshare-widget var,\nfigshare-overlay var,\nfigshare-widget b,\nfigshare-overlay b,\nfigshare-widget u,\nfigshare-overlay u,\nfigshare-widget i,\nfigshare-overlay i,\nfigshare-widget center,\nfigshare-overlay center,\nfigshare-widget dl,\nfigshare-overlay dl,\nfigshare-widget dt,\nfigshare-overlay dt,\nfigshare-widget dd,\nfigshare-overlay dd,\nfigshare-widget ol,\nfigshare-overlay ol,\nfigshare-widget ul,\nfigshare-overlay ul,\nfigshare-widget li,\nfigshare-overlay li,\nfigshare-widget fieldset,\nfigshare-overlay fieldset,\nfigshare-widget form,\nfigshare-overlay form,\nfigshare-widget label,\nfigshare-overlay label,\nfigshare-widget legend,\nfigshare-overlay legend,\nfigshare-widget table,\nfigshare-overlay table,\nfigshare-widget caption,\nfigshare-overlay caption,\nfigshare-widget tbody,\nfigshare-overlay tbody,\nfigshare-widget tfoot,\nfigshare-overlay tfoot,\nfigshare-widget thead,\nfigshare-overlay thead,\nfigshare-widget tr,\nfigshare-overlay tr,\nfigshare-widget th,\nfigshare-overlay th,\nfigshare-widget td,\nfigshare-overlay td,\nfigshare-widget article,\nfigshare-overlay article,\nfigshare-widget aside,\nfigshare-overlay aside,\nfigshare-widget canvas,\nfigshare-overlay canvas,\nfigshare-widget details,\nfigshare-overlay details,\nfigshare-widget embed,\nfigshare-overlay embed,\nfigshare-widget figure,\nfigshare-overlay figure,\nfigshare-widget figcaption,\nfigshare-overlay figcaption,\nfigshare-widget footer,\nfigshare-overlay footer,\nfigshare-widget header,\nfigshare-overlay header,\nfigshare-widget hgroup,\nfigshare-overlay hgroup,\nfigshare-widget menu,\nfigshare-overlay menu,\nfigshare-widget nav,\nfigshare-overlay nav,\nfigshare-widget output,\nfigshare-overlay output,\nfigshare-widget ruby,\nfigshare-overlay ruby,\nfigshare-widget section,\nfigshare-overlay section,\nfigshare-widget summary,\nfigshare-overlay summary,\nfigshare-widget time,\nfigshare-overlay time,\nfigshare-widget mark,\nfigshare-overlay mark,\nfigshare-widget audio,\nfigshare-overlay audio,\nfigshare-widget video,\nfigshare-overlay video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font-family: Arial, Helvetica, sans-serif;\n  vertical-align: baseline;\n}\nfigshare-widget sub,\nfigshare-overlay sub,\nfigshare-widget sup,\nfigshare-overlay sup,\nfigshare-widget button,\nfigshare-overlay button {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-family: Arial, Helvetica, sans-serif;\n}\nfigshare-widget,\nfigshare-overlay,\nfigshare-widget article,\nfigshare-overlay article,\nfigshare-widget aside,\nfigshare-overlay aside,\nfigshare-widget details,\nfigshare-overlay details,\nfigshare-widget figcaption,\nfigshare-overlay figcaption,\nfigshare-widget figure,\nfigshare-overlay figure,\nfigshare-widget footer,\nfigshare-overlay footer,\nfigshare-widget header,\nfigshare-overlay header,\nfigshare-widget hgroup,\nfigshare-overlay hgroup,\nfigshare-widget menu,\nfigshare-overlay menu,\nfigshare-widget nav,\nfigshare-overlay nav,\nfigshare-widget section,\nfigshare-overlay section {\n  display: block;\n}\nfigshare-widget ol,\nfigshare-overlay ol,\nfigshare-widget ul,\nfigshare-overlay ul {\n  list-style: none;\n}\nfigshare-widget blockquote,\nfigshare-overlay blockquote,\nfigshare-widget q,\nfigshare-overlay q {\n  quotes: none;\n}\nfigshare-widget blockquote::before,\nfigshare-overlay blockquote::before,\nfigshare-widget q::before,\nfigshare-overlay q::before,\nfigshare-widget blockquote::after,\nfigshare-overlay blockquote::after,\nfigshare-widget q::after,\nfigshare-overlay q::after {\n  content: \'\';\n  content: none;\n}\nfigshare-widget table,\nfigshare-overlay table {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\nfigshare-widget input,\nfigshare-overlay input,\nfigshare-widget select,\nfigshare-overlay select,\nfigshare-widget textarea,\nfigshare-overlay textarea {\n  font-family: Arial, Helvetica, sans-serif;\n  outline: none;\n  box-shadow: 0 0 3px 0px  #ffa500 inset, 0 0 3px 3px  #ffa500;\n}\nfigshare-widget input,\nfigshare-overlay input,\nfigshare-widget textarea,\nfigshare-overlay textarea {\n  border: 0 none;\n  padding: 0;\n  font-size: 13px;\n  background-color: transparent;\n}\nfigshare-widget strong,\nfigshare-overlay strong {\n  font-weight: bold;\n}\nfigshare-widget button,\nfigshare-overlay button {\n  cursor: default;\n  background: transparent;\n}\nfigshare-widget button:focus,\nfigshare-overlay button:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px  #ffa500 inset, 0 0 3px 3px  #ffa500;\n}\nfigshare-widget .figshare-loader,\nfigshare-overlay .figshare-loader {\n  width: 100%;\n  position: relative;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder {\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder:before,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder:before {\n  content: \'\';\n  height: 100%;\n  vertical-align: middle;\n  display: inline-block;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message {\n  padding: 14px 28px;\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n  z-index: 200;\n  border: 1px solid #ddd;\n  background: #fff;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message:before,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message:before {\n  content: \'\';\n  height: 100%;\n  vertical-align: middle;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .figshare-logo,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .figshare-logo {\n  width: 21px;\n  height: 21px;\n}\n@-webkit-keyframes opacityPulse {\n  0% {\n    opacity: 0;\n  }\n  10% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@keyframes opacityPulse {\n  0% {\n    opacity: 0;\n  }\n  10% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message g[class^=\'group\'],\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message g[class^=\'group\'] {\n  opacity: 1;\n  -webkit-animation: 0.8s opacityPulse infinite linear;\n          animation: 0.8s opacityPulse infinite linear;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-20,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-20 {\n  -webkit-animation-delay: 0.76s !important;\n          animation-delay: 0.76s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-19,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-19 {\n  -webkit-animation-delay: 0.72s !important;\n          animation-delay: 0.72s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-18,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-18 {\n  -webkit-animation-delay: 0.6799999999999999s !important;\n          animation-delay: 0.6799999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-17,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-17 {\n  -webkit-animation-delay: 0.6399999999999999s !important;\n          animation-delay: 0.6399999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-16,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-16 {\n  -webkit-animation-delay: 0.5999999999999999s !important;\n          animation-delay: 0.5999999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-15,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-15 {\n  -webkit-animation-delay: 0.5599999999999998s !important;\n          animation-delay: 0.5599999999999998s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-14,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-14 {\n  -webkit-animation-delay: 0.5199999999999998s !important;\n          animation-delay: 0.5199999999999998s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-13,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-13 {\n  -webkit-animation-delay: 0.4799999999999998s !important;\n          animation-delay: 0.4799999999999998s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-12,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-12 {\n  -webkit-animation-delay: 0.43999999999999984s !important;\n          animation-delay: 0.43999999999999984s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-11,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-11 {\n  -webkit-animation-delay: 0.39999999999999986s !important;\n          animation-delay: 0.39999999999999986s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-10,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-10 {\n  -webkit-animation-delay: 0.3599999999999999s !important;\n          animation-delay: 0.3599999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-9,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-9 {\n  -webkit-animation-delay: 0.3199999999999999s !important;\n          animation-delay: 0.3199999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-8,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-8 {\n  -webkit-animation-delay: 0.2799999999999999s !important;\n          animation-delay: 0.2799999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-7,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-7 {\n  -webkit-animation-delay: 0.2399999999999999s !important;\n          animation-delay: 0.2399999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-6,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-6 {\n  -webkit-animation-delay: 0.1999999999999999s !important;\n          animation-delay: 0.1999999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-5,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-5 {\n  -webkit-animation-delay: 0.1599999999999999s !important;\n          animation-delay: 0.1599999999999999s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-4,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-4 {\n  -webkit-animation-delay: 0.11999999999999988s !important;\n          animation-delay: 0.11999999999999988s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-3,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-3 {\n  -webkit-animation-delay: 0.07999999999999988s !important;\n          animation-delay: 0.07999999999999988s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-2,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-2 {\n  -webkit-animation-delay: 0.039999999999999876s !important;\n          animation-delay: 0.039999999999999876s !important;\n}\nfigshare-widget .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-1,\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message .group-1 {\n  -webkit-animation-delay: -0.0000000000000001249s !important;\n          animation-delay: -0.0000000000000001249s !important;\n}\nfigshare-widget .figshare-loader.fs-loading,\nfigshare-overlay .figshare-loader.fs-loading {\n  position: relative;\n}\nfigshare-widget .figshare-loader.fs-loading:before,\nfigshare-overlay .figshare-loader.fs-loading:before {\n  content: \'\';\n  opacity: 0.7;\n  background: #fff;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 100;\n}\nfigshare-widget .figshare-loader .fs-logo,\nfigshare-overlay .figshare-loader .fs-logo,\nfigshare-widget .figshare-loader .fs-message-wrap,\nfigshare-overlay .figshare-loader .fs-message-wrap,\nfigshare-widget .figshare-loader .fs-retry-action,\nfigshare-overlay .figshare-loader .fs-retry-action {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .figshare-loader .fs-message-wrap,\nfigshare-overlay .figshare-loader .fs-message-wrap,\nfigshare-widget .figshare-loader .fs-retry-action,\nfigshare-overlay .figshare-loader .fs-retry-action {\n  margin-left: 7px;\n}\nfigshare-widget .figshare-loader .fs-retry-action,\nfigshare-overlay .figshare-loader .fs-retry-action {\n  color: #c74d5a;\n  margin-left: 7px;\n}\nfigshare-widget .figshare-loader .fs-retry-action:hover,\nfigshare-overlay .figshare-loader .fs-retry-action:hover {\n  text-decoration: underline;\n}\nfigshare-widget .figshare-loader.fs-error .fs-figshare-loader-message,\nfigshare-overlay .figshare-loader.fs-error .fs-figshare-loader-message {\n  background-color: #ffdbdb;\n  border: none;\n  border-radius: 3px;\n}\nfigshare-widget .fs-figshare-viewer,\nfigshare-overlay .fs-figshare-viewer {\n  text-align: left;\n}\nfigshare-widget .fs-figshare-viewer .fs-not-previewable,\nfigshare-overlay .fs-figshare-viewer .fs-not-previewable {\n  height: 100%;\n  position: relative;\n  z-index: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-not-previewable:before,\nfigshare-overlay .fs-figshare-viewer .fs-not-previewable:before {\n  content: \'\';\n  position: absolute;\n  width: 106%;\n  height: 1px;\n  background-color: #eee;\n  top: 50%;\n  left: -3%;\n  transform: rotate(23deg);\n}\nfigshare-widget .fs-figshare-viewer .fs-not-previewable:after,\nfigshare-overlay .fs-figshare-viewer .fs-not-previewable:after {\n  content: \'\';\n  position: absolute;\n  width: 106%;\n  height: 1px;\n  background-color: #eee;\n  top: 50%;\n  left: -3%;\n  transform: rotate(-23deg);\n}\nfigshare-widget .fs-figshare-viewer .fs-not-previewable .fs-not-previewable-content,\nfigshare-overlay .fs-figshare-viewer .fs-not-previewable .fs-not-previewable-content {\n  display: inline-block;\n  height: 100%;\n  width: 100%;\n  vertical-align: middle;\n  text-align: center;\n  position: relative;\n  z-index: 10;\n  white-space: nowrap;\n}\nfigshare-widget .fs-figshare-viewer .fs-not-previewable .fs-not-previewable-content:before,\nfigshare-overlay .fs-figshare-viewer .fs-not-previewable .fs-not-previewable-content:before {\n  content: \' \';\n  display: inline-block;\n  vertical-align: middle;\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-not-previewable .fs-not-previewable-message,\nfigshare-overlay .fs-figshare-viewer .fs-not-previewable .fs-not-previewable-message {\n  background: #fff;\n  box-shadow: 0 0 50px 30px #fff;\n  white-space: normal;\n}\nfigshare-widget .fs-figshare-viewer .image-display,\nfigshare-overlay .fs-figshare-viewer .image-display {\n  overflow: hidden;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-image-display img,\nfigshare-overlay .fs-figshare-viewer .fs-image-display img {\n  box-shadow: 0px 0px 7px #ccc;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translateY(-50%) translateX(-50%);\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display {\n  height: 100%;\n  overflow: auto;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-table,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-table {\n  display: table;\n  width: 100%;\n  height: 100%;\n  text-align: left;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row {\n  margin: 0 7px;\n  height: 28px;\n  line-height: 28px;\n  white-space: nowrap;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row:first-child,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row:first-child {\n  border-top: 7px solid #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row:nth-child(even),\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row:nth-child(even) {\n  background: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row:nth-child(odd),\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row:nth-child(odd) {\n  background: #f5f5f5;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir {\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir::before,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir::before {\n  content: "\\F13A";\n  color: #bbb;\n  font-size: 11px;\n  margin-right: 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir.fs-expanded::before,\nfigshare-overlay .fs-figshare-viewer .fs-archive-display .fs-archive-row > .fs-archive-dir.fs-expanded::before {\n  content: "\\F13B";\n  color: #bbb;\n  font-size: 11px;\n  margin-right: 7px;\n}\nfigshare-widget .fs-figshare-viewer .fv-slider-track,\nfigshare-overlay .fs-figshare-viewer .fv-slider-track {\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fv-slider-track.horizontal .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fv-slider-track.horizontal .fv-slider-progress {\n  width: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fv-slider-track.vertical .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fv-slider-track.vertical .fv-slider-progress {\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fv-slider-track .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fv-slider-track .fv-slider-progress {\n  position: absolute;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper {\n  max-width: 100%;\n  max-height: 100%;\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper audio,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper audio {\n  margin: auto;\n  background: transparent;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-controls,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-controls {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  border: 0 none transparent;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-controls-bar,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-controls-bar {\n  position: absolute;\n  top: 50%;\n  left: 20px;\n  right: 20px;\n  height: 42px;\n  margin: 20px auto;\n  background-color: #fff;\n  box-sizing: border-box;\n  border: 1px solid #ddd;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: stretch;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline-container,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline-container {\n  position: relative;\n  margin: 0 7px;\n  height: 42px;\n  width: auto;\n  flex-grow: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline-container::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline-container::before {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 42px;\n  background: #f8f8f8;\n  content: "";\n  border: 1px solid #ddd;\n  border-left: 0;\n  border-right: 0;\n  box-sizing: border-box;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-container,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-container {\n  position: relative;\n  width: 49px;\n  height: 42px;\n  margin-right: 21px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-container::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-container::before {\n  position: absolute;\n  left: 0px;\n  top: 14px;\n  width: 100%;\n  height: 14px;\n  content: "";\n  border: 1px solid #ddd;\n  box-sizing: border-box;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume {\n  position: absolute;\n  left: 0px;\n  top: 14px;\n  width: 100%;\n  height: 42px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume .fv-slider-progress {\n  left: 0px;\n  height: 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume .fv-slider-progress {\n  background: #bbb;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-time,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-time {\n  min-width: 30px;\n  font-size: 12px;\n  text-align: center;\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline,\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 42px;\n  display: flex;\n  align-items: center;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline .fv-slider-progress,\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline .fv-slider-progress {\n  top: 0;\n  left: 0px;\n  height: 42px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-timeline .fv-slider-progress {\n  background: #c74d5a;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-bufferline .fv-slider-progress {\n  background: #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play {\n  background: transparent;\n  font-size: 21px;\n  color: #bbb;\n  text-align: center;\n  height: 42px;\n  width: 49px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play:focus,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play::before {\n  content: "\\F161";\n  line-height: 42px;\n  color: #c74d5a;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play.fs-is-playing::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-play.fs-is-playing::before {\n  content: "\\F15D";\n  line-height: 42px;\n  color: #c74d5a;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button {\n  background: transparent;\n  font-size: 21px;\n  color: #bbb;\n  text-align: center;\n  height: 42px;\n  width: 35px;\n  margin-left: 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button:focus,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button::before {\n  content: "\\F10C";\n  line-height: 42px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button.fs-is-mute::before,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-volume-button.fs-is-mute::before {\n  content: "\\F10D";\n  line-height: 42px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper .fs-audio-glider,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper .fs-audio-glider {\n  position: absolute;\n  bottom: 49px;\n  height: 14px;\n  line-height: 14px;\n  width: auto;\n  color: #999;\n  transform: translateX(-50%);\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper.native-controls .fs-audio-loader,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper.native-controls .fs-audio-loader {\n  display: flex;\n  align-items: center;\n}\nfigshare-widget .fs-figshare-viewer .fs-audio-wrapper.native-controls audio,\nfigshare-overlay .fs-figshare-viewer .fs-audio-wrapper.native-controls audio {\n  width: calc(100% - 28px);\n  padding: 0 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper {\n  max-width: 100%;\n  max-height: 100%;\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper video,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper video {\n  margin: auto;\n  background: #000;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-controls-shortcuts,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-controls-shortcuts {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: transparent;\n  margin: 0;\n  padding: 0;\n  border: 0 none transparent;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay {\n  background: transparent;\n  font-size: 21px;\n  color: #ddd;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  height: 49px;\n  width: 140px;\n  padding: 0 10px;\n  background: rgba(70, 70, 70, 0.95);\n  border-radius: 3px;\n  box-sizing: border-box;\n  font-size: 14px;\n  font-weight: bold;\n  line-height: 49px;\n  margin-left: -70px;\n  margin-top: -24.5px;\n  transition: opacity 0.3s ease-out;\n  opacity: 0.9;\n  text-align: center;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay:focus,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay:hover,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay:hover {\n  color: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay::before {\n  content: "\\F16E";\n  font-size: 21px;\n  line-height: 49px;\n  margin-right: 10px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-replay:hover,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-replay:hover {\n  transition: opacity 0.3s ease-in;\n  opacity: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 49px 20px 0 20px;\n  transition: opacity 0.3s ease-out 1s;\n  opacity: 0.9;\n  box-sizing: border-box;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container:hover,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container:hover {\n  transition: opacity 0.3s ease-in 0s;\n  opacity: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-hide-controls,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-hide-controls {\n  transition: opacity 0.3s ease-out 1s;\n  opacity: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-hide-controls:hover,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-hide-controls:hover {\n  transition: opacity 0.3s ease-in 0s;\n  opacity: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-force-visible,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-force-visible {\n  opacity: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-force-visible.fs-hide-controls,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-container.fs-force-visible.fs-hide-controls {\n  opacity: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-bar,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-controls-bar {\n  position: relative;\n  max-width: 800px;\n  height: 49px;\n  margin: 20px auto;\n  background-color: rgba(70, 70, 70, 0.95);\n  color: #fff;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: stretch;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline-container,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline-container {\n  position: relative;\n  margin: 0 7px;\n  height: 49px;\n  width: auto;\n  flex-grow: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline-container::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline-container::before {\n  position: absolute;\n  top: 21px;\n  left: 0px;\n  height: 7px;\n  width: 100%;\n  background: #fff;\n  content: "";\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-container,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-container {\n  position: relative;\n  width: 70px;\n  height: 49px;\n  margin-right: 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-container::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-container::before {\n  position: absolute;\n  top: 21px;\n  left: 0px;\n  height: 7px;\n  width: 100%;\n  background: #fff;\n  content: "";\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-time,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-time {\n  min-width: 42px;\n  font-size: 12px;\n  font-weight: bold;\n  text-align: center;\n  color: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 49px;\n  display: flex;\n  align-items: center;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline .fv-slider-progress,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline .fv-slider-progress,\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume .fv-slider-progress {\n  left: 0px;\n  height: 7px;\n  top: 21px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-timeline .fv-slider-progress {\n  background: #c74d5a;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-bufferline .fv-slider-progress {\n  background: #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume .fv-slider-progress,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume .fv-slider-progress {\n  background: #bbb;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play {\n  background: transparent;\n  font-size: 21px;\n  color: #ddd;\n  text-align: center;\n  height: 49px;\n  width: 49px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play:focus,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play:hover,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play:hover {\n  color: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play::before {\n  content: "\\F161";\n  line-height: 49px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-play.fs-is-playing::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-play.fs-is-playing::before {\n  content: "\\F15D";\n  line-height: 49px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button {\n  background: transparent;\n  font-size: 21px;\n  color: #ddd;\n  text-align: center;\n  height: 49px;\n  width: 35px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button:focus,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button:hover,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button:hover {\n  color: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button::before {\n  content: "\\F10C";\n  line-height: 49px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button.fs-is-mute::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-volume-button.fs-is-mute::before {\n  content: "\\F10D";\n  line-height: 49px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen {\n  background: transparent;\n  font-size: 21px;\n  color: #ddd;\n  text-align: center;\n  height: 49px;\n  width: 42px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen:focus,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen:hover,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen:hover {\n  color: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen::before {\n  content: "\\F13E";\n  line-height: 49px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen.fs-exit-fullscreen::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-fullscreen.fs-exit-fullscreen::before {\n  content: "\\F13F";\n  line-height: 49px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-glider,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-glider {\n  position: absolute;\n  bottom: 63px;\n  min-height: 28px;\n  width: auto;\n  border-radius: 3px;\n  transform: translateX(-50%);\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-glider.fs-has-preview,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-glider.fs-has-preview {\n  background-position: center;\n  background-repeat: no-repeat;\n  background-color: rgba(70, 70, 70, 0.95);\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-glider.fs-has-preview .fs-video-glider-text,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-glider.fs-has-preview .fs-video-glider-text {\n  border-radius: 0 0 3px 3px;\n  transform: none;\n  width: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-glider-text,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-glider-text {\n  position: absolute;\n  bottom: 0px;\n  top: auto;\n  padding: 0 10px;\n  white-space: nowrap;\n  height: 28px;\n  width: auto;\n  border-radius: 3px;\n  box-sizing: border-box;\n  text-align: center;\n  transform: translateX(-50%);\n  background: rgba(70, 70, 70, 0.95);\n  color: #fff;\n  font-size: 12px;\n  font-weight: bold;\n  line-height: 28px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering {\n  position: absolute;\n  width: 65px;\n  height: 65px;\n  left: 50%;\n  top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering::before {\n  background: transparent;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering .fs-figshare-loader-message,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fv-loader.fs-video-buffering .fs-figshare-loader-message {\n  background: rgba(255, 255, 255, 0.95);\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-cue,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-cue {\n  position: absolute;\n  box-sizing: content-box;\n  top: 0px;\n  width: 15px;\n  height: 49px;\n  transform: translateX(-50%);\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-cue::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-cue::before {\n  position: absolute;\n  top: 21px;\n  left: 5px;\n  background: rgba(70, 70, 70, 0.5);\n  content: "";\n  width: 5px;\n  height: 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-media-wrapper .fs-video-cue:hover::before,\nfigshare-overlay .fs-figshare-viewer .fs-media-wrapper .fs-video-cue:hover::before {\n  position: absolute;\n  top: 0px;\n  left: 5px;\n  background-color: rgba(187, 187, 187, 0.5);\n  content: "";\n  width: 5px;\n  height: 28px;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display {\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display canvas,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display canvas {\n  background: linear-gradient(to top, #202020 0%, #000 29%, #131313 29%, #000 55%);\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-speed-controls,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-speed-controls {\n  position: absolute;\n  left: 0;\n  bottom: 28px;\n  width: 100%;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto;\n  transition: opacity 0.3s ease-out;\n  opacity: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display.fs-mode-mobile .fs-speed-controls,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display.fs-mode-mobile .fs-speed-controls {\n  opacity: 1;\n  bottom: 21px;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display:hover .fs-speed-controls,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display:hover .fs-speed-controls {\n  transition: opacity 0.3s ease-in;\n  opacity: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-play,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-play {\n  height: 48px;\n  background-color: rgba(70, 70, 70, 0.55);\n  font-size: 21px;\n  color: #fff;\n  text-align: center;\n  width: 76px;\n  border-radius: 3px;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-play::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-play[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-play[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-play:focus,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-play:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-play::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-play::before {\n  content: "\\F158";\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed {\n  height: 48px;\n  background-color: rgba(70, 70, 70, 0.55);\n  font-size: 21px;\n  color: #fff;\n  text-align: center;\n  width: 56px;\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed:focus,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-decrease-speed::before {\n  line-height: 48px;\n  content: "\\F178";\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-increase-speed,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-increase-speed {\n  height: 48px;\n  background-color: rgba(70, 70, 70, 0.55);\n  font-size: 21px;\n  color: #fff;\n  text-align: center;\n  width: 56px;\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-increase-speed[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-increase-speed[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-increase-speed:focus,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-increase-speed:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-increase-speed::before {\n  line-height: 48px;\n  content: "\\F17A";\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause {\n  height: 48px;\n  background-color: rgba(70, 70, 70, 0.55);\n  font-size: 21px;\n  color: #fff;\n  text-align: center;\n  width: 76px;\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  justify-content: center;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause::before {\n  display: inline-block;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause[disabled] {\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause:focus,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause:focus {\n  outline: none;\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause::before,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause::before {\n  font-size: 10px;\n  margin-bottom: 4px;\n  content: "\\F15E";\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause .fs-speed-indicator,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause .fs-speed-indicator {\n  line-height: 14px;\n  font-size: 13px;\n}\nfigshare-widget .fs-figshare-viewer .fs-molecule-display .fs-pause .fs-speed-indicator.default-speed,\nfigshare-overlay .fs-figshare-viewer .fs-molecule-display .fs-pause .fs-speed-indicator.default-speed {\n  font-size: 11px;\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display,\nfigshare-overlay .fs-figshare-viewer .fs-document-display {\n  overflow: auto !important;\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .figshare-loader,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .figshare-loader {\n  overflow: hidden !important;\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .fs-image-display,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .fs-image-display {\n  position: relative;\n  margin: 30px auto;\n  border: 1px solid #ddd;\n  box-shadow: 0px 0px 7px #ccc;\n  opacity: 0.9;\n  transition: opacity 1s, transform 1s, transform-origin 1s;\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .fs-image-display.fs-prev-page,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .fs-image-display.fs-prev-page {\n  transform-origin: center bottom;\n  transform: perspective(600px) rotateX(1deg) translateZ(-2px);\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .fs-image-display.fs-next-page,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .fs-image-display.fs-next-page {\n  transform-origin: center top;\n  transform: perspective(600px) rotateX(-1deg) translateZ(-2px);\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .fs-image-display.fs-current-page,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .fs-image-display.fs-current-page {\n  opacity: 1;\n  transform: perspective(600px) rotateX(0deg) translateZ(0px);\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .fs-canvas-document-container,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .fs-canvas-document-container {\n  overflow: auto;\n  position: absolute;\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .fs-canvas-document-container .fs-page-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .fs-canvas-document-container .fs-page-wrapper {\n  margin: 30px auto;\n  border: 1px solid #ddd;\n  box-shadow: 0 0 7px #ccc;\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-document-display .fs-canvas-document-container .fs-page-wrapper .fs-canvas-clone,\nfigshare-overlay .fs-figshare-viewer .fs-document-display .fs-canvas-document-container .fs-page-wrapper .fs-canvas-clone {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-loading-layer,\nfigshare-overlay .fs-figshare-viewer .fs-loading-layer {\n  position: absolute;\n  z-index: 4;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  opacity: 0.2;\n  line-height: 1.0;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer > div,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer > div {\n  color: transparent;\n  position: absolute;\n  white-space: pre;\n  cursor: text;\n  transform-origin: 0% 0%;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer .highlight,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer .highlight {\n  margin: -1px;\n  padding: 1px;\n  border-radius: 4px;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer .highlight.begin,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer .highlight.begin {\n  border-radius: 4px 0 0 4px;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer .highlight.end,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer .highlight.end {\n  border-radius: 0 4px 4px 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer .highlight.middle,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer .highlight.middle {\n  border-radius: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer ::-moz-selection, figshare-overlay .fs-figshare-viewer .fs-text-layer ::-moz-selection {\n  background: #3496fb;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer ::selection,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer ::selection {\n  background: #3496fb;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer ::-moz-selection,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer ::-moz-selection {\n  background: #3496fb;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer .endOfContent,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer .endOfContent {\n  display: block;\n  position: absolute;\n  left: 0;\n  top: 100%;\n  right: 0;\n  bottom: 0;\n  z-index: -1;\n  cursor: default;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-layer .endOfContent.active,\nfigshare-overlay .fs-figshare-viewer .fs-text-layer .endOfContent.active {\n  top: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display {\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-sheet-display,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-sheet-display {\n  position: relative;\n  overflow: auto;\n  height: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper {\n  width: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper table,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper table {\n  white-space: normal;\n  text-align: left;\n  min-width: 100%;\n  border-collapse: collapse;\n  border-spacing: 0px;\n  vertical-align: middle;\n  line-height: 28px;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper th,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper th,\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper td,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper td {\n  border: 1px solid #ccc;\n  padding: .4em .8em;\n  vertical-align: middle;\n  white-space: nowrap;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper th,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper th {\n  background: #ddd;\n  font-weight: 400;\n  text-align: center;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper tbody th,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-sheet-wrapper tbody th {\n  width: 60px;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel {\n  position: relative;\n  width: 100%;\n  height: 34px;\n  overflow: hidden;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper {\n  position: relative;\n  width: 100%;\n  height: 34px;\n  overflow: hidden;\n  z-index: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active {\n  width: calc(100% - 80px);\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::after,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::after,\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::before {\n  z-index: 1;\n  content: " ";\n  opacity: 0;\n  transition: opacity 0.5s;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::before {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: auto;\n  display: block;\n  width: 20px;\n  height: 34px;\n  background: linear-gradient(to right, #ffffff, rgba(255, 255, 255, 0));\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::after,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active::after {\n  position: absolute;\n  top: 0px;\n  left: auto;\n  right: 0px;\n  display: block;\n  width: 20px;\n  height: 34px;\n  background: linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0));\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active.fs-fade-left::before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active.fs-fade-left::before,\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active.fs-fade-right::after,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-wrapper.fs-controls-active.fs-fade-right::after {\n  opacity: 1;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-container,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-container {\n  position: relative;\n  top: 0px;\n  display: inline-block;\n  height: 34px;\n  text-align: left;\n  white-space: nowrap;\n  z-index: 0;\n  transition: left 0.5s;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-controls,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-controls {\n  position: absolute;\n  top: 0px;\n  left: auto;\n  right: 0px;\n  width: 80px;\n  height: 34px;\n  text-align: center;\n  background: #fff;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control,\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control {\n  width: 21px;\n  height: 34px;\n  color: #ddd;\n  line-height: 34px;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control.fs-active,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control.fs-active,\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control.fs-active,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control.fs-active {\n  color: #c74d5a;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control::before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-left-control::before {\n  content: "\\F108";\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control::before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel-right-control::before {\n  content: "\\F109";\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-carousel,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-carousel {\n  border-top: 1px solid #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-selector,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-selector {\n  position: relative;\n  display: inline-block;\n  margin-right: -13px;\n  padding: 0 20px;\n  color: #fff;\n  text-align: center;\n  vertical-align: middle;\n  height: 24px;\n  width: auto;\n  z-index: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-selector:before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-selector:before {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  border-top: 24px solid #c74d5a;\n  border-left: 13px solid transparent;\n  border-right: 13px solid transparent;\n  border-radius: 0 0 18px 18px;\n  content: "";\n  z-index: -1;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-selector:after,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-selector:after {\n  position: absolute;\n  top: 0px;\n  left: -1px;\n  right: -1px;\n  bottom: -1px;\n  border-top: 25px solid #ddd;\n  border-left: 13px solid transparent;\n  border-right: 13px solid transparent;\n  border-radius: 0 0px 18px 18px;\n  content: "";\n  z-index: -2;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-selector:focus,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-selector:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-selector.fs-active,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-selector.fs-active {\n  color: #464646;\n  font-weight: 700;\n}\nfigshare-widget .fs-figshare-viewer .fs-dataset-display .fs-selector.fs-active:before,\nfigshare-overlay .fs-figshare-viewer .fs-dataset-display .fs-selector.fs-active:before {\n  border-top: 24px solid #fff;\n}\nfigshare-widget .fs-figshare-viewer .leaflet-bar,\nfigshare-overlay .fs-figshare-viewer .leaflet-bar {\n  background-color: #eee;\n  background-color: rgba(255, 255, 255, 0.4);\n  border-radius: 4px;\n  padding: 2px;\n  box-shadow: none;\n}\nfigshare-widget .fs-figshare-viewer .leaflet-bar a,\nfigshare-overlay .fs-figshare-viewer .leaflet-bar a,\nfigshare-widget .fs-figshare-viewer .leaflet-bar a:hover,\nfigshare-overlay .fs-figshare-viewer .leaflet-bar a:hover {\n  color: #fff;\n  font-size: 1.14em;\n  font-weight: 700;\n  text-decoration: none;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: 1.4em;\n  background-color: #7b98bc;\n  background-color: rgba(0, 60, 136, 0.5);\n  margin: 1px;\n  border: none;\n}\nfigshare-widget .fs-figshare-viewer a.leaflet-disabled,\nfigshare-overlay .fs-figshare-viewer a.leaflet-disabled,\nfigshare-widget .fs-figshare-viewer a.leaflet-disabled:hover,\nfigshare-overlay .fs-figshare-viewer a.leaflet-disabled:hover {\n  color: #000;\n  background-color: rgba(255, 255, 255, 0.4) !important;\n}\nfigshare-widget .fs-figshare-viewer .leaflet-bar a:hover,\nfigshare-overlay .fs-figshare-viewer .leaflet-bar a:hover {\n  background-color: #4c6079;\n  background-color: rgba(0, 60, 136, 0.7);\n}\nfigshare-widget .fs-figshare-viewer .leaflet-control-zoom-in,\nfigshare-overlay .fs-figshare-viewer .leaflet-control-zoom-in {\n  border-radius: 2px 2px 0 0 !important;\n}\nfigshare-widget .fs-figshare-viewer .leaflet-control-zoom-out,\nfigshare-overlay .fs-figshare-viewer .leaflet-control-zoom-out {\n  border-radius: 0 0 2px 2px !important;\n}\nfigshare-widget .fs-figshare-viewer .fs-info:before,\nfigshare-overlay .fs-figshare-viewer .fs-info:before {\n  content: "i";\n}\nfigshare-widget .fs-figshare-viewer .fs-info.fs-open:before,\nfigshare-overlay .fs-figshare-viewer .fs-info.fs-open:before {\n  content: ">";\n}\nfigshare-widget .fs-figshare-viewer .fs-info:focus,\nfigshare-overlay .fs-figshare-viewer .fs-info:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .leaflet-control-attribution,\nfigshare-overlay .fs-figshare-viewer .leaflet-control-attribution {\n  left: -10px;\n  top: -10px;\n  padding: 7px 30px 7px 7px;\n  border-radius: 4px;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display,\nfigshare-overlay .fs-figshare-viewer .fs-text-display {\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .fs-text-container,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .fs-text-container {\n  height: 100%;\n  overflow: auto;\n  text-align: left;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display pre,\nfigshare-overlay .fs-figshare-viewer .fs-text-display pre {\n  white-space: pre;\n  font-size: 12px;\n  line-height: 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs,\nfigshare-widget .fs-figshare-viewer .fs-text-display [class^="hljs-"],\nfigshare-overlay .fs-figshare-viewer .fs-text-display [class^="hljs-"] {\n  font-family: "Lucida Console", Monaco, monospace;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs {\n  display: block;\n  padding: 14px;\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-comment,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-comment,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-quote,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-quote {\n  color: #999;\n  font-style: italic;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-keyword,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-keyword,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-selector-tag,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-selector-tag,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-subst,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-subst {\n  color: #157009;\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-number,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-number,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-literal,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-literal,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-variable,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-variable,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-template-variable,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-template-variable,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-tag .hljs-attr,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-tag .hljs-attr {\n  color: #008080;\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-string,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-string,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-doctag,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-doctag {\n  color: #c74d5a;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-title,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-title,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-section,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-section,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-selector-id,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-selector-id {\n  color: #c81a2b;\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-subst,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-subst {\n  font-weight: normal;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-type,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-type,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-class .hljs-title,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-class .hljs-title {\n  color: #458;\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-tag,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-tag,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-name,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-name,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-attribute,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-attribute {\n  color: #000080;\n  font-weight: normal;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-regexp,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-regexp,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-link,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-link {\n  color: #A3CD3D;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-symbol,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-symbol,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-bullet,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-bullet {\n  color: #990073;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-built_in,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-built_in,\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-builtin-name,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-builtin-name {\n  color: #0086b3;\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-meta,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-meta {\n  color: #556471;\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-deletion,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-deletion {\n  background: #ffdbdb;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-addition,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-addition {\n  background: #edf3d7;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-emphasis,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-emphasis {\n  font-style: italic;\n}\nfigshare-widget .fs-figshare-viewer .fs-text-display .hljs-strong,\nfigshare-overlay .fs-figshare-viewer .fs-text-display .hljs-strong {\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-jupyter-display,\nfigshare-overlay .fs-figshare-viewer .fs-jupyter-display {\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-jupyter-display .figshare-loader,\nfigshare-overlay .fs-figshare-viewer .fs-jupyter-display .figshare-loader {\n  overflow: hidden !important;\n}\nfigshare-widget .fs-figshare-viewer .fs-viewer3d-display,\nfigshare-overlay .fs-figshare-viewer .fs-viewer3d-display {\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-viewer3d-display canvas,\nfigshare-overlay .fs-figshare-viewer .fs-viewer3d-display canvas {\n  background: linear-gradient(to top, #202020 0%, #000 29%, #131313 29%, #000 55%);\n}\nfigshare-widget .fs-figshare-viewer .fs-graph-display,\nfigshare-overlay .fs-figshare-viewer .fs-graph-display {\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-graph-display canvas,\nfigshare-overlay .fs-figshare-viewer .fs-graph-display canvas {\n  background: radial-gradient(circle, #fff 50%, #ddd);\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .figshare-loader,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .figshare-loader {\n  overflow: hidden !important;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fs-canvas-container,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fs-canvas-container {\n  background: rgba(0, 0, 0, 0.3);\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fs-canvas-container canvas,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fs-canvas-container canvas {\n  display: block;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-explore-container,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-explore-container {\n  background-color: rgba(255, 255, 255, 0.1);\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info {\n  position: absolute;\n  left: 14px;\n  top: 14px;\n  background: rgba(48, 48, 48, 0.75);\n  border-radius: 3px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-image-meta,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-image-meta {\n  width: 230px;\n  padding: 14px;\n  color: #bbb;\n  line-height: 21px;\n  font-size: 12px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-image-meta .fv-fits-meta-separator,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-image-meta .fv-fits-meta-separator {\n  height: 1em;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation {\n  color: #fff;\n  padding: 7px;\n  font-size: 14px;\n  line-height: 28px;\n  display: flex;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button {\n  width: 28px;\n  height: 28px;\n  line-height: 28px;\n  background: transparent;\n  color: inherit;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.next::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.next::after {\n  content: "\\F17A";\n  font-size: 14px;\n  line-height: 28px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.prev::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.prev::after {\n  content: "\\F178";\n  font-size: 14px;\n  line-height: 28px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta {\n  margin-left: 12px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta::after {\n  content: "\\F11C";\n  font-size: 14px;\n  line-height: 28px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close {\n  margin-left: auto;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close::after,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.meta.close::after {\n  content: "\\F134";\n  font-size: 14px;\n  line-height: 28px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.disabled,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button.disabled {\n  color: #bbb;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button:focus,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-nav-button:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-index,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-image-info .fv-fits-layer-navigation .fv-fits-layer-index {\n  vertical-align: middle;\n  font-size: 14px;\n  margin: 0 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fs-histo-container,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fs-histo-container {\n  position: absolute;\n  right: 14px;\n  bottom: 14px;\n  background: rgba(0, 0, 0, 0.3);\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fs-histo-container.disabled,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fs-histo-container.disabled {\n  display: none;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-histo-controls-container,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-histo-controls-container {\n  background-color: #f8f8f8;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  line-height: 21px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-histo-button,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-histo-button {\n  margin: 0 7px;\n  font-size: 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-histo-button.disabled,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-histo-button.disabled {\n  color: #bbb;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-histo-close,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-histo-close {\n  position: relative;\n  top: 3px;\n  float: right;\n  color: #bbb;\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fv-fits-histo-close::before,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fv-fits-histo-close::before {\n  content: "\\F112";\n}\nfigshare-widget .fs-figshare-viewer .fs-fits-display .fs-histo-canvas-container canvas,\nfigshare-overlay .fs-figshare-viewer .fs-fits-display .fs-histo-canvas-container canvas {\n  display: block;\n}\nfigshare-widget .fs-figshare-viewer .fs-figshare-viewer,\nfigshare-overlay .fs-figshare-viewer .fs-figshare-viewer {\n  position: relative;\n  text-align: left;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper {\n  height: auto;\n  width: 100%;\n  position: relative;\n  z-index: 2;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-molecule-controls-wrap,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-molecule-controls-wrap {\n  width: 100%;\n  height: 38px;\n  display: flex;\n  flex-flow: row;\n  justify-content: flex-end;\n  align-items: center;\n  background: #f5f5f5;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal {\n  margin: 0 14px 0 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-pagination-info,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-pagination-info {\n  display: inline-block;\n  width: 42px;\n  text-align: right;\n  font-size: 11px;\n  font-weight: normal;\n  margin-right: 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page {\n  margin: 0 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before {\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page:focus,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page:focus,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page:focus,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-prev-page::before {\n  content: "\\F178";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-pagination.fs-horizontal .fs-next-page::before {\n  content: "\\F17A";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comment-list,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comment-list {\n  max-width: 270px;\n  height: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger {\n  position: relative;\n  margin-right: 10px;\n  padding-right: 5px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before {\n  position: absolute;\n  right: -9px;\n  font-size: 5px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::after {\n  top: 12px;\n  content: "\\F10A";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger::before {\n  top: 20px;\n  content: "\\F107";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-trigger:focus,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-trigger:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-current-comment,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-current-comment {\n  font-size: 13px;\n  line-height: 38px;\n  white-space: nowrap;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-menu-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-menu-wrapper {\n  position: absolute;\n  right: -105px;\n  bottom: 0;\n  width: 0;\n  height: 0;\n  display: flex;\n  justify-content: center;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu {\n  position: absolute;\n  top: 0;\n  left: auto;\n  right: 0;\n  max-width: 385px;\n  border: 1px solid #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::after,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::before {\n  top: 0;\n  right: 110px;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::after {\n  border-bottom-color: #fff;\n  border-width: 7px;\n  margin-right: -7px;\n  margin-top: -14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu::before {\n  border-bottom-color: #ddd;\n  border-width: 8px;\n  margin-right: -8px;\n  margin-top: -16px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 13px;\n  line-height: 20px;\n  border-bottom: 1px solid #ddd;\n  padding: 7px 14px;\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item:last-child,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item:last-child {\n  border-bottom: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item.fs-active,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item.fs-active {\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item:hover,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item:hover,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item.fs-active,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-comments-menu .fs-drop-item.fs-active {\n  background-color: #f8f8f8;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-items-wrap,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-items-wrap {\n  max-height: 244px;\n  min-width: 182px;\n  background-color: #fff;\n  overflow-y: auto;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile.fs-molecule-controls-wrap,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile.fs-molecule-controls-wrap {\n  border-top: 1px solid #464646;\n  justify-content: center;\n  background: #000;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-pagination,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-pagination {\n  display: none;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-trigger,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-trigger {\n  color: #f8f8f8;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-menu-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-menu-wrapper {\n  right: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu {\n  position: fixed;\n  top: 83px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: auto;\n  height: auto;\n  max-width: none;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu::before,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-comments-menu::after {\n  right: 50%;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-current-comment,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-current-comment {\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-drop-item,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-drop-item {\n  padding: 21px 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-items-wrap,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-mode-mobile .fs-items-wrap {\n  max-height: 60%;\n  width: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button {\n  margin: 0 7px;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button:before {\n  font-size: 16px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button[disabled],\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button[disabled] {\n  color: #bbb;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button:focus,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-button:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-in:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-in:before {\n  content: "\\F1A0";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-out:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-out:before {\n  content: "\\F1A1";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-fit:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom .fs-zoom-fit:before {\n  content: "\\F138";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls {\n  width: 100%;\n  height: 38px;\n  display: flex;\n  flex-flow: row;\n  justify-content: flex-end;\n  align-items: center;\n  background: #f5f5f5;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-image-navigation-control,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-image-navigation-control {\n  font-size: 14px;\n  line-height: 38px;\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu {\n  display: inline-block;\n  position: relative;\n  height: 38px;\n  line-height: 38px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name {\n  color: #464646;\n  font-size: 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name::after {\n  content: "\\F10B";\n  margin-left: 7px;\n  font-size: 14px;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name span,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-fits-layer-name span {\n  display: inline-block;\n  max-width: 170px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper {\n  right: 0;\n  position: absolute;\n  top: 100%;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu {\n  position: relative;\n  border: 1px solid #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap {\n  background: white;\n  z-index: 2;\n  position: relative;\n  width: 250px;\n  font-size: 14px;\n  max-height: 320px;\n  overflow-y: auto;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item {\n  display: flex;\n  padding: 0 14px;\n  border-top: 1px solid #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item:first-child,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item:first-child {\n  border: none;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item .layer-count,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item .layer-count {\n  font-weight: 13px;\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item.fv-active,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .fv-drop-item.fv-active {\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .layer-title,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .layer-title {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .layer-count,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu .fv-items-wrap .layer-count {\n  margin-left: 4px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper .fv-comments-menu::before {\n  content: "";\n  z-index: 1;\n  position: absolute;\n  top: -5px;\n  right: 6px;\n  width: 8px;\n  height: 8px;\n  transform: rotate(45deg);\n  background: white;\n  border: 1px solid #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fs-zoom,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fs-zoom {\n  display: inline;\n  margin-left: 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-button,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-button {\n  margin: 0 7px;\n  height: 100%;\n  vertical-align: middle;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-button:focus,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-button:focus {\n  box-shadow: 0 0 3px 0px #ffa500 inset, 0 0 3px 3px #ffa500;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layer-index,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-layer-index {\n  margin-left: 28px;\n  margin-right: 7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-prev-layer-button:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-prev-layer-button:before {\n  content: "\\F178";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-next-layer-button:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-next-layer-button:before {\n  content: "\\F17A";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button {\n  margin-left: 14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button:before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button:before {\n  content: "\\F146";\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button.disabled,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-histo-button.disabled {\n  color: #bbb;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu {\n  position: absolute;\n  max-width: 461px;\n  background-color: #fff;\n  border: 1px solid #ddd;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::after,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::before {\n  top: -16px;\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::after,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::after {\n  border-bottom-color: #fff;\n  border-width: 8px;\n  margin-left: -8px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu::before {\n  border-bottom-color: #ddd;\n  border-width: 7px;\n  margin-left: -7px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 20px;\n  border-bottom: 1px solid #ddd;\n  padding: 7px 14px;\n  color: #464646;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item:last-child,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item:last-child {\n  border-bottom: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item.fv-active,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item.fv-active {\n  font-weight: bold;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item:hover,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item:hover,\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item.fv-active,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-menu .fv-drop-item.fv-active {\n  background-color: #f8f8f8;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile {\n  justify-content: space-between;\n  padding: 0 14px;\n  box-sizing: border-box;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-fits-layer-name,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-fits-layer-name {\n  margin: 0;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-fits-layer-name span,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-fits-layer-name span {\n  width: 75px;\n  text-align: left;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-menu-wrapper.fv-fits-menu-wrapper {\n  right: auto;\n  left: -14px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-comments-menu::before,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-comments-menu::before {\n  right: auto;\n  left: 95px;\n}\nfigshare-widget .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-comments-menu .fv-items-wrap,\nfigshare-overlay .fs-figshare-viewer .fs-controls-wrapper .fv-fits-controls.mobile .fv-fits-layers-menu .fv-comments-menu .fv-items-wrap {\n  width: 320px;\n}\nfigshare-widget .fs-files-viewer-loader,\nfigshare-overlay .fs-files-viewer-loader {\n  width: 100%;\n  height: 100%;\n}\nfigshare-widget .fs-files-viewer-loader.fs-loading,\nfigshare-overlay .fs-files-viewer-loader.fs-loading {\n  display: none;\n}\nfigshare-widget .fs-figshare-viewer,\nfigshare-overlay .fs-figshare-viewer {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 0;\n}\nfigshare-widget .fs-figshare-viewer .figshare-loader,\nfigshare-overlay .fs-figshare-viewer .figshare-loader {\n  width: 100%;\n  height: 100%;\n}\nfigshare-overlay {\n  display: none;\n  z-index: 200;\n  z-index: 1002;\n}\nfigshare-overlay.fs-active {\n  display: block;\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\nfigshare-overlay .fs-overlay-content {\n  position: relative;\n  margin: 0 auto;\n  z-index: 201;\n}\nfigshare-overlay .fs-overlay-backdrop {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: block;\n  overflow: auto;\n  z-index: 200;\n  background: rgba(0, 0, 0, 0.85);\n}\nfigshare-overlay .figshare-loader {\n  height: 100%;\n  width: 100%;\n}\nfigshare-overlay .figshare-loader::before {\n  display: none;\n}\nfigshare-overlay .figshare-loader .fs-figshare-loader-holder .fs-figshare-loader-message g[class^=\'group\'] :local {\n  -webkit-animation-name: opacityPulse;\n          animation-name: opacityPulse;\n}\n',""])},474:function(e,n,t){"use strict";var r={};t.r(r),t.d(r,"isOpen",(function(){return Po})),t.d(r,"defaultCitation",(function(){return Mo})),t.d(r,"searchTerm",(function(){return Co})),t.d(r,"limitReached",(function(){return Eo})),t.d(r,"searchStatus",(function(){return Ao})),t.d(r,"searchResults",(function(){return Vo})),t.d(r,"searchData",(function(){return Bo})),t.d(r,"apiParams",(function(){return To}));var o={};t.r(o),t.d(o,"loadResults",(function(){return Io})),t.d(o,"debouncedSearch",(function(){return No})),t.d(o,"loadMore",(function(){return Ro})),t.d(o,"updateSearchValue",(function(){return Lo})),t.d(o,"open",(function(){return Fo})),t.d(o,"close",(function(){return zo})),t.d(o,"initialize",(function(){return Ho}));var i={};t.r(i),t.d(i,"INIT",(function(){return Ko})),t.d(i,"RESET",(function(){return Wo})),t.d(i,"OPEN_SELECTOR",(function(){return Qo})),t.d(i,"CLOSE_SELECTOR",(function(){return Xo})),t.d(i,"LOAD_CITATIONS",(function(){return Yo})),t.d(i,"CLEAR_SEARCH_RESULTS",(function(){return Zo})),t.d(i,"UPDATE_SEARCH_VALUE",(function(){return Jo}));var a={};t.r(a),t.d(a,"citation",(function(){return Qi})),t.d(a,"citationStyle",(function(){return Xi})),t.d(a,"entityDefaultCitation",(function(){return Yi})),t.d(a,"entityType",(function(){return Zi})),t.d(a,"apiParams",(function(){return Ji}));var s={};t.r(s),t.d(s,"loadCitation",(function(){return na})),t.d(s,"changeCitationStyle",(function(){return ta})),t.d(s,"initialize",(function(){return ra}));var f={};t.r(f),t.d(f,"INIT",(function(){return ia})),t.d(f,"LOAD_CITATION",(function(){return aa})),t.d(f,"CHANGE_STYLE",(function(){return sa}));t(123);var l=t(347),c=t.n(l),u=t(356),d=t.n(u),p=t(369),h=t(361),g=t(348),m=t.n(g),y=t(355),v=t(385);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function _(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function x(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,n,t){return n&&x(e.prototype,n),t&&x(e,t),e}function S(e,n){return!n||"object"!==b(n)&&"function"!=typeof n?k(e):n}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&M(e,n)}function M(e,n){return(M=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function C(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var E=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contextProps";return function(t){if(!e||!t)throw new Error("No Consumer or Child provided to `withConsumer` helper");return(function(r){function o(){var e,r;_(this,o);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return C(k(r=S(this,(e=j(o)).call.apply(e,[this].concat(a)))),"renderChild",(function(e){var o=C({},n,e);return c.a.createElement(t,w({},r.props,o))})),r}return P(o,r),O(o,[{key:"render",value:function(){return c.a.createElement(e,null,this.renderChild)}}]),o}(l.Component))}};function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function B(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,n){return!n||"object"!==A(n)&&"function"!=typeof n?I(e):n}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,n){return(N=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function R(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var L=Object(l.createContext)({node:null,setNode:function(){return null}}),F=L.Provider,z=L.Consumer,H=function(e){function n(){var e,t;V(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return R(I(t=T(this,(e=D(n)).call.apply(e,[this].concat(o)))),"setNode",(function(e){return t.setState({node:e})})),t.state={node:null,setNode:t.setNode},t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&N(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){return c.a.createElement(F,{value:this.state},this.props.children)}}])&&B(t.prototype,r),o&&B(t,o),n}(l.Component);R(H,"propTypes",{children:m.a.any.isRequired});var q=z;function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function K(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,n){return!n||"object"!==G(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,n){return(X=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Y,Z,J,$=function(e){function n(){return U(this,n),W(this,Q(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&X(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props.screenContext;return c.a.createElement("div",{ref:e.setNode})}}])&&K(t.prototype,r),o&&K(t,o),n}(l.Component);Y=$,Z="propTypes",J={screenContext:m.a.object.isRequired},Z in Y?Object.defineProperty(Y,Z,{value:J,enumerable:!0,configurable:!0,writable:!0}):Y[Z]=J;var ee=E(q,"screenContext")($),ne=t(386),te=t(389),re=t(357),oe=t(359),ie=t(349),ae=t.n(ie),se=t(393),fe=t(428),le=t.n(fe);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function de(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,n){return!n||"object"!==ce(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,n){return(ge=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function me(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ye=function(e){function n(){return ue(this,n),pe(this,he(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ge(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.mode,t=e.url,r=e.onClick,o=e.className,i=[le.a.figshareButton,me({},le.a.mobileMode,n===re.b),o];return c.a.createElement("a",{"aria-label":"Open in figshare",className:ae()(i),href:t,rel:"noopener noreferrer",target:"_blank",onClick:r},c.a.createElement(se.a,null),c.a.createElement("div",{"aria-hidden":!0,className:le.a.figshareText},"fig",c.a.createElement("strong",null,"share")))}}])&&de(t.prototype,r),o&&de(t,o),n}(l.Component);me(ye,"propTypes",{className:m.a.string,mode:m.a.oneOf([re.a,re.b]),url:m.a.string,onClick:m.a.func}),me(ye,"defaultProps",{className:void 0,mode:re.a,url:"#",onClick:function(){}});var ve=t(350),be=function(e,n){if(!e||!n)return!1;if(n.contains)return n.contains(e);if(n.compareDocumentPosition){var t=n.compareDocumentPosition(e);return n===e||!!(16&t)}for(var r=e;r;){if(r===n)return!0;r=r.parentNode}return!1},we=Object(l.createContext)({menuRef:null,menuNode:null,toggleRef:null,toggleNode:null,isVisible:!1,onToggle:null}),_e=we.Provider,xe=we.Consumer,Oe=t(430),Se=t.n(Oe);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Pe(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,n){return!n||"object"!==je(n)&&"function"!=typeof n?Ee(e):n}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e,n){return(Ae=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Ve(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Be=function(e){function n(){var e,t;ke(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ve(Ee(t=Me(this,(e=Ce(n)).call.apply(e,[this].concat(o)))),"setTriggerRef",(function(){var e=t.props,n=e.triggerRef,r=e.menuContext,o=r.toggleRef;o.apply(void 0,arguments),n.apply(void 0,arguments)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ae(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.context.theme,n=this.props,t=n.onKeyDown,r=n.menuContext,o=r.isVisible,i=r.onToggle;return c.a.createElement(ve.a,{"aria-expanded":o,"aria-haspopup":!0,"aria-label":"Menu",className:ae()(Se.a.listButton,e.inlineMode_toggleListButton),forwardedRef:this.setTriggerRef,onClick:i,onKeyDown:t})}}])&&Pe(t.prototype,r),o&&Pe(t,o),n}(l.Component);Ve(Be,"propTypes",{menuContext:m.a.object.isRequired,triggerRef:m.a.func,onKeyDown:m.a.func}),Ve(Be,"defaultProps",{triggerRef:function(){},onKeyDown:function(){}}),Ve(Be,"contextTypes",{theme:m.a.object});var Te=E(xe,"menuContext")(Be);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ne(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,n){return!n||"object"!==De(n)&&"function"!=typeof n?Fe(e):n}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e,n){return(ze=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function He(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var qe=function(e){function n(){var e,t;Ie(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return He(Fe(t=Re(this,(e=Le(n)).call.apply(e,[this].concat(o)))),"preventClose",!1),He(Fe(t),"containerNode",null),He(Fe(t),"setRef",(function(e){e&&e!==t.containerNode&&(t.props.innerRef(e),t.containerNode=e)})),He(Fe(t),"onClickCapture",(function(e){var n=!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey),r=0===e.button,o=t.containerNode,i=e.target;t.preventClose=n||!r||be(i,o)})),He(Fe(t),"onClick",(function(e){t.preventClose||t.props.onClose(e)})),He(Fe(t),"onKeyUp",(function(e){27===e.keyCode&&t.props.onClose(e)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ze(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){this.props.disabled||this.addListeners()}},{key:"componentDidUpdate",value:function(e){var n=e.disabled,t=this.props.disabled;!t&&n&&this.addListeners(),t&&!n&&this.removeListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){return this.props.children({ref:this.setRef})}},{key:"addListeners",value:function(){document.addEventListener("click",this.onClickCapture,!0),document.addEventListener("click",this.onClick),document.addEventListener("keyup",this.onKeyUp)}},{key:"removeListeners",value:function(){document.removeEventListener("click",this.onClickCapture,!0),document.removeEventListener("click",this.onClick),document.removeEventListener("keyup",this.onKeyUp)}}])&&Ne(t.prototype,r),o&&Ne(t,o),n}(l.Component);He(qe,"propTypes",{children:m.a.func.isRequired,disabled:m.a.bool,innerRef:m.a.func,onClose:m.a.func}),He(qe,"defaultProps",{children:null,disabled:!1,innerRef:function(){},onClose:function(){}});var Ge=t(377),Ue=t(379),Ke=t(367),We=t(432),Qe=t.n(We);function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ze(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,n){return!n||"object"!==Xe(n)&&"function"!=typeof n?en(e):n}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nn(e,n){return(nn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function tn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var rn=["button:not([disabled])","[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"]):not([disabled])'].join(", "),on=function(e){function n(){var e,t;Ye(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return tn(en(t=Je(this,(e=$e(n)).call.apply(e,[this].concat(o)))),"rootNode",null),tn(en(t),"setRootNode",(function(e){return t.rootNode=e})),tn(en(t),"onSelect",(function(){return t.props.onSelect(t.props.file)})),tn(en(t),"onView",(function(){return t.props.onView(t.props.file)})),tn(en(t),"onKeyDown",(function(e){var n=e.key,r=e.target;switch(n){case"ArrowLeft":t.focusSelectableNeighbour(r,-1),e.preventDefault();break;case"ArrowRight":t.focusSelectableNeighbour(r,1),e.preventDefault()}})),tn(en(t),"onFocus",(function(e){e.target===t.rootNode&&t.focusSelectableNeighbour(null,0)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&nn(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.file,t=e.preferFileMetadata;if(!n)return null;var r="",o="";if(t&&n.title)r=c.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.title},className:Qe.a.fileBase});else{var i=n.name,a=i.lastIndexOf(".");-1!==a&&i.length-a<=6&&(o=i.substr(a),i=i.substr(0,a)),r=c.a.createElement("span",{className:Qe.a.fileBase},i)}return c.a.createElement("li",{ref:this.setRootNode,className:Qe.a.fileDetails,role:"menuitem",tabIndex:0,onFocus:this.onFocus,onKeyDown:this.onKeyDown},c.a.createElement(ve.a,{className:Qe.a.fileName,onClick:this.onSelect},r,c.a.createElement("span",{className:Qe.a.fileExt},o)),this.renderViewAction(),this.renderDownloadAction())}},{key:"renderViewAction",value:function(){var e=this.context.theme,n=this.props,t=n.file,r=n.mode;if((t.virusScanInfo||{}).virus_found)return null;var o=Object(Ke.c)(t.viewerType),i=[Qe.a.viewButton,tn({},Qe.a.mobileMode,r===re.b),e.fileListScreen_viewButton];return c.a.createElement(ve.a,{className:ae()(i),disabled:!o,onClick:this.onView},c.a.createElement("span",{className:Qe.a.buttonText},"view"))}},{key:"renderDownloadAction",value:function(){var e=this.context.theme,n=this.props,t=n.file,r=n.mode,o=t.downloadUrl,i=t.name;if((t.virusScanInfo||{}).virus_found)return null;var a=[Qe.a.downloadButton,tn({},Qe.a.mobileMode,r===re.b),e.fileListScreen_downloadButton];return c.a.createElement("a",{"aria-label":"download",className:ae()(a),download:i,href:o},c.a.createElement("span",{"aria-hidden":!0,className:Qe.a.buttonText},"download"))}},{key:"focusSelectableNeighbour",value:function(e,n){if(this.rootNode){var t=Array.from(this.rootNode.querySelectorAll(rn)),r=t.indexOf(e),o=null;if(-1!==r){var i=t.length;o=t[(i+r+n)%i]}else o=n>=0?t[0]:t.pop();o&&o.focus&&o.focus()}}}])&&Ze(t.prototype,r),o&&Ze(t,o),n}(l.Component);tn(on,"propTypes",{preferFileMetadata:m.a.bool.isRequired,file:m.a.object,mode:m.a.oneOf([re.a,re.b]),onSelect:m.a.func,onView:m.a.func}),tn(on,"defaultProps",{file:null,mode:re.a,onSelect:function(){},onView:function(){}}),tn(on,"contextTypes",{theme:m.a.object});var an=t(434),sn=t.n(an);function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ln(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function cn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,n){return!n||"object"!==fn(n)&&"function"!=typeof n?pn(e):n}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hn(e,n){return(hn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function gn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var mn=function(e){function n(){var e,t;ln(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return gn(pn(t=un(this,(e=dn(n)).call.apply(e,[this].concat(o)))),"renderContent",(function(e){var n=e.ref,r=t.props,o=r.arrowOffset,i=r.files,a=r.onKeyDown,s=r.onLoadMore;return c.a.createElement(Ge.a,{arrowLocation:"bottom",className:sn.a.arrowContainer,xOffset:o,onKeyDown:a},c.a.createElement(Ue.a,{"aria-label":"Files",as:"ul",className:sn.a.listContainer,role:"menu",wrapperRef:n,onBottomReached:s},i.map(t.renderFile)))})),gn(pn(t),"renderFile",(function(e){var n=t.props,r=n.mode,o=n.preferFileMetadata;return c.a.createElement(on,{key:e.UID,file:e,mode:r,preferFileMetadata:o,onSelect:t.onSelect,onView:t.onView})})),gn(pn(t),"onSelect",(function(e){var n=t.props,r=n.files,o=n.onSelect,i=r.indexOf(e);t.onClose(),-1!==i&&o(i)})),gn(pn(t),"onView",(function(e){var n=t.props,r=n.files,o=n.onSelect,i=n.onView,a=r.indexOf(e);t.onClose(),-1!==a&&(o(a),setTimeout(i,0))})),gn(pn(t),"onClose",(function(e){(0,t.props.menuContext.onToggle)(e,!1)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&hn(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.menuContext,t=e.containerContext,r=n.menuRef,o=n.isVisible,i=t.node;return i&&o?Object(u.createPortal)(c.a.createElement(qe,{disabled:!o,innerRef:r,onClose:this.onClose},this.renderContent),i):null}}])&&cn(t.prototype,r),o&&cn(t,o),n}(l.Component);gn(mn,"propTypes",{containerContext:m.a.object.isRequired,files:m.a.array.isRequired,menuContext:m.a.object.isRequired,preferFileMetadata:m.a.bool.isRequired,arrowOffset:m.a.number,mode:m.a.oneOf([re.a,re.b]),onKeyDown:m.a.func,onLoadMore:m.a.func,onSelect:m.a.func,onView:m.a.func}),gn(mn,"defaultProps",{arrowOffset:0,mode:re.a,onKeyDown:function(){},onLoadMore:function(){},onSelect:function(){},onView:function(){}});var yn=E(q,"containerContext")(mn),vn=E(xe,"menuContext")(yn),bn=Object(y.c)((function(e){var n=oe.d.uiState(e).arrowOffset,t=oe.d.filesNavigation(e).files,r=oe.d.optionsState(e).preferFileMetadata;return{arrowOffset:n.fileList,files:t,preferFileMetadata:r}}),{onLoadMore:oe.a.loadMore,onSelect:oe.a.changeFileIndex,onView:function(){return oe.a.openScreen(re.c.enlarge)}})(vn);function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function xn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function On(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xn(Object(t),!0).forEach((function(n){En(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Sn(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function jn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kn(e,n){return!n||"object"!==wn(n)&&"function"!=typeof n?Mn(e):n}function Pn(e){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e,n){return(Cn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function En(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var An=function(e){function n(){var e,t;Sn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return En(Mn(t=kn(this,(e=Pn(n)).call.apply(e,[this].concat(o)))),"setMenuRef",(function(e){return t.setState((function(n){return{context:On({},n.context,{menuNode:e})}}))})),En(Mn(t),"setToggleRef",(function(e){return t.setState((function(n){return{context:On({},n.context,{toggleNode:e})}}))})),En(Mn(t),"onToggle",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t.state.context,o=r.isVisible,i=_n(r,["isVisible"]),a=e||{},s=a.target;t.setState({context:On({},i,{isVisible:null!==n?n:!o})},(function(){t.state.context.isVisible&&setTimeout((function(){return t.focusSelectableNeighbour(s,1)}),0)}))})),En(Mn(t),"onKeyDown",(function(e){var n=t.state.context.isVisible,r=e.key,o=e.target;switch(r){case"ArrowUp":n&&(t.focusSelectableNeighbour(o,-1),e.preventDefault());break;case"ArrowDown":e.preventDefault(),n?t.focusSelectableNeighbour(o,1):(t._focusLast=!0,t.onToggle(e,!0));break;case"Home":n&&(t.focusSelectableNeighbour(null,1),e.preventDefault());break;case"End":n&&(t.focusSelectableNeighbour(null,-1),e.preventDefault());break;case"Escape":case"Tab":t.onToggle(e,!1)}})),t.state={context:{onToggle:t.onToggle,menuRef:t.setMenuRef,toggleRef:t.setToggleRef,isVisible:!1}},t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Cn(e,n)}(n,e),t=n,(r=[{key:"componentDidUpdate",value:function(e,n){var t=n.context.isVisible,r=this.state.context.isVisible,o=r&&!t,i=!r&&t,a=this.state.context,s=a.menuNode,f=a.toggleNode;o&&s&&"menu"===s.getAttribute("role")&&(this._focusLast?this.focusSelectableNeighbour(null,-1):this.focusSelectableNeighbour(null,1),this._focusLast=!1),i&&this._focusInDropdown&&f&&f.focus&&(this._focusInDropdown=!1,f.focus())}},{key:"render",value:function(){var e=this.props,n=e.mode,t=e.triggerRef,r=this.state.context.menuNode;return r&&(this._focusInDropdown=r.contains(document.activeElement)),c.a.createElement(_e,{value:this.state.context},c.a.createElement(Te,{mode:n,triggerRef:t,onKeyDown:this.onKeyDown}),c.a.createElement(bn,{mode:n,onKeyDown:this.onKeyDown}))}},{key:"focusSelectableNeighbour",value:function(e,n){var t=this.state.context.menuNode;if(t){var r=Array.from(t.querySelectorAll("* > ul > li")),o=r.findIndex((function(n){return be(e,n)})),i=null;if(-1!==o){var a=r.length;i=r[(a+o+n)%a]}else i=n>=0?r[0]:r.pop();i&&i.focus&&i.focus()}}}])&&jn(t.prototype,r),o&&jn(t,o),n}(l.Component);En(An,"propTypes",{mode:m.a.oneOf([re.a,re.b]),triggerRef:m.a.func}),En(An,"defaultProps",{mode:re.a,triggerRef:function(){}});var Vn=t(436),Bn=t.n(Vn);function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function In(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nn(e,n){return!n||"object"!==Tn(n)&&"function"!=typeof n?Ln(e):n}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fn(e,n){return(Fn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function zn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Hn=function(e){function n(){var e,t;Dn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return zn(Ln(t=Nn(this,(e=Rn(n)).call.apply(e,[this].concat(o)))),"onPrev",(function(){var e=t.props,n=e.fileIndex;(0,e.onFileChange)(Math.max(0,n-1))})),zn(Ln(t),"onNext",(function(){var e=t.props,n=e.fileCount,r=e.fileIndex;(0,e.onFileChange)(Math.min(r+1,n))})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Fn(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.context.theme,n=this.props,t=n.fileCount,r=n.fileIndex,o=n.mode,i=n.listButtonRef,a=n.className;if(t<=1)return null;var s=[Bn.a.container,zn({},Bn.a.mobileMode,o===re.b),a],f=r<=0,l=r===t-1;return c.a.createElement("div",{className:ae()(s)},c.a.createElement("div",{className:Bn.a.info},r+1," / ",t),c.a.createElement(ve.a,{"aria-label":"Previous",className:ae()(Bn.a.prevButton,e.inlineMode_prevFileButton),disabled:f,tabIndex:0,onClick:this.onPrev}),c.a.createElement(ve.a,{"aria-label":"Next",className:ae()(Bn.a.nextButton,e.inlineMode_nextFileButton),disabled:l,tabIndex:0,onClick:this.onNext}),c.a.createElement(An,{mode:o,triggerRef:i}))}}])&&In(t.prototype,r),o&&In(t,o),n}(l.Component);zn(Hn,"propTypes",{fileCount:m.a.number.isRequired,fileIndex:m.a.number.isRequired,className:m.a.string,listButtonRef:m.a.func,mode:m.a.oneOf([re.a,re.b]),onFileChange:m.a.func}),zn(Hn,"defaultProps",{className:void 0,listButtonRef:function(){},mode:re.a,onFileChange:function(){}}),zn(Hn,"contextTypes",{theme:m.a.object});var qn=Object(l.createContext)({menuRef:null,menuNode:null,toggleRef:null,toggleNode:null,isVisible:!1,onToggle:null}),Gn=qn.Provider,Un=qn.Consumer,Kn=t(438),Wn=t.n(Kn);function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Yn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zn(e,n){return!n||"object"!==Qn(n)&&"function"!=typeof n?$n(e):n}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e,n){return(et=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function nt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var tt=function(e){function n(){var e,t;Xn(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return nt($n(t=Zn(this,(e=Jn(n)).call.apply(e,[this].concat(o)))),"setTriggerRef",(function(){var e=t.props,n=e.triggerRef,r=e.menuContext,o=r.toggleRef;o.apply(void 0,arguments),n.apply(void 0,arguments)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&et(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.file,t=e.fileCount,r=e.theme,o=e.mode,i=e.onKeyDown,a=e.menuContext,s=[Wn.a.downloadButton,nt({},Wn.a.mobileMode,o===re.b)],f=!!n&&!n.size;if(!t||f)return null;var l=(n.virusScanInfo||{}).virus_found;if(1===t&&!l)return c.a.createElement("a",{"aria-label":"Download",className:ae()(s,r.inlineMode_downloadButton),href:n.downloadUrl},c.a.createElement("span",{"aria-hidden":!0,className:Wn.a.buttonText},"Download"));var u=a.isVisible,d=a.onToggle,p=1===t&&l;return c.a.createElement(ve.a,{"aria-expanded":u,"aria-haspopup":!0,"aria-label":"Download",className:ae()(s,r.inlineMode_downloadButton),disabled:p,forwardedRef:this.setTriggerRef,onClick:d,onKeyDown:i},c.a.createElement("span",{"aria-hidden":!0,className:Wn.a.buttonText},"Download"))}}])&&Yn(t.prototype,r),o&&Yn(t,o),n}(l.Component);nt(tt,"propTypes",{file:m.a.object.isRequired,fileCount:m.a.number.isRequired,menuContext:m.a.object.isRequired,mode:m.a.oneOf([re.a,re.b]),theme:m.a.object,triggerRef:m.a.func,onKeyDown:m.a.func}),nt(tt,"defaultProps",{mode:re.a,theme:null,triggerRef:function(){},onKeyDown:function(){}});var rt=Object(y.c)((function(e){var n=oe.d.currentEntities(e);return{file:n.file,fileCount:n.fileCount}}))(E(Un,"menuContext")(tt)),ot=t(387),it=t(440),at=t.n(it);function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function lt(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,n){return!n||"object"!==st(n)&&"function"!=typeof n?dt(e):n}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(e,n){return(pt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ht(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var gt=function(e){function n(){var e,t;ft(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ht(dt(t=ct(this,(e=ut(n)).call.apply(e,[this].concat(o)))),"renderContent",(function(e){var n=e.ref,r=t.props,o=r.onKeyDown,i=r.theme,a=r.entity,s=r.arrowOffset;return c.a.createElement(Ge.a,{arrowLocation:"bottom",className:at.a.wrapper,xOffset:s,onKeyDown:o},c.a.createElement("div",{ref:n,"aria-label":"Download",className:at.a.container,role:"menu"},t.renderDownloadFile(),c.a.createElement("a",{className:ae()(at.a.downloadItem,i.downloadScreen_downloadButton),href:a.downloadUrl,role:"menuitem"},"Download all")))})),ht(dt(t),"onClose",(function(e){(0,t.props.menuContext.onToggle)(e,!1)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&pt(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.menuContext,t=e.containerContext,r=n.menuRef,o=n.isVisible,i=t.node;return i&&o?Object(u.createPortal)(c.a.createElement(qe,{disabled:!o,innerRef:r,onClose:this.onClose},this.renderContent),i):null}},{key:"renderDownloadFile",value:function(){var e=this.props,n=e.file,t=e.theme,r=(n.virusScanInfo||{}).virus_found,o=[at.a.downloadItem,t.downloadScreen_downloadButton];return r?c.a.createElement(ve.a,{className:ae()(o),disabled:!0},"Download is not available for this file."):c.a.createElement("a",{className:ae()(o),href:n.downloadUrl,role:"menuitem"},"Download this file (",c.a.createElement(ot.a,{value:n.size}),")")}}])&&lt(t.prototype,r),o&&lt(t,o),n}(l.Component);ht(gt,"propTypes",{containerContext:m.a.object.isRequired,entity:m.a.object.isRequired,file:m.a.object.isRequired,menuContext:m.a.object.isRequired,theme:m.a.object.isRequired,arrowOffset:m.a.number,onKeyDown:m.a.func}),ht(gt,"defaultProps",{arrowOffset:0,onKeyDown:function(){}});var mt=E(q,"containerContext")(gt),yt=E(Un,"menuContext")(mt),vt=Object(y.c)((function(e){var n=oe.d.uiState(e).arrowOffset,t=oe.d.currentEntities(e),r=t.file,o=t.collection,i=t.item,a=o.id?o:i;return{arrowOffset:n.download,entity:a,file:r}}))(yt);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function _t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function xt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_t(Object(t),!0).forEach((function(n){Ct(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_t(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ot(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function St(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,n){return!n||"object"!==bt(n)&&"function"!=typeof n?Pt(e):n}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e,n){return(Mt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Ct(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Et=function(e){function n(){var e,t;Ot(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ct(Pt(t=jt(this,(e=kt(n)).call.apply(e,[this].concat(o)))),"setMenuRef",(function(e){return t.setState((function(n){return{context:xt({},n.context,{menuNode:e})}}))})),Ct(Pt(t),"setToggleRef",(function(e){return t.setState((function(n){return{context:xt({},n.context,{toggleNode:e})}}))})),Ct(Pt(t),"onToggle",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t.state.context,o=r.isVisible,i=wt(r,["isVisible"]),a=e||{},s=a.target;t.setState({context:xt({},i,{isVisible:null!==n?n:!o})},(function(){t.state.context.isVisible&&setTimeout((function(){return t.focusSelectableNeighbour(s,1)}),0)}))})),Ct(Pt(t),"onKeyDown",(function(e){var n=t.state.context.isVisible,r=e.key,o=e.target;switch(r){case"ArrowUp":n&&(t.focusSelectableNeighbour(o,-1),e.preventDefault());break;case"ArrowDown":e.preventDefault(),n?t.focusSelectableNeighbour(o,1):(t._focusLast=!0,t.onToggle(e,!0));break;case"Home":n&&(t.focusSelectableNeighbour(null,1),e.preventDefault());break;case"End":n&&(t.focusSelectableNeighbour(null,-1),e.preventDefault());break;case"Escape":case"Tab":t.onToggle(e,!1)}})),t.state={context:{onToggle:t.onToggle,menuRef:t.setMenuRef,toggleRef:t.setToggleRef,isVisible:!1}},t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Mt(e,n)}(n,e),t=n,(r=[{key:"componentDidUpdate",value:function(e,n){var t=n.context.isVisible,r=this.state.context.isVisible,o=r&&!t,i=!r&&t,a=this.state.context,s=a.menuNode,f=a.toggleNode;o&&s&&"menu"===s.getAttribute("role")&&(this._focusLast?this.focusSelectableNeighbour(null,-1):this.focusSelectableNeighbour(null,1),this._focusLast=!1),i&&this._focusInDropdown&&f&&f.focus&&(this._focusInDropdown=!1,f.focus())}},{key:"render",value:function(){var e=this.props,n=e.mode,t=e.theme,r=e.triggerRef,o=this.state.context.menuNode;return o&&(this._focusInDropdown=o.contains(document.activeElement)),c.a.createElement(Gn,{value:this.state.context},c.a.createElement(rt,{mode:n,theme:t,triggerRef:r,onKeyDown:this.onKeyDown}),c.a.createElement(vt,{theme:t,onKeyDown:this.onKeyDown}))}},{key:"focusSelectableNeighbour",value:function(e,n){var t=this.state.context.menuNode;if(t){var r=Array.from(t.querySelectorAll("* > a")),o=r.indexOf(e),i=null;if(-1!==o){var a=r.length;i=r[(a+o+n)%a]}else i=n>=0?r[0]:r.pop();i&&i.focus&&i.focus()}}}])&&St(t.prototype,r),o&&St(t,o),n}(l.Component);Ct(Et,"propTypes",{mode:m.a.oneOf([re.a,re.b]),theme:m.a.object,triggerRef:m.a.func}),Ct(Et,"defaultProps",{mode:re.a,theme:void 0,triggerRef:function(){}});var At=t(442),Vt=t.n(At);function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Dt(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,n){return!n||"object"!==Bt(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e,n){return(Rt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Lt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ft=function(e){function n(){return Tt(this,n),It(this,Nt(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Rt(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.className,t=e.mode,r=e.showShareButton,o=e.onEnlargeToggle,i=e.onShareToggle,a=this.props,s=a.shareButtonRef,f=a.downloadButtonRef,l=this.context.theme,u=t===re.b,d=[Vt.a.container,Lt({},Vt.a.mobileMode,u),n],p=[Vt.a.enlargeButton,Lt({},Vt.a.hide,u),l.inlineMode_enlargeButton],h=[Vt.a.shareButton,Lt({},Vt.a.hide,!r),l.inlineMode_shareButton];return c.a.createElement("div",{className:ae()(d)},c.a.createElement(ve.a,{"aria-expanded":!1,"aria-haspopup":"dialog","aria-label":"Expand",className:ae()(p),onClick:o}),c.a.createElement(ve.a,{"aria-expanded":!1,"aria-haspopup":"dialog","aria-label":"Share",className:ae()(h),disabled:!r,forwardedRef:s,onClick:i},c.a.createElement("span",{"aria-hidden":!0,className:Vt.a.buttonText},"Share")),c.a.createElement(Et,{mode:t,theme:l,triggerRef:f}))}}])&&Dt(t.prototype,r),o&&Dt(t,o),n}(l.Component);Lt(Ft,"propTypes",{className:m.a.string,downloadButtonRef:m.a.func,mode:m.a.oneOf([re.a,re.b]),shareButtonRef:m.a.func,showShareButton:m.a.bool,onEnlargeToggle:m.a.func,onShareToggle:m.a.func}),Lt(Ft,"defaultProps",{className:void 0,downloadButtonRef:function(){},mode:re.a,shareButtonRef:function(){},showShareButton:!0,onEnlargeToggle:function(){},onShareToggle:function(){}}),Lt(Ft,"contextTypes",{theme:m.a.object});var zt=t(444),Ht=t.n(zt);function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ut(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e,n){return!n||"object"!==qt(n)&&"function"!=typeof n?Qt(e):n}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xt(e,n){return(Xt=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Yt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Zt=function(e){function n(){var e,t;Gt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Yt(Qt(t=Kt(this,(e=Wt(n)).call.apply(e,[this].concat(o)))),"downloadButtonNode",null),Yt(Qt(t),"listButtonNode",null),Yt(Qt(t),"shareButtonNode",null),Yt(Qt(t),"setDownloadButtonRef",(function(e){return t.downloadButtonNode=e})),Yt(Qt(t),"setListButtonRef",(function(e){return t.listButtonNode=e})),Yt(Qt(t),"setShareButtonRef",(function(e){return t.shareButtonNode=e})),Yt(Qt(t),"onEnlargeToggle",(function(){return t.props.onOpenScreen(re.c.enlarge)})),Yt(Qt(t),"onShareToggle",(function(){return t.props.onOpenScreen(re.c.share)})),Yt(Qt(t),"onResize",(function(){var e={download:30,fileList:30,share:30};if(t.downloadButtonNode){var n=t.downloadButtonNode,r=n.offsetLeft,o=n.offsetWidth;e.download=o/2+r}if(t.listButtonNode){var i=t.listButtonNode,a=i.offsetLeft,s=i.offsetWidth;e.fileList=s/2+a}if(t.shareButtonNode){var f=t.shareButtonNode,l=f.offsetLeft,c=f.offsetWidth;e.share=c/2+l}t.props.onButtonsPositionChange(e)})),Yt(Qt(t),"onLogoClick",(function(){var e=t.props,n=e.entity;(0,e.onLogoClick)(n.url)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Xt(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),setTimeout(this.onResize,0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var e=this.props,n=e.entity,t=e.fileCount,r=e.fileIndex,o=e.mode,i=e.showShareButton,a=e.onFileChange,s=e.fileNavRef;return c.a.createElement("footer",{className:Ht.a.footer},c.a.createElement("nav",{ref:s,"aria-label":"Figshare",className:Ht.a.navigation},c.a.createElement(Hn,{className:Ht.a.fileControls,fileCount:t,fileIndex:r,listButtonRef:this.setListButtonRef,mode:o,onFileChange:a}),c.a.createElement(Ft,{className:Ht.a.genericControls,downloadButtonRef:this.setDownloadButtonRef,mode:o,shareButtonRef:this.setShareButtonRef,showShareButton:i,onEnlargeToggle:this.onEnlargeToggle,onShareToggle:this.onShareToggle}),c.a.createElement(ye,{className:Ht.a.figshareButton,mode:o,url:n.url,onClick:this.onLogoClick})))}}])&&Ut(t.prototype,r),o&&Ut(t,o),n}(l.Component);Yt(Zt,"propTypes",{entity:m.a.object.isRequired,fileCount:m.a.number.isRequired,fileIndex:m.a.number.isRequired,onFileChange:m.a.func.isRequired,onLogoClick:m.a.func.isRequired,onOpenScreen:m.a.func.isRequired,fileNavRef:m.a.object,mode:m.a.oneOf([re.a,re.b]),showShareButton:m.a.bool,onButtonsPositionChange:m.a.func}),Yt(Zt,"defaultProps",{fileNavRef:null,mode:re.a,showShareButton:!0,onButtonsPositionChange:function(){}});var Jt=Object(y.c)((function(e){var n=oe.d.currentEntities(e),t=n.collection,r=n.fileCount,o=n.fileIndex,i=n.item;return{entity:t.id?t:i,fileCount:r,fileIndex:o}}),{onLogoClick:oe.a.trackLogoClick,onFileChange:oe.a.changeFileIndex,onOpenScreen:oe.a.openScreen,onButtonsPositionChange:oe.a.changeArrowOffset})(Zt),$t=t(446),er=t.n($t);function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function rr(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e,n){return!n||"object"!==nr(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function ir(e){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ar(e,n){return(ar=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function sr(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var fr=function(e){function n(){return tr(this,n),or(this,ir(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ar(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.entity,t=e.mode,r=[er.a.header,sr({},er.a.mobileMode,t===re.b)];return c.a.createElement("header",{className:ae()(r)},c.a.createElement("div",{className:er.a.titleSection},c.a.createElement("p",{dangerouslySetInnerHTML:{__html:n.title},className:er.a.title}),this.renderFileInfo()),this.renderStats())}},{key:"renderFileInfo",value:function(){var e=this.props,n=e.file,t=e.fileIndex,r=e.fileCount,o=e.showPageInfo,i=e.preferFileMetadata;if(r<=1||!o)return null;var a=r?t+1:0,s="";return s=i&&n.title?c.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.title},className:er.a.fileName}):c.a.createElement("span",{className:er.a.fileName},n.name),c.a.createElement("p",{className:er.a.fileInfoSection},"Showing ",a,"/",r,": ",s)}},{key:"renderStats",value:function(){var e=this.props,n=e.entity;if(!e.showStats)return null;var t=n.stats||{},r=t.downloads,o=void 0===r?0:r,i=t.shares,a=void 0===i?0:i,s=t.views,f=void 0===s?0:s;return c.a.createElement("div",{className:er.a.statsContainer},c.a.createElement("p",{className:er.a.statsSection},c.a.createElement("span",{className:er.a.statsCount}," ",f," "),c.a.createElement("span",{className:er.a.statsType}," views ")),c.a.createElement("p",{className:er.a.statsSection},c.a.createElement("span",{className:er.a.statsCount}," ",a," "),c.a.createElement("span",{className:er.a.statsType}," shares ")),c.a.createElement("p",{className:er.a.statsSection},c.a.createElement("span",{className:er.a.statsCount}," ",o," "),c.a.createElement("span",{className:er.a.statsType}," downloads ")))}}])&&rr(t.prototype,r),o&&rr(t,o),n}(l.Component);sr(fr,"propTypes",{entity:m.a.object.isRequired,file:m.a.object.isRequired,fileCount:m.a.number.isRequired,fileIndex:m.a.number.isRequired,preferFileMetadata:m.a.bool.isRequired,mode:m.a.oneOf([re.a,re.b]),showPageInfo:m.a.bool,showStats:m.a.bool}),sr(fr,"defaultProps",{mode:re.a,showPageInfo:!0,showStats:!0});var lr=Object(y.c)((function(e){var n=oe.d.currentEntities(e),t=n.collection,r=n.file,o=n.fileCount,i=n.fileIndex,a=n.item,s=oe.d.optionsState(e).preferFileMetadata;return{entity:t.id?t:a,file:r,fileCount:o,fileIndex:i,preferFileMetadata:s}}))(fr),cr=t(376),ur=t(388);function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function hr(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gr(e,n){return!n||"object"!==dr(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yr(e,n){return(yr=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function vr(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var br=function(e){function n(){return pr(this,n),gr(this,mr(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&yr(e,n)}(n,e),t=n,(r=[{key:"getChildContext",value:function(){return{theme:this.props.theme}}},{key:"render",value:function(){return this.props.children}}])&&hr(t.prototype,r),o&&hr(t,o),n}(l.Component);vr(br,"propTypes",{children:m.a.any,theme:m.a.object}),vr(br,"defaultProps",{children:null,theme:{}}),vr(br,"childContextTypes",{theme:m.a.object});var wr=t(420),_r=t(448),xr=t.n(_r);function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function jr(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kr(e,n){return!n||"object"!==Or(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mr(e,n){return(Mr=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Cr(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Er=function(e){function n(){return Sr(this,n),kr(this,Pr(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Mr(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.file,t=e.files,r=e.fileIndex,o=e.onChange,i=e.onClose,a=this.context,s=a.store,f=a.theme;return c.a.createElement(ur.a,{backdrop:!0,name:xr.a.overlayContainer,onEscPress:i},c.a.createElement(y.a,{store:s},c.a.createElement(br,{theme:f},c.a.createElement(wr.a,{currentFile:n,currentFileIndex:r,files:t,onChange:o,onClose:i}))))}}])&&jr(t.prototype,r),o&&jr(t,o),n}(l.Component);Cr(Er,"propTypes",{file:m.a.object.isRequired,fileIndex:m.a.number.isRequired,files:m.a.array.isRequired,onChange:m.a.func,onClose:m.a.func}),Cr(Er,"defaultProps",{onChange:function(){},onClose:function(){}}),Cr(Er,"contextTypes",{theme:m.a.object,store:m.a.object});var Ar=Object(y.c)((function(e){var n=oe.d.filesNavigation(e),t=n.files,r=n.index;return{file:t[r],fileIndex:r,files:t}}),{onChange:oe.a.changeFileIndex,onClose:oe.a.closeScreens})(Er),Vr=t(380),Br=t(351),Tr=t(450),Dr=t.n(Tr);function Ir(e){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nr(){return(Nr=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Rr(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function Lr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Fr(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,n){return!n||"object"!==Ir(n)&&"function"!=typeof n?qr(e):n}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gr(e,n){return(Gr=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Ur(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Kr=function(e){function n(){var e,t;Lr(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Ur(qr(t=zr(this,(e=Hr(n)).call.apply(e,[this].concat(o)))),"inputNode",null),Ur(qr(t),"setInputNode",(function(e){t.inputNode=e,t.props.inputRef(e)})),Ur(qr(t),"onChange",(function(e){return t.props.onChange(e.target.value)})),Ur(qr(t),"onClearSearch",(function(){t.props.onChange(""),t.focus()})),Ur(qr(t),"focus",(function(){t.inputNode&&t.inputNode.focus&&t.inputNode.focus()})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Gr(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.className,t=(e.inputRef,e.value),r=(e.onChange,Rr(e,["className","inputRef","value","onChange"]));return c.a.createElement("div",{className:ae()([Dr.a.container,n])},c.a.createElement("input",Nr({},r,{ref:this.setInputNode,className:Dr.a.searchInput,type:"search",value:t,onChange:this.onChange})),this.renderActionIcon())}},{key:"renderActionIcon",value:function(){var e=this.props.value,n=e?"Clear search":"Search",t=e?Dr.a.clearSearch:Dr.a.searchIcon;return c.a.createElement(ve.a,{"aria-label":n,className:t,disabled:!e,onClick:this.onClearSearch})}}])&&Fr(t.prototype,r),o&&Fr(t,o),n}(l.Component);Ur(Kr,"propTypes",{className:m.a.string,inputRef:m.a.func,value:m.a.string,onChange:m.a.func}),Ur(Kr,"defaultProps",{className:void 0,inputRef:function(){},value:void 0,onChange:function(){}});var Wr=t(452),Qr=t.n(Wr);function Xr(e){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Zr(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jr(e,n){return!n||"object"!==Xr(n)&&"function"!=typeof n?eo(e):n}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function no(e,n){return(no=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function to(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ro=function(e){function n(){var e,t;Yr(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return to(eo(t=Jr(this,(e=$r(n)).call.apply(e,[this].concat(o)))),"onSelect",(function(e){Object(Br.i)(e),t.props.onSelect(t.props.value)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&no(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.context.theme,n=this.props,t=n.className,r=n.value,o=r.title,i=r.selected,a=[Qr.a.option,to({},Qr.a.selected,i)];return c.a.createElement(ve.a,{className:ae()(a,t,e.citationSelector_itemButton),onClick:this.onSelect},o,this.renderDefaultFlag())}},{key:"renderDefaultFlag",value:function(){return this.props.isDefault?c.a.createElement("span",{className:Qr.a.defaultFlag}," (default)"):null}}])&&Zr(t.prototype,r),o&&Zr(t,o),n}(l.Component);to(ro,"propTypes",{value:m.a.object.isRequired,className:m.a.string,isDefault:m.a.bool,onSelect:m.a.func}),to(ro,"defaultProps",{className:void 0,isDefault:!1,onSelect:function(){}}),to(ro,"contextTypes",{theme:m.a.object});var oo=t(454),io=t.n(oo);function ao(e){return(ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function so(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function fo(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lo(e,n){return!n||"object"!==ao(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function co(e){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uo(e,n){return(uo=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function po(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ho=function(e){function n(){return so(this,n),lo(this,co(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&uo(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.count,t=e.error,r=e.loading,o=e.onRetry;return r?c.a.createElement("div",{className:ae()(io.a.container,io.a.loading)},"Loading results"):t&&!n?c.a.createElement("div",{className:ae()(io.a.container)},"Could not load styles.",c.a.createElement(ve.a,{onClick:o},"Retry")):n?c.a.createElement("div",{className:ae()(io.a.container,io.a.resultsInfo)},n," results found"):c.a.createElement("div",{className:ae()(io.a.container)},"No results found")}}])&&fo(t.prototype,r),o&&fo(t,o),n}(l.Component);po(ho,"propTypes",{count:m.a.number,error:m.a.bool,loading:m.a.bool,onRetry:m.a.func}),po(ho,"defaultProps",{count:0,error:!1,loading:!1,onRetry:function(){}});var go="@@citation-selector",mo=t(362),yo=t.n(mo),vo=t(374),bo=new vo.a({baseURL:"https://widgets.figshare.com",followLocation:!0}),wo=vo.a.ERR_ABORT,_o=t(383);function xo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Oo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function So(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var jo=function(e){return e.citationSelector||{}},ko=Object(_o.createSelector)(jo,(function(e){return e.search})),Po=Object(_o.createSelector)(jo,(function(e){return e.isOpen})),Mo=Object(_o.createSelector)(jo,(function(e){return e.defaultCitation})),Co=Object(_o.createSelector)(ko,(function(e){return e.value})),Eo=Object(_o.createSelector)(ko,(function(e){return e.reachedLimit})),Ao=Object(_o.createSelector)(ko,(function(e){var n=e.loading,t=e.results,r=e.error;return{isLoading:n&&!t.length,isLoadingMore:n&&!!t.length,error:r}})),Vo=Object(_o.createSelector)(ko,Ao,Mo,(function(e,n,t){var r=n.isLoading,o=n.error;return r||o?[]:e.resultsSearchTerm?e.results:[t].concat(So(e.results))})),Bo=Object(_o.createSelector)(Ao,Vo,Co,(function(e,n,t){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xo(Object(t),!0).forEach((function(n){Oo(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e,{items:n,searchTerm:t})})),To=Object(_o.createSelector)(ko,Mo,(function(e,n){var t=e.results,r=e.value;return{offset:t.length,ignore:r?void 0:[n.id],search:r}})),Do={searchPromise:void 0},Io=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,t){Do.searchPromise&&Do.searchPromise.abort(),e&&n({type:"".concat(go,"/CLEAR_SEARCH_RESULTS")});var r=yo()({type:"".concat(go,"/LOAD_CITATIONS")}),o=To(t()),i=o.offset,a=o.search,s=o.ignore;Do.searchPromise=bo.getCitations({limit:40,offset:i,search:a,ignore:s}),n(r({loading:!0})),Do.searchPromise.then((function(e){var t=e.citations.length<40;n(r({loading:!1,payload:e,reachedLimit:t})),Do.searchPromise=void 0}),(function(e){e!==wo&&(n(r({loading:!1,error:!0})),Do.searchPromise=void 0)}))}},No=Object(Br.f)(Io(!0),300),Ro=function(){return function(e,n){var t=n(),r=Eo(t),o=Ao(t),i=o.error,a=o.isLoading,s=o.isLoadingMore;r||i||a||s||e(Io())}},Lo=function(e){return function(n){n({type:"".concat(go,"/UPDATE_SEARCH_VALUE"),value:e}),(!e||e.length>=3)&&n(No)}},Fo=function(){return function(e){e({type:"".concat(go,"/OPEN_SELECTOR")}),e(Io())}},zo=function(){return function(e){e({type:"".concat(go,"/RESET")})}},Ho=function(){return function(e){e({type:"".concat(go,"/INIT")})}},qo=t(368),Go={isOpen:!1,defaultCitation:qo.a,search:{value:"",resultsSearchTerm:"",error:!1,loading:!1,results:[],reachedLimit:!1}};function Uo(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ko(e){return yo()({isOpen:e.isOpen},Go)}function Wo(){return Go}function Qo(e){return yo()({isOpen:!0},e)}function Xo(e){return yo()({isOpen:!1},e)}function Yo(e,n){var t=n.loading,r=n.reachedLimit,o=n.payload,i=n.error,a=e.search,s={error:!!i,loading:!!t,reachedLimit:!!r,resultsSearchTerm:a.value};return!t&&o&&(s.results=[].concat(Uo(a.results),Uo(o.citations))),yo()({search:s},e)}function Zo(e){var n=e.search,t=yo()({error:!1,loading:!1,results:[],reachedLimit:!1},n);return yo()({search:t},e)}function Jo(e,n){var t=n.value;return yo()({search:{value:t}},e)}var $o=o,ei=r,ni=Object(h.b)(i,Go,go),ti=t(456),ri=t.n(ti);function oi(e){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ii(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ai(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function si(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fi(e,n){return!n||"object"!==oi(n)&&"function"!=typeof n?ci(e):n}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e,n){return(ui=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function di(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var pi=function(e){function n(){var e,t;ai(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return di(ci(t=fi(this,(e=li(n)).call.apply(e,[this].concat(o)))),"state",{searchVisible:!0}),di(ci(t),"renderOption",(function(e){var n=e.id,r=t.props,o=r.defaultCitation,i=r.onSelect;return c.a.createElement(ro,{key:n,isDefault:o.id===n,value:e,onSelect:i})})),di(ci(t),"searchParentNode",null),di(ci(t),"setSearchParentNode",(function(e){return t.searchParentNode=e})),di(ci(t),"searchNode",null),di(ci(t),"setSearchNode",(function(e){return t.searchNode=e})),di(ci(t),"onSearch",(function(){t.searchNode&&t.searchNode.focus()})),di(ci(t),"onListScroll",(function(){var e=t.searchIsVisibleInParent();t.state.searchVisible!==e&&t.setState({searchVisible:e})})),di(ci(t),"onBack",(function(e){Object(Br.i)(e),t.props.onBack()})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ui(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.context.theme,n=this.props,t=n.error,r=n.loading,o=n.searchTerm,i=n.value,a=n.onLoadMore,s=n.onSearchChange,f=n.onSearchRetry,l=!!o,u=this.state.searchVisible;return c.a.createElement("div",{className:ri.a.container},c.a.createElement("div",{className:ri.a.footer},c.a.createElement(ve.a,{className:ae()(ri.a.backButton,e.citationSelector_backButton),onClick:this.onBack},"Back"),c.a.createElement(ve.a,{"aria-label":"Search",className:ae()(ri.a.searchButton,e.citationSelector_searchButton),disabled:u,onClick:this.onSearch})),c.a.createElement(Ue.a,{className:ae()(ri.a.outsideArea,di({},ri.a.activeScroll,!l)),threshold:150,wrapperRef:this.setSearchParentNode,onBottomReached:a,onScroll:this.onListScroll},c.a.createElement(Kr,{className:ri.a.searchInput,inputRef:this.setSearchNode,placeholder:"Search citation style...",value:o,onChange:s}),c.a.createElement(Ue.a,{className:ae()(ri.a.innerArea,di({},ri.a.activeScroll,l)),threshold:150,onBottomReached:a},i.map(this.renderOption),c.a.createElement(ho,{count:i.length,error:t,loading:r,onRetry:f}))))}},{key:"searchIsVisibleInParent",value:function(){return this.searchNode.offsetTop+this.searchNode.offsetHeight>this.searchParentNode.scrollTop}}])&&si(t.prototype,r),o&&si(t,o),n}(l.Component);di(pi,"propTypes",{defaultCitation:m.a.object.isRequired,error:m.a.bool.isRequired,loading:m.a.bool.isRequired,searchTerm:m.a.string.isRequired,value:m.a.array.isRequired,onBack:m.a.func,onLoadMore:m.a.func,onSearchChange:m.a.func,onSearchRetry:m.a.func,onSelect:m.a.func}),di(pi,"defaultProps",{onBack:function(){},onLoadMore:function(){},onSearchChange:function(){},onSearchRetry:function(){},onSelect:function(){}}),di(pi,"contextTypes",{theme:m.a.object});var hi=Object(y.c)((function(e,n){var t=ei.searchData(e),r=t.error,o=t.isLoading,i=t.isLoadingMore,a=t.items,s=t.searchTerm,f=o||i,l=ei.defaultCitation(e),c={};return n.value.forEach((function(e){var n=e.id;return c[n]=!0})),{defaultCitation:l,error:r,loading:f,searchTerm:s,value:a.map((function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ii(Object(t),!0).forEach((function(n){di(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ii(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e,{selected:!!c[e.id]})}))}}),{onBack:$o.close,onLoadMore:$o.loadMore,onSearchChange:$o.updateSearchValue,onSearchRetry:$o.loadResults})(pi),gi=t(458),mi=t.n(gi);function yi(e){return(yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vi(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function bi(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wi(e,n){return!n||"object"!==yi(n)&&"function"!=typeof n?xi(e):n}function _i(e){return(_i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oi(e,n){return(Oi=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Si(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ji=function(e){function n(){var e,t;vi(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Si(xi(t=wi(this,(e=_i(n)).call.apply(e,[this].concat(o)))),"onSelect",(function(e){t.props.onClose(),t.props.onChange([e])})),Si(xi(t),"onTriggerClick",(function(e){Object(Br.i)(e),t.props.onOpen()})),t.props.onInitialize(),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Oi(e,n)}(n,e),t=n,(r=[{key:"componentWillUnmount",value:function(){this.props.onClose()}},{key:"render",value:function(){return c.a.createElement("div",{className:mi.a.container},this.renderContent())}},{key:"renderContent",value:function(){var e=this.context.theme,n=this.props,t=n.value;if(!n.isOpen){var r=t[0].title;return c.a.createElement(ve.a,{className:ae()(mi.a.trigger,e.citationSelector_triggerButton),onClick:this.onTriggerClick},c.a.createElement("span",{className:mi.a.buttonText},r))}return this.renderSearchScreen()}},{key:"renderSearchScreen",value:function(){var e=this.props.value;return c.a.createElement(hi,{value:e,onSelect:this.onSelect})}}])&&bi(t.prototype,r),o&&bi(t,o),n}(l.Component);Si(ji,"propTypes",{isOpen:m.a.bool.isRequired,value:m.a.array.isRequired,onChange:m.a.func.isRequired,onClose:m.a.func.isRequired,onInitialize:m.a.func.isRequired,onOpen:m.a.func.isRequired}),Si(ji,"contextTypes",{theme:m.a.object});var ki=Object(y.c)((function(e){return{isOpen:ei.isOpen(e)}}),{onInitialize:$o.initialize,onClose:$o.close,onOpen:$o.open})(ji);function Pi(e){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mi(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ci(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ei(e,n){return!n||"object"!==Pi(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Ai(e){return(Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vi(e,n){return(Vi=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Bi=function(e){function n(){var e,t;Mi(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=Ei(this,(e=Ai(n)).call.apply(e,[this].concat(o))),Object(h.c)(t.context.store,"citationSelector",ni),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Vi(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){return c.a.createElement(ki,this.props)}}])&&Ci(t.prototype,r),o&&Ci(t,o),n}(l.Component);!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(Bi,"contextTypes",{store:m.a.object});var Ti=t(371),Di=t(460),Ii=t.n(Di);function Ni(e){return(Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ri(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Li(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fi(e,n){return!n||"object"!==Ni(n)&&"function"!=typeof n?Hi(e):n}function zi(e){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qi(e,n){return(qi=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Gi(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ui=function(e){function n(){var e,t;Ri(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Gi(Hi(t=Fi(this,(e=zi(n)).call.apply(e,[this].concat(o)))),"textNode",null),Gi(Hi(t),"setTextNode",(function(e){return t.textNode=e})),Gi(Hi(t),"doiNode",null),Gi(Hi(t),"setDoiNode",(function(e){return t.doiNode=e})),Gi(Hi(t),"onFocusText",(function(){return Object(Ti.b)(t.textNode)})),Gi(Hi(t),"onFocusDoi",(function(){return Object(Ti.b)(t.doiNode)})),Gi(Hi(t),"onBlur",(function(){return Object(Ti.a)()})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&qi(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.className,t=e.text;return t?c.a.createElement("div",{className:ae()(Ii.a.container,n)},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:t},ref:this.setTextNode,className:Ii.a.citationText,role:"textbox",tabIndex:"0",onMouseEnter:this.onFocusText,onMouseLeave:this.onBlur}),this.renderIdentifier()):null}},{key:"renderIdentifier",value:function(){var e=this.props.doi;if(!e)return null;var n="".concat(qo.b).concat(e),t=this.context.theme,r=void 0===t?{}:t;return c.a.createElement("a",{ref:this.setDoiNode,className:ae()(Ii.a.citationDoi,r.citationScreen_doiLink),href:n,rel:"noopener noreferrer",target:"_blank",onMouseEnter:this.onFocusDoi,onMouseLeave:this.onBlur},n)}}])&&Li(t.prototype,r),o&&Li(t,o),n}(l.Component);Gi(Ui,"propTypes",{className:m.a.string,doi:m.a.string,text:m.a.string}),Gi(Ui,"defaultProps",{className:void 0,doi:void 0,text:void 0}),Gi(Ui,"contextTypes",{theme:m.a.object});var Ki=new vo.a({baseURL:"https://widgets.figshare.com",followLocation:!0}),Wi=function(e){return e.citationScreen||{}},Qi=Object(_o.createSelector)(Wi,(function(e){return e.citation.result})),Xi=Object(_o.createSelector)(Wi,(function(e){return e.citation.style})),Yi=Object(_o.createSelector)(Wi,(function(e){return e.entityDefaultCitation})),Zi=Object(_o.createSelector)(Wi,(function(e){return e.entityType})),Ji=Object(_o.createSelector)(Wi,Xi,(function(e,n){return{id:e.entityId,styleId:n[0].style}}));function $i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ea(e,n,t,r,o,i,a){try{var s=e[i](a),f=s.value}catch(e){return void t(e)}s.done?n(f):Promise.resolve(f).then(r,o)}var na=function(){return function(){var e,n=(e=regeneratorRuntime.mark((function e(n,t){var r,o,i,a,s,f,l,c,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yo()({type:"".concat("@@citation-screen","/LOAD_CITATION")}),o=t(),i=Xi(o),$i(i,1)[0].id!==qo.a.id){e.next=7;break}return a=Yi(o),n(r({citation:a})),e.abrupt("return");case 7:if(s=Zi(o),f=Ji(o),n(r({loading:!0})),"article"!==s){e.next=24;break}return e.prev=11,e.next=14,Ki.getArticlePublicCitation(f);case 14:l=e.sent,c=l.citation,n(r({citation:c})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),n(r({error:!0}));case 22:e.next=36;break;case 24:if("collection"!==s){e.next=36;break}return e.prev=25,e.next=28,Ki.getCollectionPublicCitation(f);case 28:u=e.sent,d=u.citation,n(r({citation:d})),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(25),n(r({error:!0}));case 36:case"end":return e.stop()}}),e,null,[[11,19],[25,33]])})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){ea(i,r,o,a,s,"next",e)}function s(e){ea(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,t){return n.apply(this,arguments)}}()},ta=function(e){return function(n){n({type:"".concat("@@citation-screen","/CHANGE_STYLE"),style:e}),n(na())}},ra=function(e,n,t){return function(r){r({type:"".concat("@@citation-screen","/INIT"),entityId:e,entityDefaultCitation:n,entityType:t}),r(na())}},oa={entityId:void 0,entityDefaultCitation:void 0,entityType:void 0,citation:{error:!1,loading:!1,style:[qo.a],result:void 0}};function ia(e,n){var t=n.entityId,r=n.entityDefaultCitation,o=n.entityType,i=oa;return e.citation&&(i=yo()({citation:{style:e.citation.style}},i)),yo()({entityId:t,entityDefaultCitation:r,entityType:o},i)}function aa(e,n){var t=n.loading,r=n.error,o=n.citation,i={loading:!!t,error:!!r};return o&&(i.citation={result:o}),yo()(i,e)}function sa(e,n){var t=n.style;return yo()({citation:{style:t}},e)}var fa=s,la=a,ca=Object(h.b)(f,oa,"@@citation-screen"),ua=t(462),da=t.n(ua);function pa(e){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(){return(ha=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function ga(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ma(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ya(e,n){return!n||"object"!==pa(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function va(e){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ba(e,n){return(ba=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function wa(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var _a=function(e){function n(){return ga(this,n),ya(this,va(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ba(e,n)}(n,e),t=n,(r=[{key:"componentDidMount",value:function(){var e=this.props,n=e.entityId,t=e.entityDefaultCitation,r=e.entityType;(0,e.onInitialize)(n,t,r)}},{key:"render",value:function(){var e=this.context.theme,n=this.props,t=n.citation,r=n.onBack,o=n.isSelectorOpen,i=n.citationStyle,a=n.onCitationStyleChange;if(!t)return null;var s=[da.a.container,wa({},da.a.selectorOpen,o)];return c.a.createElement("div",{className:ae()(s)},c.a.createElement("p",{className:da.a.title},"Cite this item"),c.a.createElement(Ui,ha({},t,{className:da.a.citationContent})),c.a.createElement("div",{className:da.a.footer},c.a.createElement(ve.a,{className:ae()(da.a.backButton,e.citationScreen_backButton),onClick:r},"Back"),c.a.createElement(Bi,{value:i,onChange:a})))}}])&&ma(t.prototype,r),o&&ma(t,o),n}(l.Component);wa(_a,"propTypes",{citationStyle:m.a.array.isRequired,entityId:m.a.number.isRequired,entityType:m.a.oneOf(["article","collection"]).isRequired,onCitationStyleChange:m.a.func.isRequired,onInitialize:m.a.func.isRequired,citation:m.a.object,entityDefaultCitation:m.a.object,isSelectorOpen:m.a.bool,title:m.a.string,onBack:m.a.func}),wa(_a,"defaultProps",{citation:void 0,entityDefaultCitation:{},isSelectorOpen:!1,title:void 0,onBack:function(){}}),wa(_a,"contextTypes",{theme:m.a.object});var xa=Object(y.c)((function(e){return{citation:la.citation(e),citationStyle:la.citationStyle(e),isSelectorOpen:ei.isOpen(e)}}),{onCitationStyleChange:fa.changeCitationStyle,onInitialize:fa.initialize})(_a);function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sa(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ja(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ka(e,n){return!n||"object"!==Oa(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Pa(e){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ma(e,n){return(Ma=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Ca=function(e){function n(){var e,t;Sa(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=ka(this,(e=Pa(n)).call.apply(e,[this].concat(o))),Object(h.c)(t.context.store,"citationScreen",ca),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ma(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){return c.a.createElement(xa,this.props)}}])&&ja(t.prototype,r),o&&ja(t,o),n}(l.Component);function Ea(e){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aa(){return(Aa=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Va(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ba(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ta(e,n){return!n||"object"!==Ea(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Da(e){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ia(e,n){return(Ia=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(Ca,"contextTypes",{store:m.a.object});var Na=function(e){function n(){return Va(this,n),Ta(this,Da(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ia(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){return c.a.createElement("svg",Aa({"aria-hidden":!0,preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 40 40"},this.props,{focusable:!1}),c.a.createElement("g",null,c.a.createElement("path",{d:"m21.7 16.7h5v5h-5v11.6h-5v-11.6h-5v-5h5v-2.1c0-2 0.6-4.5 1.8-5.9 1.3-1.3 2.8-2 4.7-2h3.5v5h-3.5c-0.9 0-1.5 0.6-1.5 1.5v3.5z"})))}}])&&Ba(t.prototype,r),o&&Ba(t,o),n}(l.PureComponent);function Ra(e){return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function La(){return(La=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function Fa(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function za(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,n){return!n||"object"!==Ra(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function qa(e){return(qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ga(e,n){return(Ga=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Ua=function(e){function n(){return Fa(this,n),Ha(this,qa(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ga(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){return c.a.createElement("svg",La({"aria-hidden":!0,preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 40 40"},this.props,{focusable:!1}),c.a.createElement("g",null,c.a.createElement("path",{d:"m31.5 11.7c1.3-0.8 2.2-2 2.7-3.4-1.4 0.7-2.7 1.2-4 1.4-1.1-1.2-2.6-1.9-4.4-1.9-1.7 0-3.2 0.6-4.4 1.8-1.2 1.2-1.8 2.7-1.8 4.4 0 0.5 0.1 0.9 0.2 1.3-5.1-0.1-9.4-2.3-12.7-6.4-0.6 1-0.9 2.1-0.9 3.1 0 2.2 1 3.9 2.8 5.2-1.1-0.1-2-0.4-2.8-0.8 0 1.5 0.5 2.8 1.4 4 0.9 1.1 2.1 1.8 3.5 2.1-0.5 0.1-1 0.2-1.6 0.2-0.5 0-0.9 0-1.1-0.1 0.4 1.2 1.1 2.3 2.1 3 1.1 0.8 2.3 1.2 3.6 1.3-2.2 1.7-4.7 2.6-7.6 2.6-0.7 0-1.2 0-1.5-0.1 2.8 1.9 6 2.8 9.5 2.8 3.5 0 6.7-0.9 9.4-2.7 2.8-1.8 4.8-4.1 6.1-6.7 1.3-2.6 1.9-5.3 1.9-8.1v-0.8c1.3-0.9 2.3-2 3.1-3.2-1.1 0.5-2.3 0.8-3.5 1z"})))}}])&&za(t.prototype,r),o&&za(t,o),n}(l.PureComponent),Ka=t(464),Wa=t.n(Ka);function Qa(e){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xa(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ya(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Za(e,n){return!n||"object"!==Qa(n)&&"function"!=typeof n?$a(e):n}function Ja(e){return(Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function es(e,n){return(es=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ns(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ts=function(e){function n(){var e,t;Xa(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ns($a(t=Za(this,(e=Ja(n)).call.apply(e,[this].concat(o)))),"onFacebookShare",(function(){var e="https://www.facebook.com/sharer/sharer.php?u=".concat(t.shareURL);window.open(e,"facebook-share-dialog","width=626, height=436")})),ns($a(t),"onTwitterShare",(function(){var e="https://twitter.com/intent/tweet?url=".concat(t.shareURL);window.open(e,"twitter-share-dialog","width=626, height=436")})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&es(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.context.theme,n=this.props.onCite;return c.a.createElement("div",{ref:this.setContainerNodeRef,className:Wa.a.container},c.a.createElement("div",{className:Wa.a.item},c.a.createElement(ve.a,{"aria-label":"Facebook",className:Wa.a.facebookButton,onClick:this.onFacebookShare},c.a.createElement(Na,{className:Wa.a.fbIcon})," Share")),c.a.createElement("div",{className:Wa.a.item},c.a.createElement(ve.a,{"aria-label":"Twitter",className:Wa.a.twitterButton,onClick:this.onTwitterShare},c.a.createElement(Ua,{className:Wa.a.twIcon})," Tweet")),c.a.createElement("div",{className:Wa.a.item},c.a.createElement(ve.a,{className:ae()(Wa.a.citeButton,e.shareScreen_citeButton),onClick:n},c.a.createElement("span",{className:Wa.a.buttonText},"Cite item"))))}},{key:"shareURL",get:function(){var e=this.props.entity.url;return encodeURIComponent(e)}}])&&Ya(t.prototype,r),o&&Ya(t,o),n}(l.Component);ns(ts,"propTypes",{entity:m.a.object.isRequired,onCite:m.a.func.isRequired}),ns(ts,"contextTypes",{theme:m.a.object});var rs=t(466),os=t.n(rs);function is(e){return(is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function as(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ss(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fs(e,n){return!n||"object"!==is(n)&&"function"!=typeof n?cs(e):n}function ls(e){return(ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function us(e,n){return(us=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ds(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ps=function(e){function n(){var e,t;as(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return ds(cs(t=fs(this,(e=ls(n)).call.apply(e,[this].concat(o)))),"state",{subScreen:"share"}),ds(cs(t),"onCiteView",(function(){return setTimeout((function(){return t.setState({subScreen:"cite"})}),0)})),ds(cs(t),"onShareView",(function(){return setTimeout((function(){return t.setState({subScreen:"share"})}),0)})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&us(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.arrowOffset,t=e.onClose;return c.a.createElement(Vr.a,{onClose:t},c.a.createElement(Ge.a,{"aria-label":"Share","aria-modal":!1,arrowLocation:"bottom",className:os.a.arrowContainer,role:"dialog",tabIndex:0,xOffset:n},this.renderContent()))}},{key:"renderContent",value:function(){var e=this.props,n=e.entity,t=e.entityType,r=n.title;return"cite"===this.state.subScreen?c.a.createElement(Ca,{entityDefaultCitation:n.citation,entityId:n.id,entityType:t,title:r,onBack:this.onShareView}):c.a.createElement("div",{className:os.a.arrowShareContainer},c.a.createElement("p",{className:os.a.shareTitle},"Share on:"),c.a.createElement(ts,{entity:n,onCite:this.onCiteView}))}}])&&ss(t.prototype,r),o&&ss(t,o),n}(l.Component);ds(ps,"propTypes",{entity:m.a.object.isRequired,entityType:m.a.string.isRequired,arrowOffset:m.a.number,onClose:m.a.func}),ds(ps,"defaultProps",{arrowOffset:0,onClose:function(){}}),ds(ps,"contextTypes",{store:m.a.object,theme:m.a.object});var hs,gs=Object(y.c)((function(e){var n=oe.d.uiState(e).arrowOffset,t=oe.d.currentEntities(e),r=t.collection,o=t.item,i=r.id?r:o,a=r.id?"collection":"article";return{arrowOffset:n.share,entity:i,entityType:a}}),{onClose:oe.a.closeScreens})(ps),ms=t(468),ys=t.n(ms);function vs(e){return(vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bs(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ws(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _s(e,n){return!n||"object"!==vs(n)&&"function"!=typeof n?Os(e):n}function xs(e){return(xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Os(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ss(e,n){return(Ss=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function js(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ks=(js(hs={},re.c.enlarge,Ar),js(hs,re.c.share,gs),hs),Ps=function(e){function n(){var e,t;bs(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return js(Os(t=_s(this,(e=xs(n)).call.apply(e,[this].concat(o)))),"renderInlineViewer",(function(){var e=t.props,n=e.mode,r=e.trackViews,o=e.height,i=e.width;return e.screen===re.c.enlarge?null:c.a.createElement(Ke.a,{file:t.state.fileModel,height:o,mode:n,showControls:n!==re.b,trackFileViews:r,width:i})})),t.state={fileModel:new cr.a(t.props.file)},t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ss(e,n)}(n,e),t=n,(r=[{key:"componentDidUpdate",value:function(e){var n=e.screen===re.c.enlarge,t=this.props.screen===re.c.enlarge;if(!n||!t){var r=n&&!t;(this.props.file.UID!==e.file.UID||r)&&this.setState({fileModel:new cr.a(this.props.file)})}}},{key:"render",value:function(){var e=this.props,n=e.className,t=e.height,r=e.width,o=e.onStartTrackingViews;return c.a.createElement("section",{className:ys.a.mainSection,onFocus:o},c.a.createElement("div",{className:ae()(ys.a.viewerContainer,n),style:{width:r,height:t}},this.renderInlineViewer(),this.renderExpandButton()),this.renderCurrentScreen(),c.a.createElement(ee,null))}},{key:"renderExpandButton",value:function(){var e=this.props,n=e.file,t=e.mode,r=e.onEnlargeToggle;return t===re.b&&Object(Ke.c)(n.viewerType)?c.a.createElement(ve.a,{className:ae()(ys.a.expandButton),onClick:r},c.a.createElement("span",{className:ys.a.expandButtonContent},"Expand")):null}},{key:"renderCurrentScreen",value:function(){var e=this.props,n=e.mode,t=e.screen,r=ks[t];return r?c.a.createElement(r,{mode:n}):null}}])&&ws(t.prototype,r),o&&ws(t,o),n}(l.Component);js(Ps,"propTypes",{file:m.a.object.isRequired,height:m.a.number.isRequired,mode:m.a.oneOf([re.a,re.b]).isRequired,width:m.a.number.isRequired,className:m.a.string,screen:m.a.oneOf(Object.keys(ks)),trackViews:m.a.bool,onEnlargeToggle:m.a.func,onStartTrackingViews:m.a.func}),js(Ps,"defaultProps",{className:void 0,screen:null,trackViews:!1,onEnlargeToggle:function(){},onStartTrackingViews:function(){}}),js(Ps,"contextTypes",{theme:m.a.object});var Ms=Object(y.c)((function(e){var n=oe.d.uiState(e),t=n.trackViews,r=n.activeScreen;return{file:oe.d.currentEntities(e).file,trackViews:t,screen:r}}),{onEnlargeToggle:function(){return oe.a.openScreen(re.c.enlarge)},onStartTrackingViews:oe.a.trackViews})(Ps),Cs=t(470),Es=t.n(Cs);function As(e){return(As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vs(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Bs(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ts(e,n){return!n||"object"!==As(n)&&"function"!=typeof n?Is(e):n}function Ds(e){return(Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Is(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ns(e,n){return(Ns=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Rs(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ls=Object(y.c)((function(e){return{file:oe.d.currentEntities(e).file}}))(ne.a),Fs=function(e){function n(){var e,t;Vs(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Rs(Is(t=Ts(this,(e=Ds(n)).call.apply(e,[this].concat(o)))),"fileNavRef",Object(l.createRef)()),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ns(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.canDisplay,t=e.height,r=e.mode,o=e.width,i=e.FooterComponent,a=e.HeaderComponent,s=e.MainSectionComponent,f=e.showPageInfo,l=e.showShareButton,u=e.showStats;return n?c.a.createElement(H,null,c.a.createElement("article",{className:Es.a.container},c.a.createElement(a,{mode:r,showPageInfo:f,showStats:u}),c.a.createElement("div",{className:Es.a.skipContainer},c.a.createElement(te.a,{className:Es.a.skipButton,focusRef:this.fileNavRef},"Skip to fig",c.a.createElement("b",null,"share")," navigation")),c.a.createElement(s,{height:t,mode:r,width:o}),c.a.createElement(i,{fileNavRef:this.fileNavRef,mode:r,showShareButton:l}),this.renderFileDescription())):null}},{key:"renderFileDescription",value:function(){var e=this.props,n=e.FileDescriptionComponent;return e.showFileDetails?c.a.createElement(n,{className:Es.a.fileDescription}):null}}])&&Bs(t.prototype,r),o&&Bs(t,o),n}(l.Component);Rs(Fs,"propTypes",{canDisplay:m.a.bool.isRequired,showFileDetails:m.a.bool.isRequired,showPageInfo:m.a.bool.isRequired,showShareButton:m.a.bool.isRequired,showStats:m.a.bool.isRequired,FileDescriptionComponent:m.a.elementType,FooterComponent:m.a.elementType,HeaderComponent:m.a.elementType,MainSectionComponent:m.a.elementType,height:m.a.number,mode:m.a.oneOf([re.b,re.a]),width:m.a.number}),Rs(Fs,"defaultProps",{FileDescriptionComponent:Ls,FooterComponent:Jt,HeaderComponent:lr,MainSectionComponent:Ms,fileCount:0,height:650,mode:re.a,width:450});var zs=Object(y.c)((function(e){var n=oe.d.loadingState(e).canDisplay,t=oe.d.optionsState(e);return{canDisplay:n,showFileDetails:t.showFileDetails,showPageInfo:t.showPageInfo,showShareButton:t.showShareButton,showStats:t.showStats}}))(Fs);function Hs(e){return(Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qs(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Gs(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Us(e,n){return!n||"object"!==Hs(n)&&"function"!=typeof n?Ws(e):n}function Ks(e){return(Ks=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ws(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qs(e,n){return(Qs=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function Xs(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Ys=function(e){function n(){var e,t;qs(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Xs(Ws(t=Us(this,(e=Ks(n)).call.apply(e,[this].concat(o)))),"computeViewerClientRect",(function(){var e=t.props,n=e.width,r=e.boxWidth,o="auto"===n||n>r?r:n;return{width:o,height:e.height,mode:o>e.breakPoint?re.a:re.b}})),t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Qs(e,n)}(n,e),t=n,(r=[{key:"getChildContext",value:function(){var e=this.props;return{theme:e.theme,store:e.store}}},{key:"render",value:function(){var e=this.props,n=e.boxHeight,t=e.boxWidth,r=e.store,o=this.computeViewerClientRect(),i=o.height,a=o.mode,s=o.width;return c.a.createElement(y.a,{store:r},c.a.createElement("figshare-widget",{style:{width:s}},c.a.createElement(zs,{boxHeight:n,boxWidth:t,height:i,mode:a,width:s})))}}])&&Gs(t.prototype,r),o&&Gs(t,o),n}(l.Component);Xs(Ys,"propTypes",{boxHeight:m.a.number.isRequired,boxWidth:m.a.number.isRequired,breakPoint:m.a.number.isRequired,height:m.a.number.isRequired,store:m.a.object.isRequired,width:m.a.oneOfType([m.a.string,m.a.number]).isRequired,theme:m.a.object}),Xs(Ys,"defaultProps",{theme:{}}),Xs(Ys,"childContextTypes",{theme:m.a.object,store:m.a.object});var Zs=Object(v.a)(Ys);t(472);function Js(e){return(Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $s(){return($s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function ef(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function nf(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ef(Object(t),!0).forEach((function(n){lf(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ef(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function tf(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function rf(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function of(e,n){return!n||"object"!==Js(n)&&"function"!=typeof n?sf(e):n}function af(e){return(af=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ff(e,n){return(ff=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function lf(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,"a",(function(){return uf}));var cf=function(){},uf=function(e){function n(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tf(this,n),lf(sf(e=of(this,af(n).call(this))),"onLoading",(function(){return e.emit("loading")})),lf(sf(e),"onError",(function(n){return e.emit("error",n)})),lf(sf(e),"onLoad",(function(){return e.emit("load")})),lf(sf(e),"onDone",(function(){return e.emit("done")})),lf(sf(e),"onOpenInFigshare",(function(n){return e.emit("openInFigshare",n)})),lf(sf(e),"onErrorHandler",(function(){})),e.actionsListener=new p.EventEmitter,e._options=nf({height:450,breakPoint:550},t),e._options.width||(e._options.width="auto"),e._container=null,e.store=Object(h.a)({debugName:t.name||"FILES_VIEWER",middlewareList:[oe.c.actionsListener(e.actionsListener)]}),Object(oe.b)(e.store),e.attachActionsHandlers();var r=t.preferFileMetadata,o=void 0!==r&&r,i=t.showFileDetails,a=void 0===i||i,s=t.showPageInfo,f=void 0===s||s,l=t.showShareButton,c=void 0===l||l,u=t.showStats,d=void 0===u||u;return e.store.dispatch(oe.a.initialize({institutionStringId:t.institutionStringId||void 0,collectionQuery:t.collection||null,itemQuery:t.item||t.article||null,preferFileMetadata:o,showFileDetails:a,showPageInfo:f,showShareButton:c,showStats:d})),e.on("error",e.onErrorHandler),e}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ff(e,n)}(n,e),t=n,(r=[{key:"initialize",value:function(){this.store.dispatch(oe.a.loadData())}},{key:"mount",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cf;e&&(this._container&&this.unmount(),this._container=e,d.a.render(this.app,this._container,(function(){n.emit("mount"),t()})))}},{key:"terminate",value:function(){this.actionsListener.removeAllListeners(),this.removeAllListeners()}},{key:"unmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cf;this.removeAllListeners(),this._container&&(d.a.unmountComponentAtNode(this._container),this._container=null,this.emit("unmount"),e())}},{key:"attachActionsHandlers",value:function(){this.actionsListener.on("loading",this.onLoading),this.actionsListener.on("filesError",this.onError),this.actionsListener.on("itemError",this.onError),this.actionsListener.once("canDisplay",this.onLoad),this.actionsListener.on("done",this.onDone),this.actionsListener.on("openInFigshare",this.onOpenInFigshare)}},{key:"app",get:function(){return c.a.createElement(Zs,$s({},this._options,{store:this.store}))}}])&&rf(t.prototype,r),o&&rf(t,o),n}(p.EventEmitter)}}]);